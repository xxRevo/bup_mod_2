### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
### search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}
### search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}
### search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}
### search_filters = {FOCUS_FILTER_HISTORICAL}

# CONSTANT FOR INNER CIRCLE TIMES (This is Focus cost so x7 to get the days) - THE CONSTANTS USED IN THE EVENT FILE need to be these values x7
@inner_circle_time_tier_1 = 20
@inner_circle_time_tier_2 = 20
@inner_circle_time_tier_3 = 40

focus_tree = {
	id = german_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = GER
		}
	}

	initial_show_position = {
		x = 76
		y = 0
	}
	
	#Focus Path shortcuts	
	shortcut = {
		name = GER_oppose_hitler_shortcut
		target = GER_oppose_hitler_ww 
		scroll_wheel_factor = 0.485
		trigger = {
			has_dlc = "Gotterdammerung"
		}
	}

	shortcut = {
		name = GER_oppose_hitler_shortcut
		target = GER_oppose_hitler
		scroll_wheel_factor = 0.55
		trigger = {
			NOT = { has_dlc = "Gotterdammerung" }
		}
	}

	shortcut = {
		name = GER_historical_path_shortcut
		target = GER_remilitarize_the_rhineland
		scroll_wheel_factor = 0.469 #Optional parameter, if left unset will use existing zoomlevel. Warning: there's no good way for this to respect client resolution.
		trigger = {
			always = yes
			# If FALSE, this will not display. If true, it will not supercede allow conditions of target focus.
		}
	}

	shortcut = {
		name = GER_economic_path_shortcut
		target = GER_construct_the_reichsautobahn 
		scroll_wheel_factor = 0.75
	}

	shortcut = {
		name = GER_naval_doctrine_shortcut
		target = GER_strengthen_the_kriegsmarine
		scroll_wheel_factor = 1.0
	}
	
	shortcut = {
		name = GER_air_doctrine_shortcut
		target = GER_expanding_the_luftwaffe
		scroll_wheel_factor = 1.0
	}

	shortcut = {
		name = GER_military_doctrine_shortcut
		target = GER_develop_modern_maneuver_warfare
		scroll_wheel_factor = 1.0
	}

	continuous_focus_position = { x = 500 y = 1300 }

	inlay_window = {
		id = ger_inner_circle_inlay_window
		position = { x = 4500 y = 1150 }
	}
	
	default = no

	alternate_icon_set = FOCUS_ICON_SET_HISTORICAL_KEY_FOCUS
	#alternate_icon_set = FOCUS_ALTERNATE_ICONS
	# ==> Loc key for toggle button : FOCUS_ALTERNATE_ICONS
	# ==> GFX for icon on toggle button : GFX_FOCUS_ALTERNATE_ICONS

	
 ######   #######  ##     ## ##     ##  #######  ##    ##    ########  ########     ###    ##    ##  ######  ##     ## ########  ######  
##    ## ##     ## ###   ### ###   ### ##     ## ###   ##    ##     ## ##     ##   ## ##   ###   ## ##    ## ##     ## ##       ##    ## 
##       ##     ## #### #### #### #### ##     ## ####  ##    ##     ## ##     ##  ##   ##  ####  ## ##       ##     ## ##       ##       
##       ##     ## ## ### ## ## ### ## ##     ## ## ## ##    ########  ########  ##     ## ## ## ## ##       ######### ######    ######  
##       ##     ## ##     ## ##     ## ##     ## ##  ####    ##     ## ##   ##   ######### ##  #### ##       ##     ## ##             ## 
##    ## ##     ## ##     ## ##     ## ##     ## ##   ###    ##     ## ##    ##  ##     ## ##   ### ##    ## ##     ## ##       ##    ## 
 ######   #######  ##     ## ##     ##  #######  ##    ##    ########  ##     ## ##     ## ##    ##  ######  ##     ## ########  ######  



##########################################




	

	focus = {
		id = GER_build_the_rur_dam
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = GER_autobahn }

		x = -1
		y = 2
		relative_position_id = GER_autobahn
		cost = 10
		available = {
			51 = { 
				is_fully_controlled_by = ROOT
				is_demilitarized_zone = no 
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					51 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				51 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			51 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 3547
					}
				}
			}
			custom_effect_tooltip = {
				localization_key = building_state_modifier|dam
				INDENT = "    "
			}
		}
	}
	

	focus = {
		id = GER_expand_the_reichsautobahn_south
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = GER_build_the_rur_dam }

		x = -1
		y = 1
		relative_position_id = GER_build_the_rur_dam
		cost = 5
		available = {
			OR = {
				53 = { #Niederbayern
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				52 = { #Oberbayern
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				152 = { #Upper Austria
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				4 = { #Lower Austria
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
			}
		}
		bypass = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = GER_expand_the_reichsautobahn_south_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					53 = { #Niederbayern
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				53 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					52 = { #Oberbayern
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				52 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					152 = { #Upper Austria
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				152 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					4 = { #Lower Austria
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				4 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					52 = { #Oberbayern
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					152 = { #Upper Austria
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					4 = { #Lower Austria
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				#Regensburg - Wien
				build_railway = {
					path = { 9515 9681 3703 9665 11651 704 11666 }
				}
			}
		}
	}
	
	focus = {
		id = GER_expand_the_reichsautobahn_east
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = GER_build_the_rur_dam}

		x = 1
		y = 1
		relative_position_id = GER_build_the_rur_dam
		cost = 5
		available = {
			OR = {
				68 = { #Ostmark
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				63 = { #Hinterpommern
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				807 = { #Gdynia
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				85 = { #Danzig
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
			}
		}
		bypass = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = GER_expand_the_reichsautobahn_east_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					68 = { #Ostmark
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				68 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					63 = { #Hinterpommern
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				63 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					807 = { #Gdynia
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				807 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					85 = { #Danzig
						infrastructure < 5
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				85 = { 
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					63 = { #Hinterpommern
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					807 = { #Gdynia
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					85 = { #Danzig
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				#Köslin - Danzig
				build_railway = {
					path = { 11372 11343 9263 362 }
				}
			}
		}
	}

	focus = {
		id = GER_develop_heraeus_facilities
		text = "Push The Limits"
		icon = GFX_focus_research
		prerequisite = { focus = GER_rocketry_innovations }
		relative_position_id = GER_rocketry_innovations
		x = -1
		y = 1
		cost = 10
		available = {
			industrial_complex > 49
			date > 1939.3.30
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_research_slot = 1

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_develop_heraeus_facilities
				bonus = 1
				uses = 2
				category = electronics
			}

		}
	}

	focus = {
		id = GER_heavy_water
		text = "Heavy Water Plants"
		icon = GFX_focus_generic_nuclear_development
		prerequisite = { focus = GER_develop_heraeus_facilities }
		relative_position_id = GER_develop_heraeus_facilities
		x = 0
		y = 1
		cost = 10
		available = {
				has_full_control_of_state = 110
				has_full_control_of_state = 920
			date > 1940.1.1
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			920 = {
				add_building_construction = {
					type = nuclear_facility
					level = 1
					instant_build = yes
				}
			}	

		}
	}
	
	focus = {
		id = GER_the_four_year_plan

		icon = GFX_focus_GER_the_four_year_plan
		alternate_icon = GFX_focus_GER_the_four_year_plan_historical

		mutually_exclusive = { focus = GER_prioritize_economic_growth }
		x = 42
		y = 0
		cost = 5
		available = {

		}
		
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_ideas = todt
			add_popularity = { ideology = fascism popularity = 0.09 } 
			add_tech_bonus = {
				name = GER_four_year_plan
				bonus = 1.00
				uses = 2
				technology = advanced_machine_tools
				technology = assembly_line_production
				technology = concentrated_industry3
				technology = concentrated_industry4
				technology = dispersed_industry3
				technology = dispersed_industry4
				technology = construction3
				technology = construction4
			}
		}
	}
	
	focus = {
		id = GER_west_wall
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = GER_the_four_year_plan }
		x = -2
		y = 1
		relative_position_id = GER_the_four_year_plan
		cost = 5
		ai_will_do = {
			factor = 8
		}
			
		completion_reward = {
			50 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = GER_west_wall_forts
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 11640
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6712
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6542
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3530
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 42 = { is_demilitarized_zone = yes } }
				custom_effect_tooltip = GER_west_wall_tt
			}
			42 = {
				custom_effect_tooltip = GER_west_wall_forts
			}
			hidden_effect = {
				42 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = bunker
							level = 5
							province = 3558
							instant_build = yes
						}
						
						add_building_construction = {
							type = bunker
							level = 5
							province = 563
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 11531
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 9575
							instant_build = yes
						}
					}
				}
			}			
		}
	}

focus = {
		id = GER_flak_36
		icon = GFX_GER_Flakabwehr
			relative_position_id = GER_west_wall
		prerequisite = { focus = GER_west_wall }
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = ROM_modern_at_guns
				bonus = 2.0
				uses = 1
				category = cat_anti_tank
			}
	  add_timed_idea = {
    idea = ENG_goods
    days = 75
}

                    66 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					68 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					54 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					51 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					42 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					56 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					59 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					58 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					61  = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					62 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					63 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					57 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					64 = {
						add_building_construction = {
							type = anti_air_building
							level = 5
							instant_build = yes
						}
					}
					
					65 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					60 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					55 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					51 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					42 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					
					50 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					
					52 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					53 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					
					153 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					152 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
					4 = {
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
				}
		    }
		}
	}


	focus = {
		id = GER_ostwall
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = GER_flak_36 }
		available = {
			any_country = {
				OR = {
					tag = GER
					is_in_faction_with = GER
				}
				OR = {
					has_full_control_of_state = 191
					has_full_control_of_state = 209
					has_full_control_of_state = 210
					has_full_control_of_state = 207
					has_full_control_of_state = 206
					has_full_control_of_state = 204
					has_full_control_of_state = 194
					has_full_control_of_state = 202
					has_full_control_of_state = 203
					has_full_control_of_state = 226
					has_full_control_of_state = 200
				}
			}
		}
		x = 0
		y = 2
		relative_position_id = GER_west_wall
		cost = 5
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_ideas = GER_ostwall_idea
			custom_effect_tooltip = GER_ostwall_forts
			custom_effect_tooltip = GER_ostwall_forts_2
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 191 
					}
				}
				hidden_effect = {
					191 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4640
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 209
					}
				}
				hidden_effect = {
					209 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 415
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3310
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 210 
					}
				}
				hidden_effect = {
					210 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 3333
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11259
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9386
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 207 
					}
				}
				hidden_effect = {
					207 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 323
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11241
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11220
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3331
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 206 
					}
				}
				hidden_effect = {
					206 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 9289
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3378
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 204 
					}
				}
				hidden_effect = {
					204 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 6373
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 194 
					}
				}
				hidden_effect = {
					194 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 6319
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9249
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3507
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 202 
					}
				}
				hidden_effect = {
					202 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 9568
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3543
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 525
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3494
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 203 
					}
				}
				hidden_effect = {
					203 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 11454
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 488
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 3468
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6478
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 226 
					}
				}
				hidden_effect = {
					226 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 9433
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11437
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 200 
					}
				}
				hidden_effect = {
					200 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 11405
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 6596
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11700
							instant_build = yes
						}
					}
				}
			}
		}
	}




	focus = {
		id = GER_autarky
		icon = GFX_GER_A_Workers_Struggle
		prerequisite = { focus = GER_the_four_year_plan }
		x = 4
		y = 1
		relative_position_id = GER_the_four_year_plan
		cost = 10
		ai_will_do = {
			factor = 9
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = GER_autarky
				bonus = 1.0
				uses = 2
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
			add_ideas = GER_autarky_idea
		}
	}

	focus = {
		id = GER_hermann_goring_werke
		icon = GFX_GER_Goerings_Four_Year_Plan
		dynamic = yes
		prerequisite = { focus = GER_autarky }
		x = 2
		y = 1
		relative_position_id = GER_autarky
		cost = 10
		ai_will_do = {
			factor = 9
		}

		available_if_capitulated = no

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_industrial_effort_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}	
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2IC
			}
		}
	}

	focus = {
		id = GER_kdf_wagen
		icon = GFX_focus_GER_kdf
		dynamic = yes
		prerequisite = { focus = GER_hermann_goring_werke }
		x = 0
		y = 1
		relative_position_id = GER_hermann_goring_werke
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = no

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_industrial_effort_2_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_industrial_effort_2_2IC
			}
		}
	}

	focus = {
		id = GER_coal_liquidization
		icon = GFX_GER_IG_Farben
		prerequisite = { focus = GER_autarky }
		x = 0
		y = 1
		relative_position_id = GER_autarky
		cost = 5
		ai_will_do = {
			factor = 4
		}

		available = {
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
		completion_reward = {
        	modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 2
        	}
		}
		
	}

	focus = {
		id = GER_synthetic_rubber
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = GER_coal_liquidization }
		x = 0
		y = 1
		relative_position_id = GER_coal_liquidization
		cost = 5
		ai_will_do = {
			factor = 4
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = GER_coal_liquidization
				bonus = 3.0
				uses = 2
				category = synth_resources
			}
			65 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = synthetic_refinery
					level = 3
					instant_build = yes
				}
			}
			68 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = synthetic_refinery
					level = 3
					instant_build = yes
				}
			}
			
		}
	}

	focus = {
		id = GER_mineraloelsicherungsplan
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = GER_synthetic_rubber focus = GER_german_war_economy } 
		x = -1
		y = 1
		relative_position_id = GER_synthetic_rubber
		cost = 5
		available = {
		or = {	has_war_with = SOV 
		
		date > 1941.1.1
		}
		
		}
		 
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
		add_timed_idea={idea=GER_mineraloelsicherungsplan days=180}	
			
		}
	}

	focus = {
		id = GER_extra_tech_slot
		icon = GFX_focus_research
		prerequisite = { focus = GER_kdf_wagen focus = GER_synthetic_rubber }
		x = -1
		y = 1
		relative_position_id = GER_kdf_wagen
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = GER_autobahn
		icon = GFX_focus_GER_reichsautobahn
		prerequisite = { focus = GER_autarky }
		x = -2
		y = 1
		relative_position_id = GER_autarky
		cost = 5
		ai_will_do = {
			factor = 12
		}

		available = {
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = GER_autobahn_tt
			hidden_effect = {
				64 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				59 = {
					if = {
						limit = { is_controlled_by = ROOT }

						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				60 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
				54 = {
					if = {
						limit = { is_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 10
							instant_build = yes
						}
					}
				}
			}		
		}
	}

	focus = {
		id = GER_german_war_economy
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = GER_autobahn }
		x = 0
		y = 1
		relative_position_id = GER_autobahn
		cost = 5
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = no
		available = {
			
		}
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = GER_german_war_economy }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}every_state = {
				limit = { has_state_flag = GER_german_war_economy_syn }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					has_idea = war_economy
				}
				add_political_power = 150
			}
			else = {
				add_ideas = war_economy
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_german_war_economy
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_german_war_economy_syn
			}
		}
	}

	focus = {
		id = GER_grosraumwirtschaft
		icon = GFX_GER_Deutsches_Reichbahn
		prerequisite = { focus = GER_the_four_year_plan }
		x = 0
		y = 1
		relative_position_id = GER_the_four_year_plan
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = GER_grosraumwirtschaft
		}
	}
		focus = {
		id = GER_align_hungary
		icon = GFX_GER_A_Union_of_Equals
		prerequisite = { focus = GER_grosraumwirtschaft }
		x = 0
		y = 1
		relative_position_id = GER_grosraumwirtschaft
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
			HUN = {
				OR = {
					exists = no
					is_subject = yes			
					AND = {
						is_subject = no
						is_in_faction_with = ROOT
					}
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					has_government = fascism
				}
				HUN = {
					add_timed_idea = { idea = GER_align_hungary days = 730 }
				}
			}	
			
						if = {
				limit = {
					has_government = fascism
				}
				ROM = {
					add_timed_idea = { idea = GER_align_hungary days = 730 }
				}
			}	
			
						if = {
				limit = {
					has_government = fascism
				}
				BUL = {
					add_timed_idea = { idea = GER_align_hungary days = 730 }
				}
			}	
			
		}
	}







	focus = {
		id = GER_develop_modern_maneuver_warfare
		icon = GFX_focus_GER_army
		#prerequisite = { focus = }

		x = 8
		y = 0
		#relative_position_id = GER_prioritize_economic_growth
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_command_power = 25
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			#add_doctrine_cost_reduction = {
			#	name = GER_develop_modern_maneuver_warfare
			#	cost_reduction = 0.25
			#	uses = 1
			#	category = land_doctrine
			#}
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = walther_von_brauchitsch

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = henschel
					}
					swap_ideas = {
						remove_idea = henschel
						add_idea = GER_henschel_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = henschel
							add_idea = GER_henschel_improved
						}
					}
				}
			}
			else = {
				mio:GER_henschel_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_fortify_the_vaterland
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = GER_treaty_with_the_ussr }

		x = 0
		y = 1
		relative_position_id = GER_treaty_with_the_ussr
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_tech_bonus = {
				name = GER_fortify_the_vaterland
				bonus = 0.5
				uses = 2
				category = cat_fortification
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_fortify_the_vaterland_idea
				days = 730
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_fortify_the_vaterland_unlock_decision_tt
		}
	}
	
	focus = {
		id = GER_the_prussian_legacy
		icon = GFX_focus_GER_prussian_legacy
		prerequisite = { focus = GER_treaty_with_the_ussr }
		mutually_exclusive = { focus = GER_adopt_new_panzer_doctrine }
		x = -2
		y = 2
		relative_position_id = GER_treaty_with_the_ussr
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			add_command_power = 25
			army_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_the_prussian_legacy
				cost_reduction = 0.5
				uses = 2
				category = cat_grand_battle_plan
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_operational_planning_bewegungskrieg_tt
			effect_tooltip = { #This is done for tooltip purposes
				add_dynamic_modifier = { modifier = GER_bewegungskrieg_modifier }
			}
		}
	}
	
	focus = {
		id = GER_improve_motorized_troops
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = GER_the_prussian_legacy }

		x = -3
		y = 1
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			if = {
				limit = {
					has_character = GER_oswald_lutz
					NOT = { has_completed_focus = GER_reorganize_the_wehrmacht }
				}
				every_unit_leader = {
					limit = {
						is_character = GER_oswald_lutz
					}
					add_skill_level = 1
					add_attack = 1
					add_planning = 1
					add_logistics = 1
				}
				if = {
					limit = {
						GER_oswald_lutz = {
							NOT = {
								has_trait = trickster
							}
						}
					}
					add_trait = {
					    character = GER_oswald_lutz
					    trait = trickster
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes			
			add_to_variable = { 
				GER_military_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = GER_alkett
					}
					swap_ideas = {
						remove_idea = GER_alkett
						add_idea = GER_alkett_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_alkett
							add_idea = GER_alkett_improved
						}
					}
				}
			}
			else = {
				mio:GER_alkett_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}

	focus = {
		id = GER_lessons_of_the_great_war
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = GER_the_prussian_legacy }

		x = -1
		y = 1
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			army_experience = 15
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_lessons_of_the_great_war
				cost_reduction = 0.25
				uses = 2
				category = land_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_friedrich_schulz
			show_unit_leaders_tooltip = GER_ernsteberhard_hell

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_max_dig_in_factor = 0.1
				tooltip = max_dig_in_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_bewegungskrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_bewegungskrieg_army_infantry_attack_factor = 0.05
					tooltip = army_infantry_attack_factor_tt
				}
			}
		}
	}			

	focus = {
		id = GER_artillery_bombardment
		icon = GFX_focus_SWE_let_fly_all_guns
		prerequisite = { focus = GER_lessons_of_the_great_war }
		prerequisite = { focus = GER_improve_motorized_troops }

		x = 1
		y = 1
		relative_position_id = GER_improve_motorized_troops
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			
			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:GER_rheinmetall_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05
				}
				mio:GER_mauser_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.1
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_tech_bonus = {
				name = GER_artillery_bombardment
				bonus = 0.5
				uses = 2
				category = artillery
			}
			add_tech_bonus = {
				name = GER_artillery_bombardment
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}

			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				create_equipment_variant = {
					name = "Sturmpanzer"
					design_team = mio:GER_alkett_organization #We feed on your tears
					parent_version = 0
					type = medium_tank_artillery_chassis_1
					modules = {
						main_armament_slot = tank_medium_howitzer
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 2
					}
					icon = "GFX_GER_basic_medium_art_medium"
				}

				create_equipment_variant = {
					name = "Nashorn"
					design_team = mio:GER_alkett_organization #We feed on your tears
					parent_version = 0
					type = medium_tank_destroyer_chassis_1
					modules = {
						main_armament_slot = tank_medium_cannon
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 2
					}
					icon = "GFX_GER_basic_light_td"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_army_artillery_defence_factor = 0.1
				tooltip = army_artillery_defence_factor_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						has_dlc = "Gotterdammerung"
						has_dlc = "No Step Back"
					}
				}
				GER_add_or_modify_wunderwaffen = yes
				add_to_variable = { 
					GER_wunderwaffen_sp_tag_artillery_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_tag_artillery_speed_factor_tt
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			custom_effect_tooltip = GER_modify_bewegungskrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_bewegungskrieg_army_artillery_attack_factor = 0.1
					tooltip = army_artillery_attack_factor_tt
				}
			}
		}
	}
	
	focus = {
		id = GER_stormtroopers
		icon = GFX_focus_CHL_departemento_de_las_tropas_nacistas_de_asalto
		prerequisite = { focus = GER_artillery_bombardment }

		x = 0
		y = 1
		relative_position_id = GER_artillery_bombardment
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			army_experience = 15
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_stormtroopers
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = GER_stormtroopers
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_bewegungskrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_bewegungskrieg_army_infantry_attack_factor = 0.05
					tooltip = army_infantry_attack_factor_tt
				}
				add_to_variable = { 
					GER_bewegungskrieg_breakthrough_factor = 0.05
					tooltip = breakthrough_factor_tt
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_sturmtruppe_battalion_tt
			hidden_effect = {
				set_technology = { sturmtruppe_battalion_tech = 1 popup = no }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_friedrich_schulz				
				}
				if = {
					limit = {
						GER_friedrich_schulz = {
							NOT = { 
								has_trait = brilliant_strategist
							}
						}
					}
					GER_friedrich_schulz = {
						add_trait = { trait = brilliant_strategist }
					}
				}
			}
			if = {
				limit = {
					has_character = GER_ernsteberhard_hell				
				}
				if = {
					limit = {
						GER_ernsteberhard_hell = {
							NOT = { 
								has_trait = brilliant_strategist
							}
						}
					}
					GER_ernsteberhard_hell = {
						add_trait = { trait = brilliant_strategist }
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_all_terrain_military_motorcycle
		icon = GFX_focus_generic_motor_cycle
		prerequisite = { focus = GER_the_prussian_legacy focus = GER_adopt_new_panzer_doctrine }

		x = 1
		y = 1
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_tech_bonus = {
				name = GER_all_terrain_military_motorcycle
				uses = 1
				bonus = 0.5
				category = military_police_tech
			}

			if = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				if = {
					limit = {
						NOT = { has_tech = sp_armored_motorized_military_police_tech }
					}
					add_tech_bonus = {
						name = GER_all_terrain_military_motorcycle
						uses = 1
						bonus = 1
						technology = sp_armored_motorized_military_police_tech
					}
				}
				add_equipment_bonus = {
					name = GER_all_terrain_military_motorcycle
					bonus = {
						motorbike_equipment_1 = {
							build_cost_ic = -0.25
						}
					}
				}
			}

			if = {
				limit = {
					controls_state = 54
					54 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				54 = { #Franken
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_salvage_captured_equipment
		icon = GFX_focus_generic_tank_assembly
		prerequisite = { focus = GER_the_prussian_legacy focus = GER_adopt_new_panzer_doctrine }

		x = 3
		y = 1
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
			has_war_with_major = yes
		}
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			random_owned_state = {
				limit = {
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_alfred_becker

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_equipment_capture = 0.05
				tooltip = equipment_capture_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_equipment_conversion_speed = 0.1
				tooltip = equipment_conversion_speed_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_army_leader = {
				limit = {
					NOT = { has_trait = scavenger }
				}
				random_select_amount = 2
				add_trait = { trait = scavenger }
			}
		}
	}
	
	focus = {
		id = GER_instill_auftragstaktik
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = GER_the_prussian_legacy focus = GER_adopt_new_panzer_doctrine }

		x = 2
		y = 2
		relative_position_id = GER_the_prussian_legacy
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = GER_instill_auftragstaktik
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_initiative_factor = 0.1
				tooltip = initiative_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = franz_halder

			if = {
				limit = {
					has_character = GER_gerd_von_rundstedt
					GER_gerd_von_rundstedt = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				GER_gerd_von_rundstedt = {
					promote_leader = yes
				}
			}

			if = {
				limit = {
					has_character = GER_gunther_von_kluge
					GER_gunther_von_kluge = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				GER_gunther_von_kluge = {
					promote_leader = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_establish_the_afrikakorps
		icon = GFX_focus_GER_afrikakorps
		prerequisite = { focus = GER_instill_auftragstaktik }

		x = -2
		y = 1
		relative_position_id = GER_instill_auftragstaktik
		cost = 5
		available = {
			OR = {
				AND = {
					any_controlled_state = {
						is_fully_controlled_by = ROOT
						OR =  {
							is_on_continent = africa
							is_on_continent = asia
						}
					}
				}
				AND = {
					any_subject_country = {
						any_controlled_state = {
							is_fully_controlled_by = PREV
							OR =  {
								is_on_continent = africa
								is_on_continent = asia
							}
						}
					}
				}
				AND = {
					any_allied_country = {
						any_controlled_state = {
							is_fully_controlled_by = PREV
							OR =  {
								is_on_continent = africa
								is_on_continent = asia
							}
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_prussian_legacy}
					has_character = GER_erwin_rommel
					GER_erwin_rommel = {
						NOT = { has_trait = desert_fox }
					}
				}
				GER_erwin_rommel = {
					add_trait = { trait = desert_fox }
				}
			}
			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_prussian_legacy}
					has_character = GER_walther_nehring
					GER_walther_nehring = {
						NOT = { has_trait = desert_fox }
					}
				}
				GER_walther_nehring = {
					add_trait = { trait = desert_fox }
				}
			}

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_acclimatization_hot_climate_gain_factor = 0.1
				tooltip = acclimatization_hot_climate_gain_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_operational_planning_in_africa_tt
		}
	}

	focus = {
		id = GER_establish_the_skijager
		icon = GFX_focus_GER_gebirgsjager
		prerequisite = { focus = GER_instill_auftragstaktik }

		x = 2
		y = 1
		relative_position_id = GER_instill_auftragstaktik
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_special_forces_cap = 0.05
				tooltip = special_forces_cap_tt
			}
			add_to_variable = { 
				GER_military_acclimatization_cold_climate_gain_factor = 0.1
				tooltip = acclimatization_cold_climate_gain_factor_tt
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_doctrine_cost_reduction = {
					name = GER_establish_the_skijager
					cost_reduction = 0.25
					uses = 2
					category = cat_mountaineers_doctrine
				}
			}
			add_tech_bonus = {
				name = GER_establish_the_skijager
				bonus = 0.5
				uses = 1
				category = mountaineers_tech
			}
		}
	}
	
	focus = {
		id = GER_panzergrenadier
		icon = GFX_focus_generic_mechanized
		prerequisite = { focus = GER_instill_auftragstaktik }

		x = 0
		y = 1
		relative_position_id = GER_instill_auftragstaktik
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_tech_bonus = {
				name = GER_panzergrenadier
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_completed_focus = GER_the_prussian_legacy }
					NOT = { has_completed_focus = GER_adopt_new_panzer_doctrine }
				}
				custom_effect_tooltip = GER_modify_bewegungskrieg_or_blitzkrieg_tt
				effect_tooltip = {
					add_to_variable = { 
						GER_motor_and_mech_attack_motorized_attack_factor = 0.05
						tooltip = motorized_attack_factor_tt
					}
					add_to_variable = { 
						GER_motor_and_mech_attack_mechanized_attack_factor = 0.05
						tooltip = mechanized_attack_factor_tt
					}
				}
			}
			if = {
				limit = {
					has_completed_focus = GER_adopt_new_panzer_doctrine
				}
				custom_effect_tooltip = GER_modify_blitzkrieg_modifier_tt
				effect_tooltip = {
					add_to_variable = { 
						GER_motor_and_mech_attack_motorized_attack_factor = 0.1
						tooltip = motorized_attack_factor_tt
					}
					add_to_variable = {
						GER_motor_and_mech_attack_mechanized_attack_factor = 0.1
						tooltip = mechanized_attack_factor_tt
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_the_prussian_legacy
				}
				custom_effect_tooltip = GER_modify_bewegungskrieg_modifier_tt
				effect_tooltip = {
					add_to_variable = { 
						GER_motor_and_mech_attack_motorized_attack_factor = 0.1
						tooltip = motorized_attack_factor_tt
					}
					add_to_variable = {
						GER_motor_and_mech_attack_mechanized_attack_factor = 0.1
						tooltip = mechanized_attack_factor_tt
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_auto_union
					}
					swap_ideas = {
						remove_idea = GER_auto_union
						add_idea = GER_auto_union_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_auto_union
							add_idea = GER_auto_union_improved
						}
					}
				}
			}
			else = {
				mio:GER_auto_union_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_schwerer_panzerspahwagen
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_nationalize_ford_factories
		icon = GFX_focus_generic_truck
		prerequisite = { focus = GER_panzergrenadier }

		x = -3
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5
		available = {
			has_war = yes
			51 = {
				is_fully_controlled_by = ROOT
			}

		}
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {
			51 = { #Rhineland
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_nationalize_ford_factories
				bonus = 0.5
				uses = 1
				category = cat_mechanized_equipment
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_tech_bonus = {
					name = GER_nationalize_ford_factories
					bonus = 1
					uses = 1
					category = cat_armored_cars
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				set_technology = {
					GER_heavy_armored_car = 1
					popup = yes
				}
				custom_effect_tooltip = GER_heavy_armored_car_recon_company_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = opel
					}
					swap_ideas = {
						remove_idea = opel
						add_idea = GER_opel_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = opel
							add_idea = GER_opel_improved
						}
					}
				}
				if = {
					limit = {
						has_idea = GER_daimler_benz
					}
					swap_ideas = {
						remove_idea = GER_daimler_benz
						add_idea = GER_daimler_benz_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_daimler_benz
							add_idea = GER_daimler_benz_improved
						}
					}
				}
			}
			else = {
				mio:GER_opel_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_continental_ag_tires
					unlock_mio_trait_tooltip = GER_mio_trait_ford_facilities
				}
				mio:GER_daimler_benz_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_kriegslokomotiven
		icon = GFX_focus_GER_kriegslokomotive
		prerequisite = { focus = GER_panzergrenadier }

		x = 3
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5
		available = {
			has_war = yes
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					controls_state = 64
				}
				64 = { #Brandenburg
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_kriegslokomotiven
				bonus = 0.5
				uses = 1
				category = train_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 15
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_idea = GER_deutsche_reichsbahn
				}
				swap_ideas = {
					remove_idea = GER_deutsche_reichsbahn
					add_idea = GER_deutsche_reichsbahn_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_deutsche_reichsbahn
						add_idea = GER_deutsche_reichsbahn_improved
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_improve_the_logistics_system
		icon = GFX_focus_generic_reinforcing_the_supply_network
		mutually_exclusive = { focus = GER_defend_the_vaterland }
		prerequisite = { focus = GER_panzergrenadier }

		x = -1
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5
		available = {
			has_war = yes
		}
		continue_if_invalid = yes

		search_filters = {}

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_supply_factor = 0.15
				tooltip = supply_factor_tt
			}
			add_to_variable = { 
				GER_military_army_fuel_consumption_factor = -0.1
				tooltip = army_fuel_consumption_factor_tt
			}
		}
	}
	
	focus = {
		id = GER_defend_the_vaterland
		icon = GFX_goal_generic_defence
		mutually_exclusive = { focus = GER_improve_the_logistics_system }
		prerequisite = { focus = GER_panzergrenadier }

		x = 1
		y = 1
		relative_position_id = GER_panzergrenadier
		cost = 5
		available = {
			has_war = yes
		}

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_timed_idea = {
				idea = GER_defend_the_vaterland_ns
				days = 545
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_gerd_von_rundstedt
					GER_gerd_von_rundstedt = {
						is_field_marshal = yes
					}
				}
				if = {
					limit = {
						GER_gerd_von_rundstedt = {
							NOT = { 
								has_trait = defensive_doctrine
							}
						}
					}
					GER_gerd_von_rundstedt = {
						add_trait = { trait = defensive_doctrine }
					}
				}
			}

			if = {
				limit = {
					has_character = GER_gunther_von_kluge
					GER_gunther_von_kluge = {
						is_field_marshal = yes
					}
				}
				if = {
					limit = {
						GER_gunther_von_kluge = {
							NOT = { 
								has_trait = defensive_doctrine
							}
						}
					}
					GER_gunther_von_kluge = {
						add_trait = { trait = defensive_doctrine }
					}
				}
			}

			if = {
				limit = {
					has_character = GER_albert_kesselring				
				}
				if = {
					limit = {
						GER_albert_kesselring = {
							is_field_marshal = yes
							NOT = { 
								has_trait = offensive_doctrine
							}
						}
					}
					if = {
						limit = {
							GER_albert_kesselring = {
								NOT = { 
									has_trait = defensive_doctrine
								}
							}
						}
						GER_albert_kesselring = {
							add_trait = { trait = defensive_doctrine }
						}
					}
					else_if = {
						limit = {
							GER_albert_kesselring = {
								has_trait = defensive_doctrine
								NOT = { 
									has_trait = unyielding_defender
								}
							}
						}
						GER_albert_kesselring = {
							add_trait = { trait = unyielding_defender }
						}
					}
				}
			}
			if = {
				limit = {
					has_character = GER_gotthard_heinrici
				}
				if = {
					limit = {
						GER_gotthard_heinrici = {
							NOT = { 
								has_trait = trait_cautious
							}
						}
					}
					GER_gotthard_heinrici = {
						add_trait = { trait = trait_cautious }
					}
				}
				if = {
					limit = {
						GER_gotthard_heinrici = {
							is_field_marshal = yes
							NOT = { 
								has_trait = offensive_doctrine
							}
						}
					}
					if = {
						limit = {
							GER_gotthard_heinrici = {
								NOT = { 
									has_trait = defensive_doctrine
								}
							}
						}
						GER_gotthard_heinrici = {
							add_trait = { trait = defensive_doctrine }
						}
					}
					else_if = {
						limit = {
							GER_gotthard_heinrici = {
								has_trait = defensive_doctrine
								NOT = { 
									has_trait = unyielding_defender
								}
							}
						}
						GER_gotthard_heinrici = {
							add_trait = { trait = unyielding_defender }
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = GER_uranverein
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = GER_improve_the_logistics_system focus = GER_defend_the_vaterland }
		x = 1
		y = 1
		relative_position_id = GER_improve_the_logistics_system
		cost = 5
		available = {
			has_war_with_major = yes
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_tech = atomic_research }
				}
				add_tech_bonus = {
					name = GER_uranverein
					bonus = 1.0
					uses = 1
					category = nuclear
				}
			}
			else = {
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.5
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						NOT = { is_special_project_completed = sp:sp_nuclear_reactor }
						NOT = { is_special_project_completed = sp:sp_nuclear_bomb }
						AND = {
							has_dlc = "Gotterdammerung"
							NOT = { is_special_project_completed = sp:sp_nuclear_warheads }
						}
					}
				}
				GER_add_or_modify_wunderwaffen = yes
			}
			if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_nuclear_reactor }
				}
				add_to_variable = { 
					GER_wunderwaffen_sp_nuclear_reactor_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_nuclear_reactor_speed_factor_tt
				}
			}

			if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_nuclear_bomb }
				}
				add_to_variable = { 
					GER_wunderwaffen_sp_nuclear_bomb_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_nuclear_bomb_speed_factor_tt
				}
			}
			if = {
				limit = {
					has_dlc = "Gotterdammerung"
					NOT = { is_special_project_completed = sp:sp_nuclear_warheads }
				}
				add_to_variable = { 
					GER_wunderwaffen_sp_nuclear_warheads_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_nuclear_warheads_speed_factor_tt
				}
			}
		}
	}
	
	focus = {
		id = GER_adopt_new_panzer_doctrine

		icon = GFX_focus_generic_tank_assault
		alternate_icon = GFX_focus_GER_adopt_new_panzer_doctrine_historical

		prerequisite = { focus = GER_treaty_with_the_ussr }
		mutually_exclusive = { focus = GER_the_prussian_legacy }
		x = 2
		y = 2
		relative_position_id = GER_treaty_with_the_ussr
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			add_command_power = 25
			army_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_adopt_new_panzer_doctrine
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_heinz_guderian
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = heinz_guderian
			show_unit_leaders_tooltip = GER_erwin_rommel
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = erwin_rommel

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_unlock_operational_planning_blitzkrieg_tt
			effect_tooltip = { #This is done for tooltip purposes
				add_dynamic_modifier = { modifier = GER_blitzkrieg_modifier }
			}
		}
	}
	
	focus = {
		id = GER_panzer_troops_school
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = GER_adopt_new_panzer_doctrine }

		x = 1
		y = 1
		relative_position_id = GER_adopt_new_panzer_doctrine
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			army_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_adopt_new_panzer_doctrine
				cost_reduction = 0.25
				uses = 2
				category = land_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_hasso_von_manteuffel
			show_unit_leaders_tooltip = GER_walther_nehring

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes			
			add_to_variable = { 
				GER_military_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}
		}
	}
	
	focus = {
		id = GER_advanced_panzer_research
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = GER_adopt_new_panzer_doctrine }

		x = 3
		y = 1
		relative_position_id = GER_adopt_new_panzer_doctrine
		cost = 10
		available = {
			has_tech = radio
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_advanced_panzer_research
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_medium_armor
			}


			if = {
				limit = { 
					has_dlc = "No Step Back"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Panzer III Ausf. A"
					type = medium_tank_chassis_1
					design_team = mio:GER_daimler_benz_organization #We feed on your tears
					parent_version = 0
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 3
					}
					icon = "GFX_GER_basic_medium_tank_medium"
				}
				create_equipment_variant = {
					name = "Panzer IV"
					type = medium_tank_chassis_1
					design_team = mio:GER_daimler_benz_organization #We feed on your tears
					parent_version = 0
					modules = {
						main_armament_slot = tank_close_support_gun
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 2
					}
					icon = "GFX_GER_basic_medium_tank_medium"
				}
				create_equipment_variant = {
					name = "Sturmgeschütz III"
					design_team = mio:GER_alkett_organization #We feed on your tears
					parent_version = 0
					type = medium_tank_artillery_chassis_1
					modules = {
						main_armament_slot = tank_medium_howitzer
						turret_type_slot = tank_medium_fixed_superstructure_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
					}
					upgrades = {
						tank_nsb_engine_upgrade = 4
						tank_nsb_armor_upgrade = 3
					}
					icon = "GFX_GER_basic_medium_td_medium"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_coordination_bonus = 0.05
				tooltip = coordination_bonus_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_blitzkrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_blitzkrieg_army_armor_speed_factor = 0.05
					tooltip = army_armor_speed_factor_tt
				}
				add_to_variable = { 
					GER_blitzkrieg_army_armor_attack_factor = 0.05
					tooltip = army_armor_attack_factor_tt
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = GER_MAN
					}
					swap_ideas = {
						remove_idea = GER_MAN
						add_idea = GER_MAN_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_MAN
							add_idea = GER_MAN_improved
						}
					}
				}
			}
			else = {
				mio:GER_MAN_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_expand_kummersdorfs_capacity
		icon = GFX_focus_generic_heavy_tank
		prerequisite = { focus = GER_advanced_panzer_research }
		prerequisite = { focus = GER_panzer_troops_school }

		x = 1
		y = 1
		relative_position_id = GER_panzer_troops_school
		cost = 5
		available = {
			has_war_with_major = yes
		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_heavy_armor
			}
			add_tech_bonus = {
				name = GER_expand_kummersdorfs_capacity
				bonus = 1
				uses = 1
				category = cat_medium_armor
			}
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}

			
			if = {
				limit = { 
					has_dlc = "No Step Back"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Panther Ausf. A"
					type = medium_tank_chassis_3
					design_team = mio:GER_man_organization #We feed on your tears
					modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_interleaved_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = sloped_armor
						special_type_slot_3 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 4
					}
					icon = "GFX_GER_advanced_medium_tank_medium"
				}
				create_equipment_variant = {
					name = "Tiger I Ausf. A"
					type = heavy_tank_chassis_2
					design_team = mio:GER_porsche_organization #We feed on your tears
					modules = {
						main_armament_slot = tank_heavy_cannon
						turret_type_slot = tank_heavy_three_man_tank_turret
						suspension_type_slot = tank_interleaved_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = smoke_launchers
						special_type_slot_3 = additional_machine_guns
					}
					upgrades = {
						tank_nsb_engine_upgrade = 8
						tank_nsb_armor_upgrade = 6
					}
					icon = "GFX_GER_advanced_heavy_tank_medium"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_tank_speed_factor = GER_wunderwaffe_research_speed_bonus
				tooltip = sp_tag_tank_speed_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_modify_blitzkrieg_modifier_tt
			effect_tooltip = {
				add_to_variable = { 
					GER_blitzkrieg_army_armor_attack_factor = 0.05
					tooltip = army_armor_attack_factor_tt
				}
				add_to_variable = { 
					GER_blitzkrieg_breakthrough_factor = 0.05
					tooltip = breakthrough_factor_tt
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny"}
				}
				if = {
					limit = {
						has_idea = porsche
					}
					swap_ideas = {
						remove_idea = porsche
						add_idea = GER_porsche_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = porsche
							add_idea = GER_porsche_improved
						}
					}
				}
			}
			else = {
				mio:GER_porsche_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_combined_arms

		icon = GFX_focus_generic_tank_air_support
		alternate_icon = GFX_focus_GER_combined_arms_historical

		prerequisite = { focus = GER_advanced_panzer_research }
		prerequisite = { focus = GER_dive_bombers }

		x = 1
		y = 1
		relative_position_id = GER_advanced_panzer_research
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_air_superiority_bonus_in_combat = 0.1
				tooltip = air_superiority_bonus_in_combat_tt
			}
			add_to_variable = { 
				GER_military_coordination_bonus = 0.05
				tooltip = coordination_bonus_tt
			}
		}
	}


	#LUFTWAFFE
	focus = {
		id = GER_expanding_the_luftwaffe
		icon = GFX_focus_GER_airforce
		#prerequisite = { focus = }

		x = 12
		y = 0
		relative_position_id = GER_develop_modern_maneuver_warfare
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_CHARACTER }

		complete_tooltip = {
			
			air_experience = 25
			every_state = {
				limit = { has_state_flag = GER_expanding_the_luftwaffe_flag }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = GER_expanding_the_luftwaffe_flag }
				add_building_construction = {
					type = air_base
					level = 6
					instant_build = yes
				}
			}
		}
		
		completion_reward = {			
			
			air_experience = 25

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							air_base > 3
							air_base < 9
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 5
						}
					}
					add_building_construction = {
						type = air_base
						level = 6
						instant_build = yes
					}
					set_state_flag = GER_expanding_the_luftwaffe_flag
				}				
			}

			random_owned_controlled_state = {
				limit = {
					air_base > 3
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_expanding_the_luftwaffe_flag
			}
			random_owned_controlled_state = {
				limit = {
					air_base > 3
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_expanding_the_luftwaffe_flag
			}
			random_owned_controlled_state = {
				limit = {
					air_base > 2
					air_base < 9
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_expanding_the_luftwaffe_flag
			}
			
			
			
			
			IF = {
				limit = { has_dlc = "Gotterdammerung" }
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_unlocks_eben_emael_raid_tt

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = ritter_von_greim
		}
	}
	
	focus = {
		id = GER_aeronautical_research_institute
		icon = GFX_focus_generic_air_research_boost

		x = -3
		y = 1
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					controls_state = 59
				}
				59 = { #Hannover
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_aeronautical_research_institute
				bonus = 0.25
				uses = 2
				category = air_equipment
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_arado_flugzeugwerke
					}
					swap_ideas = {
						remove_idea = GER_arado_flugzeugwerke
						add_idea = GER_arado_flugzeugwerke_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_arado_flugzeugwerke
							add_idea = GER_arado_flugzeugwerke_improved
						}
					}
				}
			}
			else = {
				mio:GER_arado_flugzeugwerke_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_dive_bombers

		icon = GFX_focus_generic_cas_aircraft
		alternate_icon = GFX_focus_GER_sturzkampfbomber_historical

		prerequisite = { focus = GER_air_innovation }
		mutually_exclusive = { focus = GER_tactical_bombers focus = GER_uralbomber_program }
		x = -2
		y = 1
		relative_position_id = GER_air_innovation
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = GER_dive_bombers
				cost_reduction = 0.25
				uses = 1
				category = battlefield_support_tree
			}
			add_tech_bonus = {
				name = GER_dive_bombers
				bonus = 1
				uses = 1
				category = light_air
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "Ju 87 G" 
					type = small_plane_cas_airframe_2
					allow_without_tech = no
					design_team = mio:GER_junkers_organization
					modules = {
						fixed_main_weapon_slot = bomb_locks
						fixed_auxiliary_weapon_slot_1 = tank_buster_1
						engine_type_slot = engine_3_1x
						special_type_slot_1 = lmg_defense_turret
						special_type_slot_2 = empty
					}
					icon = "GFX_GER_CAS2_medium"
					model = "GER_CAS_equipment_2_entity"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_cas_efficiency = 0.1
				tooltip = air_cas_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Hans
				surname = Rudel
				callsign = Adler #made-up-ish; "Eagle of the Eastern Front" was his real nickname
				type = support_genius
			}
			add_ace = {
				name = Anton
				surname = Hubsch
				callsign = Toni
				type = support_unique
			}
			add_ace = {
				name = Gerhard
				surname = Studemann
				callsign = Stutz
				type = support_unique
			}
			add_ace = {
				name = Alois
				surname = Wosnitza
				callsign = Ritter #Made-up
				type = support_unique
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = junkers
					}
					swap_ideas = {
						remove_idea = junkers
						add_idea = GER_junkers_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = junkers
							add_idea = GER_junkers_improved
						}
					}
				}
			}
			else = {
				mio:GER_junkers_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = hugo_sperrle

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = ernst_udet
		}
	}
	
	focus = {
		id = GER_tactical_bombers
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = GER_aeronautical_research_institute }
		mutually_exclusive = { focus = GER_dive_bombers focus = GER_uralbomber_program }
		x = 0
		y = 1
		relative_position_id = GER_aeronautical_research_institute
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = erhard_milch

			add_doctrine_cost_reduction = {
				name = GER_tactical_bombers
				cost_reduction = 0.25
				uses = 2
				category = operational_integrity_tree
			}
			add_tech_bonus = {
				name = GER_tactical_bombers
				bonus = 0.5
				uses = 1
				category = medium_air
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "Ju 88" 
					type = medium_plane_airframe_2
					allow_without_tech = no
					design_team = mio:GER_dornier_organization
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						fixed_auxiliary_weapon_slot_1 = medium_bomb_bay
						fixed_auxiliary_weapon_slot_2 = torpedo_mounting
						engine_type_slot = engine_3_2x
						special_type_slot_1 = lmg_defense_turret_2x
						special_type_slot_2 = empty	
					}
					icon = "GFX_GER_tactical_bomber2_medium"
					model = "GER_medium_plane_entity"
				}
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_strategic_bomber_bombing_factor = 0.1
				tooltip = air_strategic_bomber_bombing_factor_tt
			}
			add_to_variable = { 
				GER_military_air_cas_efficiency = 0.05
				tooltip = air_cas_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Werner
				surname = Baumbach
				callsign = "Papa Bär" #made-up
				type = bomber_unique
			}
			add_ace = {
				name = Bernhard
				surname = Jope
				callsign = Senker #made-up
				type = bomber_unique
			}
			add_ace = {
				name = Anton
				surname = Hubsch
				callsign = Toni
				type = support_unique
			}
			add_ace = {
				name = Gerhard
				surname = Studemann
				callsign = Stutz
				type = support_unique
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = dornier
					}
					swap_ideas = {
						remove_idea = dornier
						add_idea = GER_dornier_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = dornier
							add_idea = GER_dornier_improved
						}
					}
				}
			}
			else = {
				mio:GER_dornier_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_uralbomber_program
		icon = GFX_focus_generic_long_range_aircraft
		prerequisite = { focus = GER_air_innovation }
		mutually_exclusive = { focus = GER_dive_bombers focus = GER_tactical_bombers }
		x = 2
		y = 1
		relative_position_id = GER_air_innovation
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_robert_knauss

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_uralbomber_program
				cost_reduction = 0.25
				uses = 2
				category = strategic_destruction_tree
			}
			add_tech_bonus = {
				name = GER_uralbomber_program
				bonus = 0.5
				uses = 1
				category = heavy_air
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "Ju 89" 
					type = large_plane_airframe_1
					allow_without_tech = no
					design_team = mio:GER_heinkel_organization
					modules = {
						fixed_main_weapon_slot = large_bomb_bay
						fixed_auxiliary_weapon_slot_1 = empty
						fixed_auxiliary_weapon_slot_2 = empty
						engine_type_slot = engine_2_4x
						special_type_slot_1 = lmg_defense_turret_2x
						special_type_slot_2 = lmg_defense_turret
					}
					icon = "GFX_GER_strategic_bomber1_medium"
					model = "GER_strat_bomber_equipment_1_entity"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_range_factor = 0.15
				tooltip = air_range_factor_tt
			}
			add_to_variable = { 
				GER_military_air_strategic_bomber_bombing_factor = 0.05
				tooltip = air_strategic_bomber_bombing_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Hansgeorg
				surname = Batcher
				callsign = Schützin #made-up
				type = bomber_genius
			}
			add_ace = {
				name = Werner
				surname = Baumbach
				callsign = "Papa Bär" #made-up
				type = bomber_unique
			}
			add_ace = {
				name = Bernhard
				surname = Jope
				callsign = Senker #made-up
				type = bomber_unique
			}
			add_ace = {
				name = Horst
				surname = Rudat
				callsign = Mistel #made-up
				type = bomber_unique
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = heinkel
					}
					swap_ideas = {
						remove_idea = heinkel
						add_idea = GER_heinkel_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = heinkel
							add_idea = GER_heinkel_improved
						}
					}
				}
			}
			else = {
				mio:GER_heinkel_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_rocketry_innovations
		icon = GFX_focus_rocketry
		prerequisite = { focus = GER_dive_bombers focus = GER_tactical_bombers focus = GER_uralbomber_program }

		x = 2
		y = 3
		relative_position_id = GER_dive_bombers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_aerodynamic_research_institute
				bonus = 0.5
				uses = 1
				category = rocketry
			}

			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.75
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = GER_rocketry_idea
				days = 730
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_rocket_speed_factor = 0.15
				tooltip = sp_tag_rocket_speed_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_walter_dornberger
			
		}
	}
	
	focus = {
		id = GER_fallschirmjager
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = GER_expanding_the_luftwaffe }

		x = 0
		y = 1
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				if = {
					limit = {
						NOT = { has_completed_focus = GER_marinestosstrupp }
					}
					add_potential_special_forces_tree = yes
				}
				add_doctrine_cost_reduction = {
					name = GER_fallschirmjager
					cost_reduction = 0.25
					uses = 2
					category = cat_paratroopers_doctrine
				}
			}
			add_tech_bonus = {
				name = GER_fallschirmjager
				bonus = 1
				uses = 1
				category = para_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_special_forces_cap = 0.05
				tooltip = special_forces_cap_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_kurt_student
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = kurt_student
		}
	}
	
	focus = {
		id = GER_form_the_jagdwaffe
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = GER_expanding_the_luftwaffe }

		x = 3
		y = 1
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			air_experience = 25
			add_doctrine_cost_reduction = {
				name = GER_form_the_jagdwaffe
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}


			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_ace_generation_chance_factor = 0.25
				tooltip = air_ace_generation_chance_factor_tt
			}
			add_to_variable = { 
				GER_military_air_agility_factor = 0.05
				tooltip = air_agility_factor_tt
			}


			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "FW 190" 
					type = small_plane_airframe_2
					allow_without_tech = no
					design_team = mio:GER_messerschmitt_organization
					modules = {
						fixed_main_weapon_slot = light_mg_4x
						fixed_auxiliary_weapon_slot_1 = aircraft_cannon_1_2x
						engine_type_slot = engine_3_1x
						special_type_slot_1 = armor_plate_small
						special_type_slot_2 = drop_tanks	
					}
					icon = "GFX_GER_fighter2_medium"
					model = "GER_fighter_equipment_2_entity"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Erich
				surname = Hartmann
				callsign = Bubi
				type = fighter_genius
			}

			add_ace = {
				name = Gerhard
				surname = Barkhorn
				callsign = Gerd
				type = fighter_genius
			}

			add_ace = {
				name = Gunther
				surname = Rall
				callsign = Adlerauge #Made-up nickname
				type = fighter_genius
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = messerschmitt
					}
					swap_ideas = {
						remove_idea = messerschmitt
						add_idea = GER_messerschmitt_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = messerschmitt
							add_idea = GER_messerschmitt_improved
						}
					}
				}
			}
			else = {
				mio:GER_messerschmitt_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}

	focus = {
		id = GER_reorganize_the_luftwaffe
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = GER_form_the_jagdwaffe }

		x = -2
		y = 1
		relative_position_id = GER_form_the_jagdwaffe
		cost = 10
		available = {
			GER_hermann_goring = {
				is_air_chief = no
			}
			NOT = {
				has_completed_focus = GER_ascension_of_goring
			}
		}

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_command_power = 25
			air_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_reorganize_the_luftwaffe
				cost_reduction = 0.25
				uses = 2
				category = air_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_manpower_requirement_factor = -0.1
				tooltip = air_manpower_requirement_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = GER_helmuth_wilberg
		}
	}

	focus = {
		id = GER_solve_the_logistical_bottlenecks
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = GER_reorganize_the_luftwaffe }

		x = -1
		y = 2
		relative_position_id = GER_reorganize_the_luftwaffe
		cost = 10
		available = {
			GER_hermann_goring = {
				is_air_chief = no
			}
			NOT = {
				has_completed_focus = GER_ascension_of_goring
			}
		}

		search_filters = {}

		completion_reward = {
			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_accidents_factor = -0.1
				tooltip = air_accidents_factor_tt
			}
			add_to_variable = { 
				GER_military_air_fuel_consumption_factor = -0.1
				tooltip = air_fuel_consumption_factor_tt
			}
		}
	}

	focus = {
		id = GER_experimental_rotorcrafts
		icon = GFX_focus_generic_early_helicopter
		prerequisite = { focus = GER_form_the_jagdwaffe }

		x = 0
		y = 1
		relative_position_id = GER_form_the_jagdwaffe

		allow_branch = {
			has_dlc = "Gotterdammerung"
		}

		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { is_special_project_completed = sp:sp_air_helicopter }
				}
				GER_add_or_modify_wunderwaffen = yes
				add_to_variable = { 
					GER_wunderwaffen_sp_air_helicopter_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_air_helicopter_speed_factor_tt
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				mio:GER_focke_achgelis_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_develop_the_knickebein
		icon = GFX_goal_generic_radar
		prerequisite = { focus = GER_form_the_jagdwaffe }

		x = 2
		y = 1
		relative_position_id = GER_form_the_jagdwaffe
		cost = 5
		available = {
			has_tech = improved_radio
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = {
				idea = GER_knickebein
				days = 545
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_develop_the_knickebein
				bonus = 0.5
				uses = 1
				category = radar_tech
			}

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = focke_wulf
					}
					swap_ideas = {
						remove_idea = focke_wulf
						add_idea = GER_focke_wulf_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = focke_wulf
							add_idea = GER_focke_wulf_improved
						}
					}
				}
			}
			else = {
				mio:GER_focke_wulf_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_defense_of_the_reich
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = GER_reorganize_the_luftwaffe focus = GER_develop_the_knickebein }

		x = 2
		y = 2
		relative_position_id = GER_reorganize_the_luftwaffe
		cost = 10
		available = {
			has_war_with_major = yes
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_timed_idea = {
				idea = GER_defense_of_the_reich_ns
				days = 730
			}
		}
	}
	
	focus = {
		id = GER_construct_the_kammhuber_line
		icon = GFX_focus_generic_energy
		prerequisite = { focus = GER_defense_of_the_reich }

		x = -1
		y = 1
		relative_position_id = GER_defense_of_the_reich
		cost = 5
		available = {
			has_war_with_major = yes
			is_special_project_completed = sp:sp_air_radar
			custom_trigger_tooltip = {
				tooltip = GER_controls_atlantic_coast_brittany_finnmark_tt
				OR = {
					925 = { #Finnmark
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					924 = { #Troms
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					144 = { #Nordland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					923 = { #Helgeland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					143 = { #Trondelag
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					142 = { #Vestlandet
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					922 = { #Agder
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					921 = { #Telemark
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					110 = { #Oslo
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					915 = { #Halland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					140 = { #Västergötland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					99 = { #Jylland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					912 = { #Sonderjylland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					36 = { #Friesland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					7 = { #Holland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					35 = { #Brabant
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					6 = { #Vlaanderen
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					29 = { #Nord-Pas-de_calais
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					785 = { #Picardy
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					15 = { #Normandy
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					14 = { #Brittany
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			add_timed_idea = {
				idea = GER_the_kammhuber_line
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_controls_atlantic_coast_brittany_finnmark_effects_tt
			every_state = {
				limit = { 
					anti_air_building < 5
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					OR = {
						state = 925
						state = 924
						state = 144
						state = 923
						state = 143
						state = 142
						state = 922
						state = 921
						state = 110
						state = 915
						state = 140
						state = 99
						state = 912
						state = 909
						state = 58 
						state = 59
						state = 56
						state = 36
						state = 7
						state = 35
						state = 6
						state = 977
						state = 29
						state = 785
						state = 15
						state = 14
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = GER_establish_night_fighter_squadrons
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = GER_defense_of_the_reich }

		x = 1
		y = 1
		relative_position_id = GER_defense_of_the_reich
		cost = 5
		available = {
			has_tech = monopulse_radar
			has_war_with_major = yes
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			
				add_ideas = GER_nachtjagdgeschwader
			

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ace = {
				name = Heinz
				surname = Schnaufer
				callsign = "The Spook" #actually "The Spook of St. Trond"
				type = fighter_unique
			}
			add_ace = {
				name = Helmut
				surname = Lent
				callsign = "The Moonlight Hunter" #made-up
				type = fighter_unique
			}
		}
	}
	
	focus = {
		id = GER_torpedobomber
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = GER_develop_the_knickebein }

		x = 0
		y = 1
		relative_position_id = GER_develop_the_knickebein
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_torpedobomber
				bonus = 0.5
				uses = 1
				category = cat_air_bombs
			}


			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = { 
					name = "He 115" 
					type = small_plane_naval_bomber_airframe_2
					allow_without_tech = no
					design_team = mio:GER_fieseler_organization
					modules = {
						fixed_main_weapon_slot = torpedo_mounting
						fixed_auxiliary_weapon_slot_1 = bomb_locks
						engine_type_slot = engine_2_2x
						special_type_slot_1 = lmg_defense_turret	
						special_type_slot_2 = empty
					}
					icon = "GFX_GER_naval_bomber2_medium"
					model = "GER_nav_bomber_equipment_2_entity"
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_nav_efficiency = 0.1
				tooltip = air_nav_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_fieseler
					}
					swap_ideas = {
						remove_idea = GER_fieseler
						add_idea = GER_fieseler_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_fieseler
							add_idea = GER_fieseler_improved
						}
					}
				}
			}
			else = {
				mio:GER_fieseler_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_establish_carrier_groups
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = GER_torpedobomber }
		prerequisite = { focus = GER_construct_aircraft_carriers }

		x = 1
		y = 1
		relative_position_id = GER_torpedobomber
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = GER_tragergruppen_ns

			if = {
				limit = {
					has_dlc = "Gotterdammerung"
					NOT = { is_special_project_completed = sp:sp_naval_modern_carrier }
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				GER_add_or_modify_wunderwaffen = yes
				add_to_variable = { 
					GER_wunderwaffen_sp_naval_modern_carrier_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_naval_modern_carrier_speed_factor_tt
				}
			}
		}
	}

	focus = {
		id = GER_aerodynamic_research_institute
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = GER_solve_the_logistical_bottlenecks focus = GER_construct_the_kammhuber_line focus = GER_establish_night_fighter_squadrons}
		prerequisite = { focus = GER_rocketry_innovations }

		x = 0
		y = 2
		relative_position_id = GER_solve_the_logistical_bottlenecks
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = {
					controls_state = 59
				}
				59 = { #Hannover
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				create_equipment_variant = { 
					name = "Me 262" 
					allow_without_tech = no
					type = small_plane_airframe_4
					design_team = mio:GER_messerschmitt_organization
					modules = {
						fixed_main_weapon_slot = aircraft_cannon_2_2x
						fixed_auxiliary_weapon_slot_1 = aircraft_cannon_2_2x
						engine_type_slot = jet_engine_2x
						special_type_slot_1 = armor_plate_small
						special_type_slot_2 = drop_tanks	
						special_type_slot_3 = self_sealing_fuel_tanks_small	
					}
					icon = "GFX_GER_jet_plane_1_medium"
					model = "GER_jet_plane_entity"
				}
				create_equipment_variant = { 
					name = "Ar 234" 
					allow_without_tech = no
					type = medium_plane_airframe_4
					design_team = mio:GER_dornier_organization
					modules = {
						fixed_main_weapon_slot = medium_bomb_bay
						fixed_auxiliary_weapon_slot_1 = medium_bomb_bay
						fixed_auxiliary_weapon_slot_2 = bomb_locks
						engine_type_slot = jet_engine_2x
						special_type_slot_1 = fuel_tanks_medium
						special_type_slot_2 = empty	
					}
					icon = "GFX_medium_plane_4_medium"
					model = "GER_medium_jet_plane_1_entity"
				}
				
				custom_effect_tooltip = generic_skip_one_line_tt
			}


			GER_modify_airforce_modifier = yes
			add_to_variable = { 
				GER_military_air_agility_factor = 0.05
				tooltip = air_agility_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_jet_speed_factor = GER_wunderwaffe_research_speed_bonus
				tooltip = sp_tag_jet_speed_factor_tt
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_aerodynamic_research_institute_tt
			}
		}
	}
	
	focus = {
		id = GER_amerikabomber
		icon = GFX_focus_GER_amerikabomber
		prerequisite = { focus = GER_aerodynamic_research_institute }

		x = 0
		y = 1
		relative_position_id = GER_aerodynamic_research_institute
		cost = 10

		continue_if_invalid = yes
		cancel_if_invalid = no

		available = {
			custom_trigger_tooltip = {
				tooltip = GER_war_with_american_country_tt
				 any_enemy_country = {
					capital_scope = { 
						OR = {
							is_on_continent = north_america
							is_on_continent = south_america
						}
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		select_effect = {
			if = {
				limit = {
					OR = {
						NOT = { has_dlc = "Gotterdammerung" }
						NOT = {
							is_special_project_being_researched = sp:sp_air_intercontinental_bomber
						}
					}
				}
				country_event = { id = GOT_GER_amerikabomber.01 days = 14 random_days = 7 }
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				custom_effect_tooltip = GER_unlocks_statue_of_liberty_raid_tt

				custom_effect_tooltip = generic_skip_one_line_tt

				GER_add_or_modify_wunderwaffen = yes
				if = {
					limit = {
						NOT = { is_special_project_completed = sp_air_intercontinental_bomber }
					}
					add_to_variable = { 
						GER_wunderwaffen_sp_air_intercontinental_bomber_speed_factor = 0.2 #MM: This is the focus of this focus, so extra speed
						tooltip = sp_air_intercontinental_bomber_speed_factor_tt
					}
				}
				if = {
					limit = {
						NOT = { is_special_project_completed = sp_air_mothership_aircraft }
					}
					add_to_variable = { 
						GER_wunderwaffen_sp_air_mothership_aircraft_speed_factor = GER_wunderwaffe_research_speed_bonus
						tooltip = sp_air_mothership_aircraft_speed_factor_tt
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = GER_amerikabomber
					bonus = 2
					uses = 1
					category = transport_planes_cat
					category = cat_strategic_bomber
				}
			}
		}
	}



	#KRIEGSMARINE
	focus = {
		id = GER_strengthen_the_kriegsmarine
		icon = GFX_focus_GER_navy
		#prerequisite = { focus = }

		x = 12
		y = 0
		relative_position_id = GER_expanding_the_luftwaffe
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			navy_experience = 25
			custom_effect_tooltip = generic_skip_one_line_tt
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = GER_plan_z
		icon = GFX_focus_generic_air_carrier
		prerequisite = { focus = GER_strengthen_the_kriegsmarine }

		x = -2
		y = 1
		relative_position_id = GER_strengthen_the_kriegsmarine
		cost = 5
		available = {
			OR = {
				NOT = { has_completed_focus = GER_trade_interdiction }
				has_completed_focus = GER_unrestricted_convoy_raiding
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		complete_tooltip = {
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_plan_z
				cost_reduction = 0.25
				uses = 3
				category = fleet_in_being_tree
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:GER_germaniawerft_organization = {
					unlock_mio_trait_tooltip = GER_mio_trait_history_of_battleships
					#unlock_mio_trait_tooltip = 
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_plan_z_lock_other_focus_tt
		}
	}

	focus = {
		id = GER_expand_kriegsmarinewerft
		icon = GFX_focus_POL_develop_polish_shipbuilding
		prerequisite = { focus = GER_plan_z }

		x = -2
		y = 1
		relative_position_id = GER_plan_z
		cost = 10
		available = {
			#NOT = { has_completed_focus = GER_high_seas_fleet }
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			if = {
				limit = {
					56 = {
						is_fully_controlled_by = ROOT
					}
				}
				56 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_expand_kriegsmarinewerft
				bonus = 0.5
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = GER_expand_kriegsmarinewerft
				bonus = 1.0
				uses = 1
				category = cv_tech
			}

			if = {
				limit = { 
					has_dlc = "Man the Guns"
					is_special_project_completed = sp:sp_air_radar
					has_tech = improved_heavy_battery
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Bismarck"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_2
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_3
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						rear_1_custom_slot = ship_heavy_battery_3
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Bismarck"
					requested_factories = 1
					progress = 0.3
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Tirpitz"
					requested_factories = 1
					progress = 0.15
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}
			else_if = {
				limit = {
					has_dlc = "Man the Guns"
					is_special_project_completed = sp:sp_air_radar
					NOT = {
						has_tech = improved_heavy_battery
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Bismarck"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_2
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						rear_1_custom_slot = ship_heavy_battery_2
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Bismarck"
					requested_factories = 1
					progress = 0.3
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Tirpitz"
					requested_factories = 1
					progress = 0.15
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}
			else_if = {
				limit = {
					has_dlc = "Man the Guns"
					has_tech = improved_heavy_battery
					NOT = {
						is_special_project_completed = sp:sp_air_radar
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Bismarck"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_2
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_3
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						rear_1_custom_slot = ship_heavy_battery_3
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Bismarck"
					requested_factories = 1
					progress = 0.3
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Tirpitz"
					requested_factories = 1
					progress = 0.15
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}
			else_if = {
				limit = {
					has_dlc = "Man the Guns"
					NOT = {
						is_special_project_completed = sp:sp_air_radar
						has_tech = improved_heavy_battery
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Bismarck"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_2
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						rear_1_custom_slot = ship_heavy_battery_2
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Bismarck"
					requested_factories = 1
					progress = 0.3
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "GER"
						version_name = "Bismarck"
					}
					name = "Tirpitz"
					requested_factories = 1
					progress = 0.15
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_kriegsmarinewerft_wilhelmshaven
					}
					swap_ideas = {
						remove_idea = GER_kriegsmarinewerft_wilhelmshaven
						add_idea = GER_kriegsmarinewerft_wilhelmshaven_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_kriegsmarinewerft_wilhelmshaven
							add_idea = GER_kriegsmarinewerft_wilhelmshaven_improved
						}
					}
				}
			}
			else = {
				mio:GER_kriegsmarinewerft_wilhelmshaven_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}

	focus = {
		id = GER_construct_aircraft_carriers
		icon = GFX_focus_GER_graf_zeppelin
		prerequisite = { focus = GER_expand_kriegsmarinewerft }

		x = -1
		y = 1
		relative_position_id = GER_expand_kriegsmarinewerft
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_high_seas_fleet }
			has_tech = early_ship_hull_carrier
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				prioritize = { 807 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_navy_leader = {
				limit = {
					NOT = {
						is_character = GER_erich_raeder
						is_character = GER_karl_donitz
					}
					OR = {
						NOT = { has_trait = air_controller }
						AND = {
							has_trait = air_controller
							NOT = { has_trait = flight_deck_manager }
						}
					}
				}
				if = {
					limit = {
						has_trait = air_controller
					}
					add_trait = { trait = flight_deck_manager }

				}
				else = {
					add_trait = { trait = air_controller }
				}
			}

			if = {
				limit = { 
					has_dlc = "Man the Guns"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = GER_carrier_variants_tt
				if = { 
					limit = {
						NOT = {
							has_tech = basic_ship_hull_carrier
							has_tech = improved_ship_hull_carrier
						}
					}
					create_equipment_variant = {
						name = "Graf Zeppelin Class"				
						name_group = GER_CV_HISTORICAL
						type = ship_hull_carrier_conversion_ca
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_secondaries_slot = empty
						}
						design_team = mio:GER_deutsche_werke_organization
					}
					add_equipment_production = { #You get a Converted Carrier
						equipment = {
							type = ship_hull_carrier_conversion_ca
							creator = "GER"
							version_name = "Graf Zeppelin Class"
						}
						name = "Graf Zeppelin"
						requested_factories = 1
						progress = 0.3
						amount = 1
						industrial_manufacturer = mio:GER_deutsche_werke_organization
					}
				}
				if = { 
					limit = {
						has_tech = basic_ship_hull_carrier
						NOT = {
							has_tech = improved_ship_hull_carrier
						}
					}
					create_equipment_variant = {
						name = "Graf Zeppelin Class"				
						name_group = GER_CV_HISTORICAL
						type = ship_hull_carrier_1
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_1
							fixed_ship_engine_slot = carrier_ship_engine_3
							fixed_ship_secondaries_slot = empty
							front_1_custom_slot = ship_deck_space
						}
						design_team = mio:GER_deutsche_werke_organization
					}		
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_1
							creator = "GER"
							version_name = "Graf Zeppelin Class"
						}
						name = "Graf Zeppelin"
						requested_factories = 1
						progress = 0.3
						amount = 1
						industrial_manufacturer = mio:GER_deutsche_werke_organization
					}
				}
				if = { 
					limit = {
						has_tech = improved_ship_hull_carrier
					}
					create_equipment_variant = {
						name = "Graf Zeppelin Class"				
						name_group = GER_CV_HISTORICAL
						type = ship_hull_carrier_2
						modules = {
							fixed_ship_deck_slot_1 = ship_deck_space
							fixed_ship_deck_slot_2 = ship_deck_space
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_engine_slot = carrier_ship_engine_2
							fixed_ship_secondaries_slot = empty
							front_1_custom_slot = ship_deck_space
							mid_1_custom_slot = ship_deck_space
						}
						design_team = mio:GER_deutsche_werke_organization
					}
					add_equipment_production = {
						equipment = {
							type = ship_hull_carrier_2
							creator = "GER"
							version_name = "Graf Zeppelin Class"
						}
						name = "Graf Zeppelin"
						requested_factories = 1
						progress = 0.3
						amount = 1
						industrial_manufacturer = mio:GER_deutsche_werke_organization
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_deutsche_werke
					}
					swap_ideas = {
						remove_idea = GER_deutsche_werke
						add_idea = GER_deutsche_werke_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_deutsche_werke
							add_idea = GER_deutsche_werke_improved
						}
					}
				}
			}
			else = {
				mio:GER_deutsche_werke_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}

	focus = {
		id = GER_grosskampfschiff_construction
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = GER_expand_kriegsmarinewerft }

		x = 1
		y = 1
		relative_position_id = GER_expand_kriegsmarinewerft
		cost = 10
		available = {
			NOT = { has_completed_focus = GER_high_seas_fleet }
			has_tech = improved_ship_hull_heavy
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_grosskampfschiff_construction
				bonus = 0.5
				uses = 1
				category = bb_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_navy_leader = {
				limit = {
					NOT = {
						is_character = GER_erich_raeder
						is_character = GER_karl_donitz
					}
					NOT = { has_trait = battleship_adherent }
				}
				add_trait = { trait = battleship_adherent }
			}

			if = {
				limit = { 
					has_dlc = "Man the Guns"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Hindenburg"				
					name_group = GER_BB_HISTORICAL
					type = ship_hull_heavy_3
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_3
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot = heavy_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_2
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_airplane_launcher_1
						mid_2_custom_slot = ship_secondaries_1
						mid_3_custom_slot = ship_anti_air_1
						rear_1_custom_slot = ship_heavy_battery_3
					}
					design_team = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_3
						creator = "GER"
						version_name = "Hindenburg"
					}
					name = "Hutten"
					requested_factories = 1
					progress = 0.2
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_3
						creator = "GER"
						version_name = "Hindenburg"
					}
					name = "Berlichingen"
					requested_factories = 1
					progress = 0.1
					amount = 1
					industrial_manufacturer = mio:GER_germaniawerft_organization
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_naval_heavy_gun_hit_chance_factor = 0.05
				tooltip = naval_heavy_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "Gotterdammerung"
					NOT = { is_special_project_completed = sp:sp_naval_modern_battleship }
				}
				GER_add_or_modify_wunderwaffen = yes
				add_to_variable = { 
					GER_wunderwaffen_sp_naval_modern_battleship_speed_factor = GER_wunderwaffe_research_speed_bonus
					tooltip = sp_naval_modern_battleship_speed_factor_tt
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = germaniawerft
					}
					swap_ideas = {
						remove_idea = germaniawerft
						add_idea = GER_germaniawerft_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = germaniawerft
							add_idea = GER_germaniawerft_improved
						}
					}
				}
			}
			else = {
				mio:GER_germaniawerft_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_h_class_battleships
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_high_seas_fleet
		icon = GFX_focus_GER_high_seas_fleet
		prerequisite = { focus = GER_expand_kriegsmarinewerft }

		x = 1
		y = 1
		relative_position_id = GER_construct_aircraft_carriers
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_trade_interdiction }
				}
				custom_effect_tooltip = GER_unlock_trade_interdiction_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_naval_defense_factor = 0.05
				tooltip = naval_defense_factor_tt
			}
			add_to_variable = { 
				GER_military_naval_hit_chance = 0.05
				tooltip = naval_hit_chance_tt
			}
			add_to_variable = { 
				GER_military_screening_efficiency = 0.1
				tooltip = screening_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_deschimag
					}
					swap_ideas = {
						remove_idea = GER_deschimag
						add_idea = GER_deschimag_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_deschimag
							add_idea = GER_deschimag_improved
						}
					}
				}
			}
			else = {
				mio:GER_deschimag_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					#unlock_mio_trait_tooltip = 
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_re_establish_the_seekriegsleitung
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = GER_strengthen_the_kriegsmarine }

		x = 0
		y = 2
		relative_position_id = GER_strengthen_the_kriegsmarine
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_command_power = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_navy_max_range_factor = 0.1
				tooltip = navy_max_range_factor_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_re_establish_the_seekriegsleitung
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = GER_rolf_carls
		}
	}
	
	focus = {
		id = GER_marinestosstrupp
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = GER_re_establish_the_seekriegsleitung }

		x = -1
		y = 1
		relative_position_id = GER_re_establish_the_seekriegsleitung
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				if = {
					limit = {
						NOT = { has_completed_focus = GER_fallschirmjager }
					}
					add_potential_special_forces_tree = yes
				}
				add_doctrine_cost_reduction = {
					name = GER_marinestosstrupp
					cost_reduction = 0.25
					uses = 2
					category = cat_marines_doctrine
				}
			}
			add_tech_bonus = {
				name = GER_marinestosstrupp
				bonus = 1
				uses = 1
				category = marine_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_special_forces_cap = 0.05
				tooltip = special_forces_cap_tt
			}
		}
	}
	
	focus = {
		id = GER_atlantic_naval_bases
		icon = GFX_focus_generic_atlantic_coast
		prerequisite = { focus = GER_re_establish_the_seekriegsleitung }

		x = 1
		y = 1
		relative_position_id = GER_re_establish_the_seekriegsleitung
		cost = 5
		available = { #These states start out with naval bases in western France
			14 = { #Brittany
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			23 = { #Poitou
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			19 = { #Aquitaine
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}

		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			
			custom_effect_tooltip = GER_naval_bases_along_atlantic_coast_tt
	
			every_state = {
				limit = { 
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					naval_base < 10
					OR = { #Atlantic Coast from Brittany to Sevilla
						state = 14
						state = 30
						state = 23
						state = 19
						state = 806
						state = 792
						state = 790
						state = 171
						state = 180
						state = 112
						state = 179
						state = 169
					}
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}
			every_state = {
				limit = { 
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					coastal_bunker < 10
					OR = { #Atlantic Coast from Brittany to Sevilla
						state = 14
						state = 30
						state = 23
						state = 19
						state = 806
						state = 792
						state = 790
						state = 171
						state = 180
						state = 112
						state = 179
						state = 169
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}
		}
	}
	
	focus = {
		id = GER_atlantic_naval_dominance
		icon = GFX_focus_generic_north_atlantic_fleet
		prerequisite = { focus = GER_marinestosstrupp focus = GER_atlantic_naval_bases}

		x = 1
		y = 1
		relative_position_id = GER_marinestosstrupp
		cost = 10
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_controls_an_atantic_island_tt
				OR = {
					914 = { #Jan Mayen
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					100 = { #Iceland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					101 = { #Greenland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					337 = { #Faroes
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					933 = { #Shetlands
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					134 = { #Ireland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					119 = { #North Ireland
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					178 = { #The Canaries
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					698 = { #The Azores
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					696 = { #Bermuda
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					697 = { #Madeira
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
					702 = { #Cape Verde
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_navy_max_range_factor = 0.1
				tooltip = navy_max_range_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_naval_bases_on_atlantic_islands_tt
			every_state = {
				limit = { 
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					naval_base < 10
					OR = { #Atlantic Islands from Greenland to Cape Verde
						state = 914
						state = 101
						state = 100
						state = 337
						state = 933
						state = 134
						state = 119
						state = 178
						state = 698
						state = 696
						state = 697
						state = 702
					}
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}
			every_state = {
				limit = { 
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_coastal = yes 
					coastal_bunker < 10
					OR = { #Atlantic Islands from Greenland to the Falklands
						state = 101
						#state = 914 #Not you Jan Mayen
						state = 100
						state = 337
						state = 933
						state = 134
						state = 119
						state = 178
						state = 698
						state = 696
						state = 697
						state = 702
						state = 703
						state = 704
						state = 297
						state = 705
						state = 697
						state = 720
						state = 299
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}
		}
	}
	
	focus = {
		id = GER_trade_interdiction

		icon = GFX_focus_generic_trade_interdiction
		alternate_icon = GFX_focus_GER_trade_interdiction_historical

		prerequisite = { focus = GER_strengthen_the_kriegsmarine }

		x = 2
		y = 1
		relative_position_id = GER_strengthen_the_kriegsmarine
		cost = 5
	
		available = {
			OR = {
				NOT = { has_completed_focus = GER_plan_z }
				has_completed_focus = GER_high_seas_fleet
			}
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		complete_tooltip = {
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_trade_interdiction
				cost_reduction = 0.25
				uses = 2
				category = trade_interdiction_tree	
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_trade_interdiction_lock_other_focus_tt

			IF = {
				limit = {
					GER_karl_donitz = {
						is_unit_leader = yes
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = available_chief_of_navy
				show_ideas_tooltip = donitz
			}
		}
	}
	
	focus = {
		id = GER_cruiser_warfare
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = GER_trade_interdiction }

		x = 1
		y = 1
		relative_position_id = GER_trade_interdiction
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_cruiser_warfare
				bonus = 0.5
				uses = 1
				category = cl_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_erich_raeder
					GER_erich_raeder = {
						is_unit_leader = yes
					}
				}
				if = {
					limit = {
						GER_erich_raeder = {
							NOT = { has_trait = superior_tactician }
						}
					}
					add_trait = {
					    character = GER_erich_raeder
					    trait = superior_tactician
					}
				}
				else_if = {
					limit = {
						GER_erich_raeder = {
							NOT = { has_trait = cruiser_captain }
						}
					}
					add_trait = { 
					    character = GER_erich_raeder
					    trait = cruiser_captain
					}
				}
			}

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_convoy_raiding_efficiency_factor = 0.05
				tooltip = convoy_raiding_efficiency_factor_tt
			}
			add_to_variable = { 
				GER_military_naval_light_gun_hit_chance_factor = 0.05
				tooltip = naval_light_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = GER_refit_convoys_to_cruisers

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = blohm_und_voss
					}
					swap_ideas = {
						remove_idea = blohm_und_voss
						add_idea = GER_blohm_und_voss_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = blohm_und_voss
							add_idea = GER_blohm_und_voss_improved
						}
					}
				}
			}
			else = {
				mio:GER_blohm_und_voss_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_heavy_raiders
					#unlock_mio_trait_tooltip = 
				}
			}
		}
	}
	
	focus = {
		id = GER_panzerschiff_raiders
		icon = GFX_focus_GER_panzerschiff
		prerequisite = { focus = GER_cruiser_warfare }
		mutually_exclusive = { focus = GER_u_boat_efforts }

		x = 0
		y = 1
		relative_position_id = GER_cruiser_warfare
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = GER_cruiser_warfare
				bonus = 0.5
				uses = 1
				category = ca_tech
			}

			IF = {
				limit = {
					has_dlc =  "Man the Guns"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				create_equipment_variant = {
					name = "Panzer Class"
					type = ship_hull_cruiser_3
					name_group = GER_CA_HISTORICAL
					modules = {
						fixed_ship_battery_slot = ship_medium_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = ship_radar_1
						fixed_ship_engine_slot= cruiser_ship_engine_3
						fixed_ship_armor_slot = ship_armor_cruiser_2
						fixed_ship_secondaries_slot = ship_secondaries_1
						front_1_custom_slot = ship_anti_air_1
						mid_1_custom_slot = ship_anti_air_1
						mid_2_custom_slot = ship_airplane_launcher_1
						rear_1_custom_slot = ship_medium_battery_2
					}
				}	
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_screening_without_screens = 0.1
				tooltip = screening_without_screens_tt
			}
			add_to_variable = { 
				GER_military_naval_light_gun_hit_chance_factor = 0.05
				tooltip = naval_light_gun_hit_chance_factor_tt
			}
			add_to_variable = { 
				GER_military_naval_heavy_gun_hit_chance_factor = 0.05
				tooltip = naval_heavy_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:GER_blohm_und_voss_organization = {
					unlock_mio_trait_tooltip = GER_mio_trait_o_class_battlecruisers
				}
			}
		}
	}
	
	focus = {
		id = GER_wolfpack_tactics
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = GER_trade_interdiction }

		x = 3
		y = 1
		relative_position_id = GER_trade_interdiction
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
			has_war = yes
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_wolfpack_tactics
				cost_reduction = 0.25
				uses = 1
				category = trade_interdiction_tree	
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = GER_karl_donitz
					GER_karl_donitz = {
						is_unit_leader = yes
					}

				}
				if = {
					limit = {
						GER_karl_donitz = {
							NOT = { has_trait = bold }
						}
					}
					add_trait = {
					    character = GER_karl_donitz
					    trait = bold
					}
				}
				else_if = {
					limit = {
						GER_karl_donitz = {
							NOT = { has_trait = spotter }
						}
					}
					add_trait = {
					    character = GER_karl_donitz
					    trait = spotter
					}
				}
			}

			add_timed_idea = {
				idea = GER_rudeltaktik_ns
				days = 365
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = alfred_saalwachter
		}
	}
	
	focus = {
		id = GER_u_boat_efforts
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = GER_wolfpack_tactics }
		mutually_exclusive = { focus = GER_panzerschiff_raiders }
		x = 0
		y = 1
		relative_position_id = GER_wolfpack_tactics
		cost = 5
		available = {
			NOT = { has_completed_focus = GER_unrestricted_convoy_raiding }
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_u_boat_efforts
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
		
			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			custom_effect_tooltip = GER_submarine_max_speed_small_tt
			hidden_effect = {
				add_equipment_bonus = {
					name = GER_u_boat_efforts
					bonus = {
						ship_hull_submarine = {
							naval_speed = 0.05 #WARNING! If you change this value, you need to update GER_submarine_max_speed_small_tt
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_sp_tag_submarine_speed_factor = GER_wunderwaffe_research_speed_bonus
				tooltip = sp_tag_submarine_speed_factor_tt
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				if = {
					limit = {
						has_idea = GER_hdw
					}
					swap_ideas = {
						remove_idea = GER_hdw
						add_idea = GER_hdw_improved
					}
				}
				else = {
					effect_tooltip = {
						swap_ideas = {
							remove_idea = GER_hdw
							add_idea = GER_hdw_improved
						}
					}
				}
			}
			else = {
				mio:GER_hdw_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.25
					add_mio_research_bonus = 0.05

					unlock_mio_trait_tooltip = GER_mio_trait_ocean_u_boats
					unlock_mio_trait_tooltip = GER_mio_trait_kilian_submarine_bunker
					unlock_mio_trait_tooltip = GER_mio_trait_atlantic_raiders
				}
				mio:GER_blohm_und_voss_organization = {
					unlock_mio_trait_tooltip = GER_mio_trait_u_boat_yards
				}
			}
		}
	}
	
	focus = {
		id = GER_unrestricted_convoy_raiding
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GER_panzerschiff_raiders focus = GER_u_boat_efforts }

		x = 1
		y = 1
		relative_position_id = GER_panzerschiff_raiders
		cost = 10
		available = {
		}

		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = GER_plan_z }
				}
				custom_effect_tooltip = GER_unlock_plan_z_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_navy_modifier = yes
			add_to_variable = { 
				GER_military_naval_defense_factor = 0.05
				tooltip = naval_defense_factor_tt
			}
			add_to_variable = { 
				GER_military_convoy_raiding_efficiency_factor = 0.05
				tooltip = convoy_raiding_efficiency_factor_tt
			}
			if = {
				limit = {
					NOT = {
						has_completed_focus = GER_panzerschiff_raiders
						has_completed_focus = GER_u_boat_efforts
					}
				}
				custom_effect_tooltip = GER_with_panzerschiff_completed_tt
				add_to_variable = { 
					GER_military_screening_without_screens = 0.1
					tooltip = screening_without_screens_tt
				}
				custom_effect_tooltip = GER_with_u_boat_efforts_completed_tt
				custom_effect_tooltip = GER_submarine_max_speed_small_tt
			}
			else_if = {
				limit = {
					has_completed_focus = GER_panzerschiff_raiders
				}
				add_to_variable = { 
					GER_military_screening_without_screens = 0.1
					tooltip = screening_without_screens_tt
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_u_boat_efforts
				}
				custom_effect_tooltip = GER_submarine_max_speed_small_tt
				hidden_effect = {
					add_equipment_bonus = {
						name = GER_unrestricted_convoy_raiding
						bonus = {
							ship_hull_submarine = {
								naval_speed = 0.05 #WARNING! If you change this value, you need to update GER_submarine_max_speed_small_tt
							}
						}
					}
				}
			}	
		}
	}
	
	focus = {
		id = GER_seeherrschaft 
		icon = GFX_focus_GER_seeherrschaft
		prerequisite = { focus = GER_high_seas_fleet }
		prerequisite = { focus = GER_unrestricted_convoy_raiding }
		
		x = 0
		y = 1
		relative_position_id = GER_atlantic_naval_dominance

		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			random_navy_leader = {
				limit = {
					NOT = { has_trait = blue_water_expert }
				}
				add_trait = { trait = blue_water_expert }
			}
			random_navy_leader = {
				limit = {
					NOT = { has_trait = blue_water_expert }
				}
				add_trait = { trait = blue_water_expert }
			}

			add_ideas = GER_seeherrschaft_ns
		}
	}
	



##     ## ####  ######  ########  #######  ########  ####  ######     ###    ##          ##      ## ##      ## 
##     ##  ##  ##    ##    ##    ##     ## ##     ##  ##  ##    ##   ## ##   ##          ##  ##  ## ##  ##  ## 
##     ##  ##  ##          ##    ##     ## ##     ##  ##  ##        ##   ##  ##          ##  ##  ## ##  ##  ## 
#########  ##   ######     ##    ##     ## ########   ##  ##       ##     ## ##          ##  ##  ## ##  ##  ## 
##     ##  ##        ##    ##    ##     ## ##   ##    ##  ##       ######### ##          ##  ##  ## ##  ##  ## 
##     ##  ##  ##    ##    ##    ##     ## ##    ##   ##  ##    ## ##     ## ##          ##  ##  ## ##  ##  ## 
##     ## ####  ######     ##     #######  ##     ## ####  ######  ##     ## ########     ###  ###   ###  ###  





	focus = {
		id = GER_remilitarize_the_rhineland

		icon = GFX_focus_GER_remilitarize_the_rhineland
		alternate_icon = GFX_focus_GER_remilitarize_the_rhineland_historical

		mutually_exclusive = { focus = GER_oppose_hitler_ww focus = GER_oppose_hitler }

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = GER_oppose_hitler_ww
						has_completed_focus = GER_oppose_hitler
					}
				}
			}
		}

		x = 27
		y = 0
		relative_position_id = GER_the_four_year_plan

		cost = 5

		bypass = {
			42 = { is_demilitarized_zone = no } #RHINELAND
			51 = { is_demilitarized_zone = no } #MOSSELLAND
			978 = { is_demilitarized_zone = no } #BADEN
		}

		available = {
			is_subject = no
			has_government = fascism
			42 = { is_fully_controlled_by = ROOT } #RHINELAND
			51 = { is_fully_controlled_by = ROOT } #MOSSELLAND
			978 = { is_fully_controlled_by = ROOT } #BADEN
		}
		
		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ARMY_XP }	

		completion_reward = {
			sound_effect = rhineland
			add_war_support = 0.15
			add_named_threat = { threat = 3 }
			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			978 = { set_demilitarized_zone = no }
			set_global_flag = rhineland_remilitarized
			custom_effect_tooltip = GER_rhineland_ultimatum
			custom_effect_tooltip = generic_skip_one_line_tt
			add_political_power = 150
			army_experience = 5

			custom_effect_tooltip = generic_skip_one_line_tt
			add_named_threat = { threat = 5 name = GER_rhineland }

			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = GER_legion_condor
		icon = GFX_focus_intervention_spain_nationalists
		prerequisite = { focus = GER_remilitarize_the_rhineland focus = GER_oppose_hitler_ww focus = GER_oppose_hitler }

		offset = {
			x = -25
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_oppose_hitler_ww
			}
		}
		offset = {
			x = -28
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_oppose_hitler
			}
		}
		offset = {
			x = -5
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_monarchist_sentiment
			}
		}

		offset = {
			x = -10
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_start_the_proletarian_revolution
			}
		}

		offset = {
			x = -7
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = GER_reestablish_free_elections
			}
		}

		x = 5
		y = 1
		relative_position_id = GER_remilitarize_the_rhineland

		cost = 1

		available = {

		}

		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			army_experience = 500
			air_experience = 500
			navy_experience = 100
			HUN = {
				army_experience = 250
				air_experience = 250
				navy_experience = 50
			}
			ROM = {
				army_experience = 250
				air_experience = 250
				navy_experience = 50
			}
			ITA = {
				army_experience = 250
				air_experience = 250
				navy_experience = 50
			}
			FRA = {
				army_experience = 125
				air_experience = 125
				navy_experience = 50
			}
			ENG = {
				army_experience = 125
				air_experience = 125
				navy_experience = 50
			}	
			AST = {
				army_experience = 125
				air_experience = 125
				navy_experience = 50
			}
			NZL = {
				army_experience = 125
				air_experience = 125
				navy_experience = 50
			}
			CAN = {
				army_experience = 125
				air_experience = 125
				navy_experience = 50
			}
			SAF = {
				army_experience = 125
				air_experience = 125
				navy_experience = 50
			}	
			RAJ = {
				army_experience = 125
				air_experience = 125
				navy_experience = 50
			}		
			SOV = {
				army_experience = 250
				air_experience = 250
				navy_experience = 100
			}	
		}
	}
	
	


	
	focus = {
		id = GER_anschluss

		icon = GFX_focus_GER_anschluss
		alternate_icon = GFX_focus_GER_anschluss_historical

		prerequisite = { focus = GER_reorganize_the_wehrmacht focus = GER_heed_von_neuraths_concerns }

		x = 0
		y = 1
		relative_position_id = GER_reorganize_the_wehrmacht
		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		bypass = {
			OR = {
				AUS = {
					OR = {
						is_subject = yes
						exists = no 
						AND = {
							is_in_faction = yes
							NOT = { is_in_faction_with = GER }
							any_other_country = {
								is_in_faction_with = AUS
								is_subject = no
							}
						}
					}
				}
				GER = {
					owns_state = 4
					owns_state = 152
					owns_state = 153
					owns_state = 848
					owns_state = 975
					owns_state = 976
				}
			}
		}

		continue_if_invalid = yes
		
		available_if_capitulated = no
		
		available = {
			date > 1937.9.1

		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1938.1.1
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP FOCUS_FILTER_STABILITY }

		select_effect = {
			AUS = {
				country_event = {
					id = AUS_political_events.77
					hours = 12
				}
				set_country_flag = AUS_anschluss_process_has_begun_flag
			}
		}

		completion_reward = {
			sound_effect = anscluss
			add_named_threat = { threat = 5 }
			GER_add_or_modify_military_intelligence_service = yes
			add_to_variable = { 
				GER_military_intelligence_service_operative_slot = 1
				tooltip = operative_slot_tt
			}
			GER_create_operative_otto_skorzeny = yes

			custom_effect_tooltip = generic_skip_one_line_tt
			add_state_core = 848
			add_state_core = 153
			add_state_core = 152
			add_state_core = 976
			add_state_core = 4
			annex_country = { target = AUS transfer_troops = yes }
			HUN = {
				transfer_state = 975
			}
			add_political_power = 75
			add_war_support = 0.1
			add_stability = 0.05
			army_experience = 10
			GER_anschluss_modify_mefo_bills_or_economy_of_conquest = yes
				
		}
	}

	focus = {
		id = GER_bribe_senior_officers
		text = "SS On The Field"
		icon = goal_generic_SS_focus.dds
		prerequisite = { focus = GER_remilitarize_the_rhineland }

		x = -6
		y = 1
		relative_position_id = GER_remilitarize_the_rhineland
		cost = 10
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			add_manpower = 250000

			custom_effect_tooltip = generic_skip_one_line_tt

			show_unit_leaders_tooltip = GER_walter_model
			show_unit_leaders_tooltip = GER_hermann_hoth
		}
	}
	
	focus = {
		id = GER_army_indoctrination
		text = "Introduction Of SS To The Army"
		icon = GFX_focus_GER_subdue_the_wehrmacht
		alternate_icon = GFX_focus_GER_subdue_the_wehrmacht_historical
		prerequisite = { focus = GER_bribe_senior_officers }
		x = -1
		y = 1
		relative_position_id = GER_bribe_senior_officers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_mobilization_speed = 0.1 tooltip = mobilization_speed_tt }
			add_to_variable = { GER_military_army_morale_factor = 0.1 tooltip = army_morale_factor_tt }			
		}
	}

	focus = {
		id = GER_strafbataillon
		text = "Recruits From Occipied States"
		icon = GFX_focus_GER_strafbataillon

		prerequisite = { focus = GER_army_indoctrination }

		x = 0
		y = 1
		relative_position_id = GER_army_indoctrination
		cost = 5
		available = {
			has_full_control_of_state = 16
			has_full_control_of_state = 7
			has_full_control_of_state = 6
			has_full_control_of_state = 9
			has_full_control_of_state = 10
			has_full_control_of_state = 37
			has_full_control_of_state = 110
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {

			custom_effect_tooltip = generic_skip_one_line_tt
			#Spawn Penal divisions
			custom_effect_tooltip = GER_penal_spawn_tt
			hidden_effect = {
				#set_technology = { penal_infantry = 1 popup = no } #Note: Granting tech will make the penal battalion available for any template
				division_template = {
					name = "Straf-Division"
					division_names_group = GER_PEN_01
					is_locked = yes
					force_allow_recruiting = yes
					override_model = GER_infantry_alt_0_entity
					division_cap = 12

			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 0 y = 3 }

                infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 1 y = 3 }
				
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
				infantry = { x = 2 y = 3 }

				infantry = { x = 3 y = 0 }
				infantry = { x = 3 y = 1 }

				artillery_brigade = { x = 4 y = 0 }
				artillery_brigade = { x = 4 y = 1 }
				artillery_brigade = { x = 4 y = 2 }
				artillery_brigade = { x = 4 y = 3 }
			}
				support = {
					engineer = { x = 0 y = 0 }
    				artillery = { x = 0 y = 1 }
				}
		}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Waffen-SS\" start_experience_factor = 1 start_equipment_factor = 1.0"
						owner = ROOT
						count = 6
					}
				}
				if = {
					limit = {
						has_dlc = "By Blood Alone"
					}
					random_country_division = {
						limit = {
							division_has_battalion_in_template = penal_battalion
						}
						add_divisional_commander_xp = 2300
					}
				}
			}


			custom_effect_tooltip = generic_skip_one_line_tt
		}
	}
	
	focus = {
		id = GER_autonomy_in_the_kriegsschulen
		text = "Indoctrinate The SS"
		icon = GFX_focus_GER_appease_the_wehrmacht
		prerequisite = { focus = GER_bribe_senior_officers }
		x = 1
		y = 1
		relative_position_id = GER_bribe_senior_officers
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
				name = GER_autonomy_in_the_kriegsschulen
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_experience_gain_army_factor = 0.1 tooltip = experience_gain_army_factor_tt }
			add_to_variable = { GER_military_army_org_factor = 0.05 tooltip = army_org_factor_tt }
			add_to_variable = { GER_military_command_power_gain_mult = 0.1 tooltip = command_power_gain_mult_tt }		

			custom_effect_tooltip = generic_skip_one_line_tt	
		}
	}
	
	focus = {
		id = GER_expand_the_truppenschulen
		icon = GFX_focus_generic_military_mission #GFX_focus_generic_military_academy
		prerequisite = { focus = GER_autonomy_in_the_kriegsschulen }

		x = 0
		y = 1
		relative_position_id = GER_autonomy_in_the_kriegsschulen
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_manpower = 15000

			add_tech_bonus = {
				name = GER_expand_the_truppenschulen
				bonus = 0.75
				uses = 2
				category = support_tech
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_doctrine_cost_reduction = {
					cost_reduction = 0.75
					uses = 1
					category = special_forces_doctrine
					name = GER_expand_the_truppenschulen
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt


			GER_modify_army_modifier = yes
			add_to_variable = { GER_military_land_doctrine_cost_factor = -0.15 tooltip = land_doctrine_cost_factor_tt }
			
		}
	}

	focus = {
		id = GER_innovative_warfare
		icon = GFX_focus_ARG_develop_the_electricity_sector
		#icon = GFX_focus_generic_university_3
		#icon = GFX_goal_generic_secret_weapon
		#icon = GFX_focus_generic_army_tanks2

		prerequisite = { focus = GER_army_indoctrination focus = GER_autonomy_in_the_kriegsschulen }

		x = 1
		y = 2
		relative_position_id = GER_army_indoctrination
		cost = 10
		available = {
			has_tech = advanced_machine_tools
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				name = GER_innovative_warfare
				#bonus = 1
				ahead_reduction = 2
				uses = 1
				category = armor
				category = artillery
				category = naval_equipment
				category = air_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_special_project_speed_factor = 0.05
				tooltip = special_project_speed_factor_tt
			}
			add_to_variable = { 
				GER_wunderwaffen_production_speed_facility_factor = 0.05
				tooltip = production_speed_facility_factor_tt
			}
		}
	}
focus = {
		id = GER_air_innovation
		text = air_innovation
		icon = GFX_focus_ger_reichskommisariats
		prerequisite = {focus = GER_expanding_the_luftwaffe}
		x = 17
		y = 1
		relative_position_id = GER_heed_von_neuraths_concerns
		cost = 5
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			
			air_experience = 300
							
				55 = {

					set_building_level = {
						type = air_base
						level = 10
						instant_build = yes
					}
					
				}
				51 = {

					set_building_level = {
						type = air_base
						level = 10
						instant_build = yes
					}
					
				}
				57 = {

					set_building_level = {
						type = air_base
						level = 10
						instant_build = yes
					}
					
				}
				50 = {

					set_building_level = {
						type = air_base
						level = 10
						instant_build = yes
					}
					
				}
		}
	}
	
	focus = {
		id = GER_demand_sudetenland

		icon = GFX_focus_generic_attack_czechoslovakia
		alternate_icon = GFX_focus_GER_demand_sudetenland

		prerequisite = { focus = GER_anschluss }

		mutually_exclusive = { focus = GER_befriend_czechoslovakia }

		x = -2
		y = 1
		relative_position_id = GER_anschluss

		cost = 10

		will_lead_to_war_with = CZE
		will_lead_to_war_with = FRA

		bypass = {
			OR = {
				AND = {
					69 = { #NORTH SUDETENLAND
						controller = {
							OR = {
								has_war_with = GER
								tag = ROOT
							}
						}
					}
					972 = { #EASTERN SUDETENLAND
						controller = {
							OR = {
								has_war_with = GER
								tag = ROOT
							}
						}
					}
					74 = { #SOUTH SUDETENLAND
						controller = {
							OR = {
								has_war_with = GER
								tag = ROOT
							}
						}
					}
				}
				CZE = { 
					is_subject_of = ROOT
					OR = {
						has_completed_focus = CZE_german_minor_ally
						has_completed_focus = CZE_german_puppet
					}
				}
			}
		}
		
		cancel = {
			is_subject = yes
		}
		cancel_if_invalid = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			transfer_state = 69
			transfer_state = 972
			transfer_state = 74
			add_state_core = 69
			add_state_core = 972
			add_state_core = 74
			POL = {
				transfer_state = 72
			}
			add_named_threat = { threat = 4 name = GER_demand_sudetenland_threat }
		}
	}
	
	focus = {
		id = GER_first_vienna_award
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = GER_demand_sudetenland }

		x = 0
		y = 1
		relative_position_id = GER_demand_sudetenland
		cost = 5

		bypass = {
			OR = {
				AND = {
					NOT = { CZE = { controls_state = 664 } }
					NOT = { owns_state = 664 }
				}
				HUN = { 
					OR = {
						is_friend_or_potential_friend_of_GER = no
						has_government = communism
						has_government = democratic
					}
				}
				CZE = { is_puppet_of = GER }
				CZE = { is_in_faction_with = GER }
			}
		}

		available = {
			is_subject = no
			HUN = { 
				is_friend_or_potential_friend_of_GER = yes
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			OR = {
				owns_state = 69
				owns_state = 972
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}	
		
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			HUN = {
				transfer_state = 664
				transfer_state = 73
				transfer_state = 76
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			every_other_country = {
				limit = {
					is_faction_leader = yes
				}
				reverse_add_opinion_modifier = { target = HUN modifier = GER_first_vienna_award_other }
			}
		}
	}
	
	focus = {
		id = GER_fate_of_czechoslovakia

		icon = GFX_focus_GER_fate_of_czechoslovakia
		alternate_icon = GFX_focus_GER_fate_of_czechoslovakia_historical

		prerequisite = { focus = GER_first_vienna_award }

		x = 0
		y = 1
		relative_position_id = GER_first_vienna_award
		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		will_lead_to_war_with = CZE

		bypass = {
			OR = {
				has_war_with = CZE
				CZE = { 
					is_in_faction_with = ROOT
					NOT = { is_subject_of = ROOT }
				}
				CZE = { 
					is_subject_of = ROOT
					OR = {
						has_completed_focus = CZE_german_minor_ally
						has_completed_focus = CZE_german_puppet
					}
				}
				NOT = {
					country_exists = CZE
					9 = { is_controlled_by = ROOT }
					75 = { is_controlled_by = ROOT }
				}
				any_allied_country = {
					has_subject = CZE
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			HUN {
				transfer_state = 70
				transfer_state = 71
			}
			annex_country = { target = CZE}
			GER_czechoslovakia_modify_mefo_bills_or_economy_of_conquest = yes
			custom_effect_tooltip = generic_skip_one_line_tt
			add_named_threat = { threat = 5 name = GER_end_of_czechoslovakia }
			set_global_flag = end_of_czechoslovakia
		}
	}

	focus = {
		id = GER_demonstration_of_military_achievements
		icon = GFX_focus_GER_demonstration_of_military_achievements
		prerequisite = { focus = GER_anschluss }

		x = 5
		y = 1
		relative_position_id = GER_anschluss
		cost = 5
		available = {
			surrender_progress < 0.1
			custom_trigger_tooltip = { 
				tooltip = GER_demonstration_of_military_achievements_trigger
				OR = {
					num_subjects > 2
					check_variable = { GER_occupied_states_europe > 19 }
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_political_power = 50
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_country_leader_trait = GER_loyalty_of_wehrmacht
		}
	}

	focus = {
		id = GER_an_invincible_army
		icon = GFX_focus_GER_german_army_invincible
		prerequisite = { focus = GER_demonstration_of_military_achievements }

		x = 0
		y = 1
		relative_position_id = GER_demonstration_of_military_achievements
		cost = 5
		available = {
			surrender_progress < 0.05
			custom_trigger_tooltip = {
				tooltip = GER_an_invincible_army_trigger
				OR = {
					num_subjects > 5
					check_variable = { GER_occupied_states_europe > 49 }
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER }

		completion_reward = {
			if = {
				limit = {
					has_country_leader_with_trait = GER_loyalty_of_wehrmacht
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_loyalty_of_wehrmacht
						add = GER_supreme_commander_armed_forces
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = GER_demonstration_of_military_achievements }
				}
				effect_tooltip = {
					random_character = {
						limit = {
							is_country_leader = yes
						}
						swap_country_leader_traits = {
							remove = GER_loyalty_of_wehrmacht
							add = GER_supreme_commander_armed_forces
						}
					}
				}
			}
			else = {
				add_country_leader_trait = GER_supreme_commander_armed_forces
			}
		}
	}

	focus = {
		id = GER_the_supreme_leader
		icon = GFX_focus_GER_the_supreme_leader
		prerequisite = { focus = GER_an_invincible_army }
		x = -1
		y = 1
		relative_position_id = GER_an_invincible_army
		cost = 5
		available = {
			surrender_progress < 0.01
			has_full_control_of_state = 16
		}

		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					has_country_leader_with_trait = GER_supreme_commander_armed_forces
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_supreme_commander_armed_forces
						add = GER_supreme_leader
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_completed_focus = GER_an_invincible_army }
				}
				effect_tooltip = {
					random_character = {
						limit = {
							is_country_leader = yes
						}
						swap_country_leader_traits = {
							remove = GER_supreme_commander_armed_forces
							add = GER_supreme_leader
						}
					}
				}
			}
			else = {
				add_country_leader_trait = GER_supreme_leader
			}
		}
	}

	focus = {
		id = GER_the_triumphant_will
		icon = GFX_goal_support_fascism
		prerequisite = { focus = GER_an_invincible_army }

		x = 1
		y = 1
		relative_position_id = GER_an_invincible_army
		cost = 5
	
		available = {
			custom_trigger_tooltip = {
				tooltip = GER_improve_national_spirit_tooltip
				OR = {
					GER = { controls_state = 126 }
					any_other_country = {
						is_in_faction_with = GER
						controls_state = 126
					}
				}
				OR = {
					GER = { controls_state = 16 }
					any_other_country = {
						is_in_faction_with = GER
						controls_state = 16
					}
				}
			}
			64 = {
				is_fully_controlled_by = ROOT
			}
		}

		cancel = {
			AND = {
				has_war = no
				126 = {
					owner = {
						NOT = { tag = GER }
						NOT = { is_in_faction_with = GER }
					}
				}
				16 = {
					owner = {
						NOT = { tag = GER }
						NOT = { is_in_faction_with = GER }
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			swap_ideas = {
				remove_idea = sour_loser
				add_idea = triumphant_will
			}	

			IF = {
				limit = {
					has_dlc = "Gotterdammerung"
				}
				custom_effect_tooltip = GER_build_volkshalle_landmark_tt
				hidden_effect = {
					64 = {
						remove_building = {
							type = landmark_berlin_reichstag
							level = 1
							province = 6521
						}
						add_building_construction = {
							type = landmark_berlin_volkshalle
							level = 1
							instant_build = yes
							province = 6521
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
		}
	}


	
	focus = {
		id = GER_reassert_eastern_claims
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = GER_anschluss }

		x = 2
		y = 1
		relative_position_id = GER_anschluss
		cost = 5
		
		bypass = {
			188 = { is_owned_by = GER }
			85 = { is_owned_by = GER }
			86 = { is_owned_by = GER }
		}
		
		available = { 
			is_subject = no 
		}

		will_lead_to_war_with = LIT

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			188 = { add_claim_by = GER }
			85 = { add_claim_by = GER }
			807 = { add_claim_by = GER }
			86 = { add_claim_by = GER }
			762 = { add_claim_by = GER }

			add_named_threat = { threat = 3 name = GER_demand_memel_threat }
			transfer_state = 188
			add_state_core = 188

		}
	}

	
	

	#focus = {
	#	id = GER_second_vienna_award
	#	icon = GFX_goal_generic_cavalry
	#	prerequisite = { focus = GER_fate_of_czechoslovakia focus = GER_integrate_czechoslovakia }
#
	#	x = -2
	#	y = 1
	#	relative_position_id = GER_fate_of_czechoslovakia
	#	cost = 4
	#	
	#	bypass = {
	#		OR = {
	#			AND = {
	#				OR = {
	#					HUN = {
	#						NOT = { has_government = fascism }
	#						is_friend_or_potential_friend_of_GER = no
	#					}
	#					ROM = {
	#						OR = {
	#							AND = {
	#								NOT = { controls_state = 76 }
	#								NOT = { controls_state = 83 }
	#								NOT = { controls_state = 84 }
	#							}
	#							has_war_with = HUN
	#							AND = {
	#								is_in_faction_with = GER
	#								HUN = { NOT = { is_in_faction_with = GER } }#GER should not want to give #territory to Hungary if Romania joined the axis early.
	#							}
	#						}
	#					}
	#				}
	#				OR = {
	#					BUL = { is_friend_or_potential_friend_of_GER = no }
	#					ROM = {
	#						OR = {
	#							NOT = { controls_state = 77 }
	#							has_war_with = BUL					
	#						}
	#					}					
	#				}
	#			}
	#			HUN = { exists = no } 
	#			ROM = { exists = no	}
	#			HUN = { has_capitulated = yes }
	#			ROM = { has_capitulated = yes }
	#			HUN = { is_subject_of = ROM } #just rude
	#		}
	#	}
#
	#	available = {
	#		is_subject = no
	#		is_faction_leader = yes
	#		has_army_manpower = { size > 749999 }
	#		custom_trigger_tooltip = {
	#		 	tooltip = GER_second_vienna_award_eq_trigger_tt
	#		 	check_variable = { num_equipment_in_armies_k@infantry_equipment > 60 }
	#		}
	#		has_capitulated = no
	#	}
#
	#	ai_will_do = {
	#		factor = 10
	#	}
	#	
	#	search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
	#
	#	completion_reward = {
	#	custom_effect_tooltip = "MM: Effects are underwhelming, need something new"
	#		if = {
	#			limit = {
	#				HUN = {
	#					is_friend_or_potential_friend_of_GER = yes
	#				}
	#				ROM = {
	#					controls_state = 76
	#					NOT = { has_war_with = HUN }
	#				}
	#			}
	#			country_event = { 
	#				id = germany.20 
	#			}
	#		}
	#	}
	#}

	focus = {
		id = GER_form_rome_berlin_axis

		icon = GFX_focus_befriend_italy
		alternate_icon = GFX_focus_GER_befriend_italy

		prerequisite = { focus = GER_fate_of_czechoslovakia focus = GER_integrate_czechoslovakia }
		x = 0
		y = 1
		relative_position_id = GER_fate_of_czechoslovakia
		cost = 1

		bypass = {
			OR = {
				is_in_faction_with = ITA
				has_war_with = ITA
				NOT = { country_exists = ITA }
				ITA = {
					OR = {
						NOT = { has_government = fascism }
						is_subject = yes
					}
				}
			}
		}

		available_if_capitulated = yes
		
		available = {
			is_faction_leader = yes
			is_subject = no
			NOT = { has_war_with = ITA }
			ITA = {
				has_government = fascism
				is_subject = no
			}
			NOT = { has_country_flag = ENG_ditched_the_italians_flag }
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }

		completion_reward = {
			ITA = {
				add_opinion_modifier = { target = GER modifier = ger_ita_alliance_focus }
				hidden_effect = {
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 50
					}
					ROOT = {
						add_ai_strategy = {
							type = befriend
							id = PREV
							value = 50
						}
					}
					country_event = { id = generic.5 hours = 4 random_hours = 4 }
				}
				custom_effect_tooltip = generic_invite_to_faction_tt
			}
		}
	}

	focus = {
		id = GER_danzig_or_war

		icon = GFX_focus_GER_danzig_or_war
		alternate_icon = GFX_focus_GER_danzig_or_war_historical

		prerequisite = { focus = GER_molotov_ribbentrop_pact }
		x = 0
		y = 1
		relative_position_id = GER_molotov_ribbentrop_pact
		cost = 1

		will_lead_to_war_with = POL

		bypass = {
			OR = {
				has_war_with = POL
				is_in_faction_with = POL
				NOT = {
					85 = {
						controller = {
							original_tag = POL 
						}
						owner = {
							original_tag = POL 
						}
					}
				}
			}
		}

		continue_if_invalid = yes

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				OR = {
					date < 1939.1.1
					any_neighbor_country = {
						has_war_with = GER
						NOT = { has_capitulated = yes }
						strength_ratio = {
							tag = GER
							ratio > 0.6
						}
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}	
		
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }
		
		completion_reward = {
			sound_effect = ww2_begins
			ENG = {
				add_to_faction = POL
			}
			add_named_threat = { threat = 5 name = GER_danzig_or_war }
			declare_war_on = {
				target = POL  # Country tag to declare war on (e.g. GER, SOV, USA)
				type = annex_everything
			}
		}
	}
	
	focus = {
		id = GER_subjugate_romanian_economy
		text = "Integrate War Economies"
		icon = GFX_focus_GER_subjugate_romanian_economy
		prerequisite = { focus = GER_align_hungary }

		x = 0
		y = 1
		relative_position_id = GER_align_hungary
		cost = 5
		available = {
			date > 1941.1.1
			ROM = {
	
				fascism > 0.35
				has_full_control_of_state = 46
				NOT = { has_war_with = ROOT }
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
				}
				threat > 0.3
			}

		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

	complete_tooltip = {
		every_state = {
			limit = { has_state_flag = GER_integrate_war_economies_1 }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
		}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_2 }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		HUN = {
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_1 }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_2 }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
		ROM = {
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_1 }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_2 }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}
		
	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
	HUN = { 
		country_event = { id = wtt_germany.72 }
		if = {
			limit = {
				has_dlc = "Death or Dishonor" 
				is_subject = no
			}
			GER =  { set_autonomy = { target = HUN autonomy_state = autonomy_satellite } }
		}

		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}			
		}
			random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
		}	
	} 
	random_owned_controlled_state = {
		add_extra_state_shared_building_slots = 2
		add_building_construction = {
			type = arms_factory
			level = 2
			instant_build = yes
		}
					
	}
				
			
	ROM = { 
		country_event = { id = wtt_germany.72 }
		if = {
			limit = {
				has_dlc = "Death or Dishonor" 
				is_subject = no
			}
			GER =  { set_autonomy = { target = ROM autonomy_state = autonomy_satellite } }
		}
			
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
							type = arms_factory
							level = 3
							instant_build = yes
			
				}	
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
							type = arms_factory
							level = 3
							instant_build = yes
			
				}	
			}
		}
				
				 
				
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
				}
					
			}
				
			
			
		BUL = { 
			country_event = { id = wtt_germany.72 }
			if = {
				limit = {
					has_dlc = "Death or Dishonor" 
					is_subject = no
				}
				GER =  { set_autonomy = { target = BUL autonomy_state = autonomy_satellite } }		
			}
			random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}											
	}

}
	
		
	focus = {
		id = GER_around_maginot

		icon = GFX_focus_GER_around_maginot
		alternate_icon = GFX_focus_GER_around_maginot_historical

		prerequisite = { focus = GER_danzig_or_war }
		mutually_exclusive = { focus = GER_influence_the_benelux }
		x = -1
		y = 2
		relative_position_id = GER_danzig_or_war
		cost = 1

		will_lead_to_war_with = BEL
		will_lead_to_war_with = HOL
		will_lead_to_war_with = LUX
		will_lead_to_war_with = FRA

		bypass = {
			HOL = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
			BEL = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
			LUX = {
				OR = {
					exists = no
					is_in_faction_with = GER
					has_war_with = ROOT
				}
			}
		}

		available = {
			is_subject = no
			OR = {
				NOT = { HOL = { is_in_faction_with = GER } }
				NOT = { BEL = { is_in_faction_with = GER } }
				NOT = { LUX = { is_in_faction_with = GER } }
			}
		}

		historical_ai = {
			date > 1939.1.1
			NOT = {
				any_home_area_neighbor_country = {
					NOT = { tag = FRA }
					NOT = { tag = DEN }
					has_war_with = ROOT
					surrender_progress < 0.5
				}
			}
		}

		ai_will_do = {
			factor = 10			
			modifier = {
				factor = 0.05
				date < 1939.1.1
			}			
			modifier = {
				factor = 0.2
				any_home_area_neighbor_country = {
					NOT = { tag = FRA }
					has_war_with = ROOT
					surrender_progress < 0.5
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			#limit wargoals to when it makes sense to give them. No faction, war or non exist
			if = { 
				limit = {
					country_exists = BEL
					NOT = { BEL = { is_in_faction_with = GER } }
					NOT = { has_war_with = BEL }
				}
				create_wargoal = {
					type = take_state_focus
					target = BEL
					expire = 0
					generator = { 6 }
				}
			}
			if =  {
				limit = {
					country_exists = HOL
					NOT = { HOL = { is_in_faction_with = GER } }
					NOT = { has_war_with = HOL }
					NOT = { HOL = { has_completed_focus = HOL_cave_to_the_germans } }
				}
				create_wargoal = {
					type = take_state_focus
					target = HOL
					expire = 0
					generator = { 7 }
				}
			}
			if =  {
				limit = {
					country_exists = HOL
					NOT = { HOL = { is_in_faction_with = GER } }
					NOT = { has_war_with = HOL }
					HOL = { has_completed_focus = HOL_cave_to_the_germans } 
					NOT = { HOL = { has_completed_focus = HOL_the_netherlands_first } }
				}
				HOL = {
					country_event = { id = mtg_germany.1 hours = 6 }
				}
			}
			if = {
				limit = {
					country_exists = LUX
					NOT = { LUX = { is_in_faction_with = GER } }
					NOT = { has_war_with = LUX }
				}
				create_wargoal = {
					type = take_state_focus
					target = LUX
					expire = 0
					generator = { 8 }
				}		
				add_ai_strategy = { 
					type = conquer
					id = LUX
					value = 100
				}		
			}
			GER={declare_war_on = { target = HOL type = annex_everything }}
			GER={declare_war_on = { target = BEL type = annex_everything }}
			GER={declare_war_on = { target = LUX type = annex_everything }}
			ENG = {
				add_to_faction = HOL
			}
			ENG = {
				add_to_faction = BEL
			}
			ENG = {
				add_to_faction = LUX
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.234 }
			}
		}
	}

	focus = {
		id = GER_operation_weserubung

		icon = GFX_focus_GER_operation_wesserubung
		alternate_icon = GFX_focus_GER_operation_wesserubung_historical

		prerequisite = { focus = GER_danzig_or_war }
		mutually_exclusive = { focus = GER_utilize_the_nordliche_gesellschaft }
		x = 1
		y = 2
		relative_position_id = GER_danzig_or_war
		cost = 1

		will_lead_to_war_with = DEN 
		will_lead_to_war_with = NOR
		
		bypass = {
			AND = {
				DEN = { 
					OR = {
						is_in_faction_with = ROOT
						exists = no
					}
				}
				NOR = { 
					OR = {
						is_in_faction_with = ROOT
						exists = no
					}
				}
			}
		}

		available = {
			is_subject = no
			hidden_trigger = {
				OR = {
					AND = {
						is_ai = yes
						NOT = { has_country_flag = SWE_GER_avoid_dow_nordics }
					}

					is_ai = no
				}
			}

			10 = {
				controller = {
					OR = {
						is_in_faction_with = ROOT
						original_tag = GER
					}
				}
			}
			85 = {
				controller = {
					OR = {
						is_in_faction_with = ROOT
						original_tag = GER
					}
				}
			}
			OR = { 
				has_war_with = ENG
				NOT = {country_exists = ENG}
			}
		}

		ai_will_do = {
			factor = 10	
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		historical_ai = {
			any_home_area_neighbor_country = {
				OR = {
					NOT = { has_war_with = ROOT	}
					POL = { has_capitulated = yes }
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		complete_tooltip = {
			custom_effect_tooltip = GER_weserubung_tt_complete
		}

		completion_reward = {

			if = {
				limit = {
					NOT = { DEN = { is_in_faction_with = GER } }
					country_exists = DEN					
				} 
				create_wargoal = {
					type = take_state_focus
					target = DEN
					expire = 0
					generator = { 37 }
				}
			}


			if = {
				limit = {
					NOT = { NOR = { is_in_faction_with = GER } }
					country_exists = NOR					
				} 
				create_wargoal = {
					type = take_state_focus
					target = NOR
					expire = 0
					generator = { 110 }
				}
			}
			GER={declare_war_on = { target = NOR type = annex_everything }}
			GER={declare_war_on = { target = DEN type = annex_everything }}
			ENG = {
				add_to_faction = NOR
			}
			ENG = {
				add_to_faction = DEN
			}
			
			add_tech_bonus = {
				name = tp_bonus
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = tp_tech
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.233 }
			}

			custom_effect_tooltip = GER_weserubung_tt
		}
	}

	
	focus = {
		id = GER_war_with_france

		icon = GFX_focus_attack_france
		alternate_icon = GFX_focus_GER_war_with_france

		prerequisite = { focus = GER_around_maginot focus = GER_operation_weserubung }

		x = 1
		y = 1
		relative_position_id = GER_around_maginot
		cost = 1

		bypass = {
			OR = {
				NOT = { country_exists = FRA }
				has_war_with = FRA
			}
		}
		
		available = {
			is_subject = no			
			NOT = { is_in_faction_with = FRA }
		}

		historical_ai = {
			date > 1939.1.1
			NOT = {
				any_neighbor_country = {
					has_war_with = ROOT
				}		
			}
		}

		ai_will_do = {
			factor = 10			
			modifier = {
				factor = 0.05
				date < 1939.1.1
			}
		}
		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			add_named_threat = { threat = 5 name = GER_war_with_france_threat }
 			GER={declare_war_on = { target = SOV type = annex_everything }}
		}
	}

	
	focus = {
		id = GER_reintegrate_luxemburg_and_alsace_lorraine
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = GER_war_with_france }

		x = 4
		y = 2
		relative_position_id = GER_war_with_france
		cost = 5

		cancel_if_invalid = yes
		
		available = {
			is_subject = no
			has_full_control_of_state = 8
			has_full_control_of_state = 28
			OR = {
				owns_state = 28
				FRA = { has_capitulated = yes }
				FRA = { is_subject_of = ROOT }
				all_country_with_original_tag = {
					original_tag_to_check = FRA
					exists = no
				}
			}
			OR = {
				LUX = { has_capitulated = yes }
				LUX = { is_subject_of = ROOT }
				all_country_with_original_tag = {
					original_tag_to_check = LUX
					exists = no
				}
			}
		}

		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_MANPOWER }
		
		completion_reward = {
			add_state_core = 8
			add_state_core = 28
			if = {
				limit = {
					NOT = { owns_state = 28 }
				}
				transfer_state = 28
			}
			# Currently these names will now instead be dynamically renamed upon becoming owned by Germany
			#28 = { set_state_name = "Elsass-Lothringen" }
			#set_province_name = { id = 9503 name = "Strassburg" }
			#set_province_name = { id = 678 name = "Mulhausen" }
			if = {
				limit = {
					has_global_flag = flag_franco_british_union
				}
				ENG = {
					country_event = { id = wtt_germany.63 }
				}
			}
			else_if = {
				limit = {
					any_country = {
						original_tag = FRA
						exists = yes
					}
				}
				FRA = {
					country_event = { id = wtt_germany.63 }
				}
			}
			if = {
				limit = {
					any_country = {
						original_tag = LUX
						exists = yes
					}
				}
				LUX = {
					country_event = { id = wtt_germany.64 }
				}
			}
		}
	}
	
	
	focus = {
		id = GER_the_swiss_gold
		icon = GFX_focus_GER_the_swiss_gold
		prerequisite = { focus = GER_war_with_france }
		mutually_exclusive = { focus = GER_operation_tannenbaum }
		x = 3
		y = 1
		relative_position_id = GER_war_with_france
		cost = 5
		available = {
			SWI = {
				exists = yes
				has_war = no
				NOT = { has_government = communism }
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = { #This is so that it shows "Modify NS" by default, since most likely Anschluss will be completed and NS will be there. But if Anschluss is bypassed without getting the DM, the tooltip will be adjusted.
				limit = {
					NOT = { has_completed_focus = GER_anschluss }
				}
				custom_effect_tooltip = GER_modify_military_intelligence_service_modifier_tt
			}
			else = {
				GER_add_or_modify_military_intelligence_service = yes
			}
			add_to_variable = {
				GER_military_intelligence_service_consumer_goods_factor = -0.1
				tooltip =  consumer_goods_factor_tt
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_to_variable = { 
					GER_military_intelligence_service_decryption_power = 0.15
					tooltip = decryption_factor_tt
				}
				add_to_variable = { 
					GER_military_intelligence_service_intel_network_gain_factor = 0.1
					tooltip = intel_network_gain_factor_tt
				}
			}
			else = {
				add_to_variable = { 
					GER_military_intelligence_service_decryption_factor = 0.1
					tooltip = decryption_factor_tt
				}
				add_to_variable = { 
					GER_military_intelligence_service_subversive_activites_upkeep = -0.2
					tooltip = subversive_activites_upkeep_tt
				}
			}
		}
	}
	
	

	focus = {
		id = GER_operation_sea_lion
		text = "Prepare For The Sealion"
		icon = GFX_focus_generic_naval_invasion
		prerequisite = { focus = GER_war_with_france }

		x = -1
		y = 1
		relative_position_id = GER_war_with_france
		cost = 5

		available = {
			has_war_with = ENG
			has_full_control_of_state = 16
			has_full_control_of_state = 29
			has_full_control_of_state = 15
			has_full_control_of_state = 14
			has_full_control_of_state = 6
			has_full_control_of_state = 7
			date > 1940.1.1
		}

		bypass = {
			ENG = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
					exists = no
				}
			}
		}

		search_filters = {}

		completion_reward = {
			add_timed_idea = {
				idea = GER_operation_sea_lion_ns
				days = 40
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = { #This is so that it shows "Modify NS" by default, since most likely Anschluss will be completed and NS will be there. But if Anschluss is bypassed without getting the DM, the tooltip will be adjusted.
					limit = {
						NOT = { has_completed_focus = GER_anschluss }
					}
					custom_effect_tooltip = GER_modify_military_intelligence_service_modifier_tt
				}
				else = {
					GER_add_or_modify_military_intelligence_service = yes
				}
				add_to_variable = { 
					GER_military_intelligence_service_operative_slot = 1
					tooltip = operative_slot_tt
				}
				GER_create_operative_norman_stewart = yes
			}
		}
	}
	
	focus = {
		id = GER_crossing_the_atlantic
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = GER_operation_sea_lion }

		x = 0
		y = 1
		relative_position_id = GER_operation_sea_lion
		cost = 10

		cancel_if_invalid = yes
		
		available = {
			has_full_control_of_state = 126
			has_full_control_of_state = 128
			has_full_control_of_state = 127
			has_full_control_of_state = 125
			has_full_control_of_state = 119
			has_full_control_of_state = 120
		}

		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
		
			add_ideas = GER_crossing_the_atlantic_ns
		}
	}
	
	focus = {
		id = GER_establish_control_over_halifax

		icon = GER_focus_GER_rhineland

		prerequisite = { focus = GER_crossing_the_atlantic}
		x = 1
		y = 1
		relative_position_id = GER_crossing_the_atlantic

		cost = 10
		available = {
			has_full_control_of_state = 332
			has_full_control_of_state = 331
			has_full_control_of_state = 464
			has_full_control_of_state = 465
			has_full_control_of_state = 468
		}

		completion_reward = {

			add_ideas = GER_into_the_NA
		}

	}

	focus = {
		id = GER_challenge_the_monroe_doctrine

		icon = GFX_focus_por_recover_latin_america

		prerequisite = { focus = GER_crossing_the_atlantic }

		x = -1
		y = 1
		relative_position_id = GER_crossing_the_atlantic

		cost = 5

		available = {
			has_full_control_of_state = 687
			has_full_control_of_state = 309
			has_full_control_of_state = 310
			has_full_control_of_state = 691
			has_full_control_of_state = 692
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {

			add_ideas = GER_crossing_the_atlantic_2_ns
		}
	}

	focus = {
		id = GER_shatter_usas_hegemony
		icon = GFX_focus_GER_shatter_usas_hegemony
		prerequisite = { focus = GER_establish_control_over_halifax }

		x = 0
		y = 1
		relative_position_id = GER_establish_control_over_halifax
		cost = 5
		available = {
			is_subject = no
			OR = {
				has_wargoal_against = USA
				has_war_with = USA
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		bypass = {
			USA = {
				exists = no
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {

			add_timed_idea = {
				idea = GER_shatter_USA_hegemony_ns
				days = 45
			}
		}
	}
	
	focus = {
		id = GER_establish_protectorates_in_america
		text = "The Man In The High Castle"
		icon = GFX_focus_GER_establish_protectorates_in_america
		
		prerequisite = { focus = GER_challenge_the_monroe_doctrine }
		prerequisite = { focus = GER_shatter_usas_hegemony}

		x = 1
		y = 2
		relative_position_id = GER_challenge_the_monroe_doctrine
		cost = 10
		available = {
			is_subject = no
			has_government = fascism
			has_completed_focus = GER_uplift_the_rosenberg_office
			any_controlled_state = {
				OR = {
					is_on_continent = south_america
					is_on_continent = north_america
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		completion_reward = {

			every_state = {
				limit = {
					is_on_continent = south_america 
					OWNER = {
						capital_scope = {
							NOT = {
								is_on_continent = south_america 
							}
						}
					}
					NOT = {
						OR = {
							is_claimed_by = ROOT
							is_core_of = ROOT
							is_owned_by = ROOT
						}
					}
				}
				add_claim_by = ROOT
			}
			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = GER_reichskommissariat_klein_venedig
			unlock_decision_tooltip = GER_reichskommissariat_anden
			unlock_decision_tooltip = GER_reichskommissariat_kolumbus
			unlock_decision_tooltip = GER_reichskommissariat_nordamerika

		}
	}

	focus = {
		id = GER_fate_of_yugoslavia

		icon = GFX_focus_GER_fate_of_yugoslavia

		prerequisite = { focus = GER_danzig_or_war }
		x = 2
		y = 1
		relative_position_id = GER_danzig_or_war

		cost = 1

		bypass = {
			OR = {
				has_war_with = YUG
				NOT = { country_exists = YUG }
				any_other_country = {
					is_in_faction_with = ROOT
					OR = {
						has_war_with = YUG
						YUG = {
							is_puppet_of = PREV
						}
					}
				}
			}
		}

		will_lead_to_war_with = YUG
		
		available = {
			has_full_control_of_state = 16
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_ANNEXATION }	
		
		completion_reward = {
			declare_war_on = {
				target = YUG  # Country tag to declare war on (e.g. GER, SOV, USA)
				type = annex_everything
			}
		}
	}

	focus = {
		id = GER_fate_of_greece

		icon = GFX_focus_GER_fate_of_greece
		#alternate_icon = GFX_focus_GER_fate_of_greece_historical

		prerequisite = { focus = GER_danzig_or_war }

		x = -2
		y = 1
		relative_position_id = GER_danzig_or_war 
		cost = 1
		
		available = {
			has_full_control_of_state = 16
		}


		will_lead_to_war_with = GRE

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}	
		
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			declare_war_on = {
				target = GRE  # Country tag to declare war on (e.g. GER, SOV, USA)
				type = annex_everything
			}
		}
	}

	focus = {
		id = GER_reorganize_the_wehrmacht #von Ribbentrop

		icon = GFX_focus_GER_reorganize_the_wehrmacht
		alternate_icon = GFX_focus_GER_reorganize_the_wehrmacht_historical

		prerequisite = { focus = GER_remilitarize_the_rhineland }
		mutually_exclusive = { focus = GER_heed_von_neuraths_concerns }
		x = 70
		y = 1
		relative_position_id = GER_heed_von_neuraths_concerns
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_political_power = 50
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = joachim_von_ribbentrop

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_konstantin_von_neurath
				ROLE = political_advisor
			}

			#This is bad (too long)
			#custom_effect_tooltip = remove_political_advisor
			#show_ideas_tooltip = konstantin_von_neurath

			#This is even worse (errors, no need to retire anyone)
			#retire_character = GER_konstantin_von_neurath
			
			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_werner_von_blomberg
				ROLE = fm_leader
			}

			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_werner_von_fritsch
				ROLE = cc_leader
			}

			custom_effect_tooltip = {
				localization_key = remove_character_as_tt
				CHARACTER = GER_oswald_lutz
				ROLE = cc_leader
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer
						add = GER_der_fuhrer_wehrmacht
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_fuhrerprinzip
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_fuhrerprinzip
						add = GER_der_fuhrer_fuhrerprinzip_wehrmacht
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = GER_fuhrerprinzip
				}
				add_country_leader_trait = GER_der_fuhrer_fuhrerprinzip_wehrmacht
			}
			else = {
				add_country_leader_trait = GER_der_fuhrer_wehrmacht
			}
		}
	}

	focus = {
		id = GER_anti_comintern_pact

		icon = GFX_goal_anti_comintern_pact
		alternate_icon = GFX_focus_GER_anti_comintern_pact

		prerequisite = { focus = GER_remilitarize_the_rhineland }

		x = 2
		y = 0
		relative_position_id = GER_reorganize_the_wehrmacht
		cost = 5
		
		bypass = {
			SOU = {
				OR = {
					NOT = {
						has_government = communism
					}
					exists = no
				}
			}
		}

		available = {
			is_subject = no
			NOT = { has_government = communism }
			NOT = { is_in_faction_with = SOU }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {
			SOU = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
			add_named_threat = { threat = 2 name = GER_anti_comintern_pact }
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
					NOT = { is_in_faction_with = SOU }
					is_subject = no
					OR = {
						capital_scope = {
							is_on_continent = europe
						}
						capital_scope = {
							is_on_continent = asia
						}
						num_of_factories > 30
					}
					OR = {
						has_government = fascism 
						AND = {
							is_neighbor_of = SOU
							NOT = { has_government = communism }
						}
					}
				}
				country_event = germany.5
			}
		}
	}

	focus = {
		id = GER_anti_soviet_pact
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = GER_anti_comintern_pact }
		mutually_exclusive = { focus = GER_molotov_ribbentrop_pact }
		x = 0
		y = 1
		relative_position_id = GER_anti_comintern_pact
		cost = 5
		
		available = {
			is_subject = no
			SOU = {
				has_government = communism
			}
		}

		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0.1
				has_idea = SOV_soviet_german_trade_agreement
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		
		search_filters = {}
		
		completion_reward = {
			hidden_effect = {
				SOV = { remove_opinion_modifier = { target = ROOT modifier = pact_against_us } }
				add_ideas = anti_soviet_pact
			}
			SOU = { add_opinion_modifier = { target = ROOT modifier = worse_pact_against_us } }
			custom_effect_tooltip = GER_anti_soviet_pact_tt_3

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = GER_anti_soviet_pact_tt
			custom_effect_tooltip = GER_anti_soviet_pact_tt_2
			every_other_country = {
				limit = {
					has_opinion_modifier = anti_comintern_pact_opinion
					OR = {
						NOT = { is_in_faction = yes }
						is_in_faction_with = GER
					}
					NOT = { tag = GER }
					NOT = { has_war_with = GER }
				}
				country_event = germany.83
			}
			hidden_effect = {
				news_event = { hours = 12 id = news.215 }
			}
		}
	}


	focus = {
		id = GER_war_with_the_ussr

		icon = GFX_focus_attack_soviet
		alternate_icon = GFX_focus_GER_war_with_the_ussr

		prerequisite = { focus = GER_war_with_france }
		x = 2
		y = 3
		relative_position_id = GER_war_with_france
		cost = 1

		will_lead_to_war_with = SOV

		bypass = {
			OR = {
				has_war_with = SOV
				SOV = {
					exists = no
				}
			}
		}

		available_if_capitulated = no

		available = {
			date > 1941.6.21
		}

		cancel = {
			is_subject = yes
			NOT = { country_exists = SOV }
		}

		historical_ai = {
			# Only if we have defeated our enemies
			NOT = {
				any_home_area_neighbor_country = {
					has_war_with = ROOT
					has_capitulated = no
					# Honestly, let's not care about the scandinavian countries
					NOT = {
						OR = {
							tag = NOR
							tag = DEN 
							tag = LUX # Or Luxenburg for that matter. 
						}
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_army_manpower = { size < 1199999 }
					any_home_area_neighbor_country = {
						has_war_with = ROOT
					}
				}
			}
			modifier = {
				factor = 0 #AI should not pick this focus if it does not share a border with the Soviets
				NOT = { 
					any_home_area_neighbor_country = {
						tag = SOV
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			sound_effect = barbarossa_begin
			GER={declare_war_on = { target = SOV type = annex_everything }}
			IF = {
				limit = {
					KUB = {
						exists = no
					}
					DON = {
						exists = no
					}
					SOV = {
						NOT = {
							has_completed_focus = SOV_beaten_but_not_defeated
						}
					}
				}
				country_event = {
					id = wuw_GER_legions.8
				}	
			}
		}
	}

	focus = {
		id = GER_molotov_ribbentrop_pact

		icon = GFX_goal_molotov_ribbentrop_pact
		alternate_icon = GFX_focus_GER_molotov_ribbentrop_pact

		prerequisite = { focus = GER_reassert_eastern_claims }
		mutually_exclusive = { focus = GER_anti_soviet_pact }
		x = 0
		y = 1
		relative_position_id = GER_reassert_eastern_claims
		cost = 5
		
		available = {
			date > 1939.3.1
		}

		cancel = {
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
				has_global_flag = beck_ribbentrop_signed
			}
		}

		continue_if_invalid = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GER_anti_comintern_pact }
			}
			modifier = {
				factor = 2
				has_idea = SOV_soviet_german_trade_agreement
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL }
	
		completion_reward = {
				SOV = {
					add_political_power = 200
				}
				GER = {
					add_political_power = 200
				}
				add_resource = {
					type = aluminium
					amount = 10
					state = 64
				}
		}
	}

	focus = {
		id = GER_treaty_with_the_ussr
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = GER_develop_modern_maneuver_warfare }

		x = 0
		y = 1
		relative_position_id = GER_develop_modern_maneuver_warfare
		cost = 10
		
		bypass = { 
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
				has_completed_focus = GER_bulwark_against_bolshevism
				has_completed_focus = GER_the_great_red_menace
			}
		}



		cancel = { 
			OR = {
				has_war_with = SOV
				NOT = { country_exists = SOV }
			} 
		}

		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			SOV = {
				country_event = { id = germany.75 days = 1 }
				custom_effect_tooltip = needs_approval
				# Actual reward effects added in event if Soviets approve
				effect_tooltip = {
					# Trade influence with the USSR? Or simply let the opinion mod do the work
					give_SOV_armor_research_bonuses = yes
				}
			}

			if = {
				limit = { 
					has_dlc = "No Step Back"
				}
				#custom_effect_tooltip = GER_soviet_treaty_research_nsb_tt #Obsolete now
				effect_tooltip = {
					create_equipment_variant = {
						name = "Panzer VII Löwe"
						type = heavy_tank_chassis_2
						design_team = mio:GER_daimler_benz_organization #We feed on your tears
						parent_version = 0
						modules = {
							main_armament_slot = tank_heavy_cannon_2
							turret_type_slot = tank_heavy_two_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = tank_radio_1
							special_type_slot_2 = additional_machine_guns
							special_type_slot_3 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 6
							tank_nsb_armor_upgrade = 6
						}
						icon = "GFX_GER_improved_heavy_tank_medium"
					}
					create_equipment_variant = {
						name = "Panzerjäger Elefant"
						type = heavy_tank_destroyer_chassis_2
						design_team = mio:GER_porsche_organization #We feed on your tears
						parent_version = 0
						modules = {
							main_armament_slot = tank_heavy_cannon_2
							turret_type_slot = tank_heavy_fixed_superstructure_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = tank_radio_1
							special_type_slot_2 = additional_machine_guns
							special_type_slot_3 = squeezebore_adaptor
							special_type_slot_4 = sloped_armor
						}
						upgrades = {
							tank_nsb_engine_upgrade = 6
							tank_nsb_armor_upgrade = 6
						}
						icon = "GFX_GER_improved_heavy_tank_medium"
					}	
					add_tech_bonus = {
						name = armor_bonus
						bonus = 2.0
						uses = 1
						category = armor
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			else = {
				effect_tooltip = {
					add_tech_bonus = {
						name = med_armor_bonus
						ahead_reduction = 1
						category = cat_medium_armor
					}
					add_tech_bonus = {
						name = armor_bonus
						bonus = 1.0
						uses = 2
						category = armor
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 1
			}

			SOV = {
				add_breakthrough_progress = {
					specialization = specialization_land
					value = 1
				}
			}
		}
	}

	

	focus = {
		id = GER_befriend_japan

		icon = GFX_focus_chi_collaboration_with_the_japanese
		alternate_icon = GFX_focus_GER_befriend_japan

		prerequisite = { focus = GER_anti_comintern_pact }
		x = 2
		y = 0
		relative_position_id = GER_anti_soviet_pact
		cost = 5
		
		available_if_capitulated = yes

		available = {
			is_subject = no
			AND = {
				country_exists = JAP
				JAP = { is_subject = no }
				NOT = { has_war_with = JAP }
				JAP = {
					custom_trigger_tooltip = {
						tooltip = GER_alone_or_peace_faction_tt
						is_alone_or_in_faction_at_peace_with_GER = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				is_in_faction_with = JAP
				factor = 0 #GER-sempai has already noticed you!
			}
		}

		search_filters = { FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			JAP = {
				country_event = {
					id = wuw_GER_diplomacy.90
					hours = 12
				}
				set_country_flag = GER_JAP_nap_request_flag
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			effect_tooltip = {
				JAP = {
					add_opinion_modifier = { target = GER modifier = ger_jap_diplomacy_focus }
				}
				diplomatic_relation = { 
					country = JAP
					relation = non_aggression_pact 
				}

			}

			event_target:WTT_current_china_leader = {
				add_opinion_modifier = { target = GER modifier = withdrew_advisors }
				country_event = { id = china.3 hours = 6 }
			}
			custom_effect_tooltip = GER_japan_friend_tt
			set_global_flag = falkenhausen_recalled
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				show_unit_leaders_tooltip = GER_alexander_von_falkenhausen
			}

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Afrikanische Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Afrikanische Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 98
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_1_entity
				}

				delete_unit_template_and_units = {
					division_template = "Askari Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Askari Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 67
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_2_entity
				}

				delete_unit_template_and_units = {
					division_template = "Asiatische Schutztruppe"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Asiatische Schutztruppe"	
					division_names_group = GER_MIL_02
					template_counter = 99
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
					override_model = GER_infantry_alt_3_entity
				}
			}
			
		}
	}

	



	
	
	
	



#### ##    ## ##    ## ######## ########      ######  #### ########   ######  ##       ######## 
 ##  ###   ## ###   ## ##       ##     ##    ##    ##  ##  ##     ## ##    ## ##       ##       
 ##  ####  ## ####  ## ##       ##     ##    ##        ##  ##     ## ##       ##       ##       
 ##  ## ## ## ## ## ## ######   ########     ##        ##  ########  ##       ##       ######   
 ##  ##  #### ##  #### ##       ##   ##      ##        ##  ##   ##   ##       ##       ##       
 ##  ##   ### ##   ### ##       ##    ##     ##    ##  ##  ##    ##  ##    ## ##       ##       
#### ##    ## ##    ## ######## ##     ##     ######  #### ##     ##  ######  ######## ########



	focus = {
		id = GER_fuhrerprinzip

		dynamic = yes
		
		alternate_icon = GFX_focus_GER_support_the_fuhrer_historical

		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_fritz_todt
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_todt
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_albert_speer
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_speer
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_hermann_goring
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_goring
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_heinrich_himmler
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_himmler
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_joseph_goebbels
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_goebbels
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_rudolf_hess
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_hess
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_martin_bormann
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_bormann
		}
		icon = {
			trigger = {
				has_country_leader = {
					ruling_only = yes
					character = GER_eva_braun
				}
			}
			value = GFX_focus_GER_fuhrerprinzip_braun
		}
		icon = GFX_focus_GER_support_the_fuhrer

		prerequisite = { focus = GER_remilitarize_the_rhineland }
		x = -9
		y = 8
		relative_position_id = GER_remilitarize_the_rhineland
		cost = 2
		available = {
			has_government = fascism
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = GER_fuhrerprinzip_inner_circle_tt
			add_political_power = 50
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer
						add = GER_der_fuhrer_fuhrerprinzip
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_wehrmacht
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_wehrmacht
						add = GER_der_fuhrer_fuhrerprinzip_wehrmacht
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_with_trait = GER_der_fuhrer_neurath
				}
				random_character = {
					limit = {
						is_country_leader = yes
					}
					swap_country_leader_traits = {
						remove = GER_der_fuhrer_neurath
						add = GER_der_fuhrer_fuhrerprinzip_neurath
					}
				}
			}
			# No fallback if country leader is not Hitler and the Werhmacht / Neurath focuses are completed

			hidden_effect = {
				add_dynamic_modifier = {
					modifier = GER_the_inner_circle_dm
				}
			}
		}
	}

	focus = {
		id = GER_ascension_of_todt
		icon = GFX_focus_GER_ascension_of_todt
		prerequisite = { focus = GER_fuhrerprinzip }

		x = -7
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_todt_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_fritz_todt
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_todt_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_fritz_todt
			}
			show_ideas_tooltip = GER_todt_reich_engineer

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_fritz_todt
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 1 }
						check_variable = { GER_ascended_advisor_2 = 1 }
						check_variable = { GER_ascended_advisor_3 = 1 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 1 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_fritz_todt
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_todt_reich_engineer
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 1 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 1 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 1 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_todt.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }

				clr_country_flag = GER_todt_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				if = { #If historical make sure Todt is not picked ever after being replaced by Speer in the Intrigue Event
					limit = {
						GER_is_historical_ai = yes
					}
					set_country_flag = GER_todt_was_ascended_flag #Flag to prevent AI from taking the focus again after advisor has been replaced
				}
				else = {
					set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
						flag = GER_todt_was_ascended_flag
						days = 1500 # Clear after ~4 years 
						value = 1
					}
				}
			}
		}
	}

	focus = {
		id = GER_form_organization_todt
		icon = GFX_focus_GER_form_organization_todt
		prerequisite = { focus = GER_ascension_of_todt }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_todt
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_form_organization_todt_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_fritz_todt
						FLAG_DAYS = [?GER_form_organization_todt_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 3
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_idea = GER_philipp_holzmann
				}
				swap_ideas = {
					remove_idea = GER_philipp_holzmann
					add_idea = GER_organization_todt
				}
			}
			else = {
				effect_tooltip = {
					custom_effect_tooltip = available_designer
					show_ideas_tooltip = GER_organization_todt
				}
			}
		}
	}

	focus = {
		id = GER_autonomous_organization_todt
		icon = GFX_focus_GER_autonomous_organization_todt
		mutually_exclusive = { focus = GER_plenipotentiary_of_armaments focus = GER_plenipotentiary_of_the_four_year_plan }
		prerequisite = { focus = GER_form_organization_todt }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_form_organization_todt
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_autonomous_organization_todt_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_fritz_todt
						FLAG_DAYS = [?GER_autonomous_organization_todt_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = no
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_fritz_todt
			}
			swap_ideas = {
				remove_idea = GER_todt_reich_engineer
				add_idea = GER_todt_reich_minister_of_armaments
			}

			if = {
				limit = {
					has_idea = GER_organization_todt
				}
				swap_ideas = {
					remove_idea = GER_organization_todt
					add_idea = GER_organization_todt_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_organization_todt
						add_idea = GER_organization_todt_improved
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_plenipotentiary_of_armaments
				FOCUS_2 = GER_plenipotentiary_of_the_four_year_plan
			}
		}
	}

	focus = {
		id = GER_ascension_of_speer
		icon = GFX_focus_GER_ascension_of_speer
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 2
		y = 0
		relative_position_id = GER_ascension_of_todt
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_speer_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_albert_speer
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_speer_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_albert_speer
			}
			show_ideas_tooltip = GER_speer_reich_architect

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_albert_speer
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 2 }
						check_variable = { GER_ascended_advisor_2 = 2 }
						check_variable = { GER_ascended_advisor_3 = 2 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 2 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_albert_speer
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_speer_reich_architect
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 2 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 2 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 2 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_speer.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_speer_ascension_flag

				GER_inner_circle_set_ascension_cd = yes
				
				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_speer_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_employ_philipp_holzmann
		icon = GFX_focus_GER_philipp_holzmann
		prerequisite = { focus = GER_ascension_of_speer }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_speer
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_employ_philipp_holzmann_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_albert_speer
						FLAG_DAYS = [?GER_employ_philipp_holzmann_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_albert_speer
						FOCUS = GER_ascension_of_speer
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_idea = GER_philipp_holzmann
				}
				swap_ideas = {
					remove_idea = GER_philipp_holzmann
					add_idea = GER_philipp_holzmann_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_philipp_holzmann
						add_idea = GER_philipp_holzmann_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_plenipotentiary_of_armaments
		icon = GFX_focus_GER_plenipotentiary_of_armaments
		#prerequisite = { focus = GER_form_organization_todt focus = GER_employ_philipp_holzmann focus = GER_prioritize_the_four_year_plan }
		mutually_exclusive = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_the_four_year_plan }
		prerequisite = { focus = GER_employ_philipp_holzmann }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_employ_philipp_holzmann
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_plenipotentiary_of_armaments_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_albert_speer
						FLAG_DAYS = [?GER_plenipotentiary_of_armaments_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_albert_speer
						FOCUS = GER_ascension_of_speer
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = yes
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = no
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_albert_speer
			}
			swap_ideas = {
				remove_idea = GER_speer_reich_architect
				add_idea = GER_speer_reich_minister_of_armaments
			}

			if = {
				limit = {
					has_idea = GER_philipp_holzmann_improved
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					swap_ideas = {
						remove_idea = GER_philipp_holzmann_improved
						add_idea = GER_philipp_holzmann_improved_2
					}
				}
				else = {
					swap_ideas = {
						remove_idea = GER_philipp_holzmann_improved
						add_idea = GER_philipp_holzmann_improved_2_no_aat
					}
				}
			}
			else = {
				effect_tooltip = {
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						swap_ideas = {
							remove_idea = GER_philipp_holzmann_improved
							add_idea = GER_philipp_holzmann_improved_2
						}
					}
					else = {
						swap_ideas = {
							remove_idea = GER_philipp_holzmann_improved
							add_idea = GER_philipp_holzmann_improved_2_no_aat
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_autonomous_organization_todt
				FOCUS_2 = GER_plenipotentiary_of_the_four_year_plan
			}
		}
	}

	focus = {
		id = GER_wunderwaffe
		icon = GFX_focus_GER_wunderwaffe_inner_circle
		prerequisite = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_armaments}

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_autonomous_organization_todt
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_wunderwaffe_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #TODT working on it
					limit = {
						check_variable = { GER_wonder_weapons_focus_advisor = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_fritz_todt
							FLAG_DAYS = [?GER_wunderwaffe_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #SPEER working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_albert_speer
							FLAG_DAYS = [?GER_wunderwaffe_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_fritz_todt
						FOCUS = GER_ascension_of_todt
						CHARACTER_2 = GER_albert_speer
						FOCUS_2 = GER_ascension_of_speer
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_air
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_air
					level = 1
				}
			}

			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_nuclear
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_nuclear
					level = 1
				}
			}
			
			random_scientist = {
				limit = {
					has_scientist_level = {
						specialization = specialization_land
						level > 0
					}
				}
				add_scientist_level = {
					specialization = specialization_land
					level = 1
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = GER_walter_dornberger
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = GER_wunderwaffe_dornberger_trait_tt
			hidden_effect = {
				remove_trait = {
					character = GER_walter_dornberger
					slot = high_command
					trait = GER_head_of_the_missile_department
				}
				add_trait = {
					character = GER_walter_dornberger
					slot = high_command
					trait = GER_head_of_experimental_weapons
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER_add_or_modify_wunderwaffen = yes
			add_to_variable = { 
				GER_wunderwaffen_special_project_speed_factor = 0.05
				tooltip = special_project_speed_factor_tt
			}
			add_to_variable = { 
				GER_wunderwaffen_production_speed_facility_factor = 0.1
				tooltip = production_speed_facility_factor_tt
			}
		}
	}

focus = {
		id = GER_ascension_of_goring
		icon = GFX_focus_GER_ascension_of_goring
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 2
		y = 0
		relative_position_id = GER_ascension_of_speer
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_goring_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_hermann_goring
				}
			}
			has_completed_focus = GER_the_four_year_plan
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_goring_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_hermann_goring
			}
			show_ideas_tooltip = GER_goring_overseer_four_year_plan

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_hermann_goring
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 3 }
						check_variable = { GER_ascended_advisor_2 = 3 }
						check_variable = { GER_ascended_advisor_3 = 3 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 3 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_hermann_goring
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_goring_overseer_four_year_plan
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 3 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 3 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 3 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_goring.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_goring_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_goring_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}


	focus = {
		id = GER_prioritize_the_four_year_plan
		icon = GFX_focus_GER_prioritize_the_four_year_plan
		prerequisite = { focus = GER_ascension_of_goring }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_goring
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_prioritize_the_four_year_plan_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_prioritize_the_four_year_plan_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			if = {
				limit = {
					59 = { is_fully_controlled_by = ROOT }
				}
				59 = { #Hannover
					add_resource = {
						type = steel
						amount = 6
					}
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						NOT = {
							state = 59
						}
						OR = {
							has_resources_amount = {
								resource = oil
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = aluminium
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = rubber
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = tungsten
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = steel
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = chromium
								amount > 19
								delivered = no
							}
						}
					}
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
			}
			else = {
				every_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						OR = {
							has_resources_amount = {
								resource = oil
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = aluminium
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = rubber
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = tungsten
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = steel
								amount > 19
								delivered = no
							}
							has_resources_amount = {
								resource = chromium
								amount > 19
								delivered = no
							}
						}
					}
					random_select_amount = 2
					add_dynamic_modifier = { 
						modifier = GER_four_year_plan_initiative_modifier
						scope = GER
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_idea = GER_reichswerke
				}
				swap_ideas = {
					remove_idea = GER_reichswerke
					add_idea = GER_reichswerke_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_reichswerke
						add_idea = GER_reichswerke_improved
					}
				}
			}
		}
	}

	focus = {
		id = GER_plenipotentiary_of_the_four_year_plan
		icon = GFX_focus_GER_plenipotentiary_of_the_four_year_plan
		mutually_exclusive = { focus = GER_autonomous_organization_todt focus = GER_plenipotentiary_of_armaments }
		prerequisite = { focus = GER_prioritize_the_four_year_plan }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_prioritize_the_four_year_plan
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_plenipotentiary_of_the_four_year_plan_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_plenipotentiary_of_the_four_year_plan_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}

			if = {
				limit = {
					check_variable = { GER_industrialist_prevailed = 0 compare = not_equals }
				}
				if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 1 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_fritz_todt
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 2 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_albert_speer
						}
						always = no
					}
				}
				else_if = {
					limit = {
						check_variable = { GER_industrialist_prevailed = 3 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_industrialists_intrigue_prevailed_tt
							PREVAILED_CHARACTER = GER_hermann_goring
						}
						always = yes
					}
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_hermann_goring
			}
			swap_ideas = {
				remove_idea = GER_goring_overseer_four_year_plan
				add_idea = GER_goring_four_year_plan_plenipotentiary
			}

			if = {
				limit = {
					has_idea = GER_reichswerke_improved
				}
				swap_ideas = {
					remove_idea = GER_reichswerke_improved
					add_idea = GER_reichswerke_improved_2
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GER_reichswerke_improved
						add_idea = GER_reichswerke_improved_2
					}
				}
			}

			add_tech_bonus = {
				name = GER_plenipotentiary_of_the_four_year_plan
				uses = 1
				ahead_reduction = 2
				category = excavation_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = {
				localization_key = GER_inner_circle_industrial_me_focuses_tt
				FOCUS_1 = GER_autonomous_organization_todt
				FOCUS_2 = GER_plenipotentiary_of_armaments
			}
		}
	}

	focus = {
		id = GER_integration_of_puppet_economies
		icon = GFX_focus_GER_integration_of_puppet_economies
		prerequisite = { focus = GER_plenipotentiary_of_the_four_year_plan }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_plenipotentiary_of_the_four_year_plan
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_integration_of_puppet_economies_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_hermann_goring
						FLAG_DAYS = [?GER_integration_of_puppet_economies_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_hermann_goring
						FOCUS = GER_ascension_of_goring
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = unlock_decision_category_explained
				CATEGORY = GER_integration_of_puppet_economies_dec_cat
				DESC = GER_integration_of_puppet_economies_decisions_tt
			}
		}
	}

	focus = {
		id = GER_ascension_of_himmler
		icon = GFX_focus_GER_ascension_of_himmler
		prerequisite = { focus = GER_fuhrerprinzip }
		x = 0
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_himmler_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}

			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_heinrich_himmler
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_himmler_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_heinrich_himmler
			}
			show_ideas_tooltip = GER_himmler_chief_of_german_police
			
			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_heinrich_himmler
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 4 }
						check_variable = { GER_ascended_advisor_2 = 4 }
						check_variable = { GER_ascended_advisor_3 = 4 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 4 }
					country_event = GER_inner_circle.01 #Replace Advisor
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_heinrich_himmler
				}
			}
			else = {
				custom_effect_tooltip = generic_skip_one_line_tt

				country_event = GER_inner_circle_himmler.00 #Pick Himmler's branch (Can only be fired once)
				
				hidden_effect = {
					add_ideas = GER_himmler_chief_of_german_police
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 4 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 4 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 4 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_himmler.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_himmler_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_himmler_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_expand_gestapo
		icon = GFX_focus_GER_expand_gestapo
		prerequisite = { focus = GER_ascension_of_himmler }
		mutually_exclusive = { focus = GER_expand_ss_security_duties }

		text_icon = GER_inner_circle_focus_style

		x = -1
		y = 1
		relative_position_id = GER_ascension_of_himmler
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_expand_gestapo_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_expand_gestapo_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			GER_add_or_modify_military_intelligence_service = yes
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_to_variable = { 
					GER_military_intelligence_service_intelligence_agency_defense = 0.15
					tooltip = intelligence_agency_defense_tt
				}
				add_to_variable = { 
					GER_military_intelligence_service_agency_upgrade_time = -0.2
					tooltip = agency_upgrade_time_tt
				}
				add_to_variable = { 
					GER_military_intelligence_root_out_resistance_effectiveness_factor = 0.2
					tooltip = root_out_resistance_effectiveness_factor_tt
				}
			}
			else = {
				add_to_variable = { 
					GER_military_intelligence_service_encryption_factor = 0.1
					tooltip = encryption_factor_tt
				}
			}
		}
	}

	focus = {
		id = GER_absorb_the_abwehr
		icon = GFX_focus_GER_absorb_the_abwehr
		prerequisite = { focus = GER_expand_gestapo }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_expand_gestapo
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_absorb_the_abwehr_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_absorb_the_abwehr_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			swap_ideas = {
				remove_idea = GER_himmler_chief_of_german_police
				add_idea = GER_himmler_director_reich_security
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_eleysa_bazna = yes
			}
		}
	}

	focus = {
		id = GER_expand_ss_security_duties
		icon = GFX_focus_GER_expand_ss_security_duties
		prerequisite = { focus = GER_ascension_of_himmler }
		mutually_exclusive = { focus = GER_expand_gestapo }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_ascension_of_himmler
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_expand_ss_security_duties_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_expand_ss_security_duties_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			swap_ideas = {
				remove_idea = GER_himmler_chief_of_german_police
				add_idea = GER_himmler_director_reich_security
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_eleysa_bazna = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = GER_expand_ss_security_duties
				bonus = 0.5
				uses = 1
				category = military_police_tech
			}
		}
	}

	focus = {
		id = GER_strengthen_the_waffen_ss
		icon = GFX_focus_GER_strengthen_the_waffen_ss
		prerequisite = { focus = GER_expand_ss_security_duties }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_expand_ss_security_duties
		cost = @inner_circle_time_tier_2
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_strengthen_the_waffen_ss_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_strengthen_the_waffen_ss_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascended_character_trait_swap_tt
				CHARACTER = GER_heinrich_himmler
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = GER_strengthen_the_waffen_ss
				cost_reduction = 0.5
				uses = 2
				category = special_forces_doctrine
			}
			
			custom_effect_tooltip = generic_skip_one_line_tt

			swap_ideas = {
				remove_idea = GER_himmler_director_reich_security
				add_idea = GER_himmler_reichsfuhrer_ss
			}
			#remove_trait = {
			#	character = GER_heinrich_himmler
			#	slot = political_advisor
			#	trait = prince_of_terror
			#}
			#add_trait = { 
			#	character = GER_heinrich_himmler
			#	slot = political_advisor
			#	trait = GER_reichsfuhrer_ss
			#}

			custom_effect_tooltip = generic_skip_one_line_tt
			show_unit_leaders_tooltip = GER_felix_steiner
			show_unit_leaders_tooltip = GER_walter_kruger
			show_unit_leaders_tooltip = GER_sepp_dietrich
			show_unit_leaders_tooltip = GER_paul_hausser

			custom_effect_tooltip = generic_skip_one_line_tt

			#Create 2 Milita Units and Unlock the Template
			if = {
				limit = {
					NOT = { has_template = "Waffen-SS Division" }
				}
				division_template = {
					name = "Waffen-SS Division"
					priority = 2
					division_names_group = GER_SS_01
					template_counter = 101
					is_locked = no
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
					
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_militia
				}
			}
			else = { #If Waffen-SS Division already exists, unlock it
				set_division_template_lock = {
				    division_template = "Waffen-SS Division"
				    is_locked = no
				}
			}
			if = {
				limit = {
					64 = {
						is_fully_controlled_by = ROOT
					}
				}
				64 = {
					custom_effect_tooltip = GER_create_two_militia_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"Waffen-SS Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
							owner = ROOT
							count = 2
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = GER_create_two_militia_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"Waffen-SS Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
							owner = ROOT
							count = 2
						}
					}
				}
			}

			#Create 1 Motorized Unit and Unlock the Template
			if = {
				limit = {
					NOT = { has_template = "SS-Verfügungstruppe" }
				}
				division_template = {
					name = "SS-Verfügungstruppe"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }

					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
			}
			else = { #If Waffen-SS Division already exists, unlock it
				set_division_template_lock = {
				    division_template = "SS-Verfügungstruppe"
				    is_locked = no
				}
			}
			if = {
				limit = {
					64 = {
						is_fully_controlled_by = ROOT
					}
				}
				64 = {
					custom_effect_tooltip = GER_create_one_motorized_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"SS-Verfügungstruppe\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					custom_effect_tooltip = GER_create_one_motorized_units_tt
					hidden_effect = {
						create_unit = {
							division = "division_template =\"SS-Verfügungstruppe\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
							owner = ROOT
							count = 1
						}
					}
				}
			}

			#Create 2 Panzer Units and Unlock the Template
			if = { 
				limit = {
					NOT = { has_tech = basic_medium_tank_chassis }
				}
				division_template = {
					name = "Waffen-SS Leicht Panzer Division"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						light_armor = { x = 0 y = 0 }
						light_armor = { x = 0 y = 1 }
						light_armor = { x = 0 y = 2 }
						light_armor = { x = 0 y = 3 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 2 y = 0 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
				if = {
					limit = {
						64 = {
							is_fully_controlled_by = ROOT
						}
					}
					64 = {
						custom_effect_tooltip = GER_create_two_light_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Leicht Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
				else = {
					random_core_state = {
						limit = {
							is_fully_controlled_by = ROOT
						}
						custom_effect_tooltip = GER_create_two_light_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Leicht Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}
			else = {
				division_template = {
					name = "Waffen-SS Panzer Division"
					priority = 2
					division_names_group = GER_SS_01
					is_locked = no
					regiments = {
						medium_armor = { x = 0 y = 0 }
						medium_armor = { x = 0 y = 1 }
						medium_armor = { x = 0 y = 2 }
						medium_armor = { x = 0 y = 3 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 2 y = 0 }
					}
					support = {
						artillery = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						mot_recon = { x = 0 y = 2 }
					}
					override_model = GER_infantry_alt_0_entity
				}
				if = {
					limit = {
						64 = {
							is_fully_controlled_by = ROOT
						}
					}
					64 = {
						custom_effect_tooltip = GER_create_two_medium_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
				else = {
					random_core_state = {
						limit = {
							is_fully_controlled_by = ROOT
						}
						custom_effect_tooltip = GER_create_two_medium_panzer_units_tt
						hidden_effect = {
							create_unit = {
								division = "division_template =\"Waffen-SS Panzer Division\" start_experience_factor = 0.2 start_equipment_factor = 0.4"
								owner = ROOT
								count = 2
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = GER_hegemony_of_the_ss
		icon = GFX_focus_GER_hegemony_of_the_ss
		prerequisite = { focus = GER_absorb_the_abwehr focus = GER_strengthen_the_waffen_ss }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_absorb_the_abwehr
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_hegemony_of_the_ss_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_heinrich_himmler
						FLAG_DAYS = [?GER_hegemony_of_the_ss_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_heinrich_himmler
						FOCUS = GER_ascension_of_himmler
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {
			GER_heinrich_himmler = {
				add_field_marshal_role = {
					traits = { politically_connected militias_officer }
					skill = 2
					attack_skill = 1
					defense_skill = 3
					planning_skill = 1
					logistics_skill = 2
				} 
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			GER_modify_army_modifier = yes
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_max_org_factor = 0.1
				tooltip = modifier_army_sub_unit_militia_max_org_factor_tt
			}
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_attack_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_attack_factor_tt
			}
			add_to_variable = { 
				GER_military_modifier_army_sub_unit_militia_defence_factor = 0.05
				tooltip = modifier_army_sub_unit_militia_defence_factor_tt
			}
		}
	}

	focus = {
		id = GER_ascension_of_goebbels
		icon = GFX_focus_GER_ascension_of_goebbels
		prerequisite = { focus = GER_fuhrerprinzip }

		x = 3
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_goebbels_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_joseph_goebbels
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_goebbels_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_joseph_goebbels
			}
			show_ideas_tooltip = GER_goebbels_reich_minister_of_propaganda

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_joseph_goebbels
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 5 }
						check_variable = { GER_ascended_advisor_2 = 5 }
						check_variable = { GER_ascended_advisor_3 = 5 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 5 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_joseph_goebbels
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_goebbels_reich_minister_of_propaganda
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 5 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 5 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 5 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_goebbels.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_goebbels_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_goebbels_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}

	focus = {
		id = GER_ministry_of_public_enlightenment
		icon = GFX_focus_GER_reich_ministry_of_public_enlightenment
		prerequisite = { focus = GER_ascension_of_goebbels }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ascension_of_goebbels
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_ministry_of_public_enlightenment_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_ministry_of_public_enlightenment_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			add_stability = 0.05
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_goebbels_reich_minister_of_propaganda
				add_idea = GER_goebbels_reich_minister_of_propaganda_ministry
			}
		}
	}

	focus = {
		id = GER_fund_the_film_department
		icon = GFX_focus_GER_fund_the_film_department
		prerequisite = { focus = GER_ministry_of_public_enlightenment }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_ministry_of_public_enlightenment
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_fund_the_film_department_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_fund_the_film_department_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}

			add_war_support = 0.05
			
			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_goebbels_reich_minister_of_propaganda_ministry
				add_idea = GER_goebbels_reich_minister_of_propaganda_film
			}

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = GER_leni_riefenstahl
		}
	}

	focus = {
		id = GER_propaganda_master
		icon = GFX_focus_GER_propaganda_master
		prerequisite = { focus = GER_fund_the_film_department }

		text_icon = GER_inner_circle_focus_style

		x = 0
		y = 1
		relative_position_id = GER_fund_the_film_department
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_propaganda_master_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_joseph_goebbels
						FLAG_DAYS = [?GER_propaganda_master_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_joseph_goebbels
						FOCUS = GER_ascension_of_goebbels
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				swap_ideas = {
					remove_idea = GER_goebbels_reich_minister_of_propaganda_film
					add_idea = GER_goebbels_reich_minister_of_propaganda_master
				}
			}
			else = {
				swap_ideas = {
					remove_idea = GER_goebbels_reich_minister_of_propaganda_film
					add_idea = GER_goebbels_reich_minister_of_propaganda_master_no_lar
				}
			}
			
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				GER_create_operative_savitri_devi = yes
			}
		}
	}

	focus = {
		id = GER_party_chancellor_hess
		icon = GFX_focus_GER_party_chancellor_hess
		prerequisite = { focus = GER_fuhrerprinzip }
		mutually_exclusive = { focus = GER_party_chancellor_bormann }
		x = 5
		y = 1
		relative_position_id = GER_fuhrerprinzip
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_hess_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_rudolf_hess
				}
			}

			NOT = { has_country_flag = flight_of_hess }
			
			OR = { 
				NOT = { has_war_with = SOU }
				NOT = { has_war_with = ENG }
			}
			
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_hess_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_rudolf_hess
			}
			show_ideas_tooltip = GER_hess_party_chancellor

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_rudolf_hess
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 6 }
						check_variable = { GER_ascended_advisor_2 = 6 }
						check_variable = { GER_ascended_advisor_3 = 6 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 6 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_rudolf_hess
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_hess_party_chancellor
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 6 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 6 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 6 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_hess.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_hess_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
					flag = GER_hess_was_ascended_flag
					days = 1500 # Clear after ~4 years 
					value = 1
				}
			}
		}
	}
	
	focus = {
		id = GER_party_chancellor_bormann
		icon = GFX_focus_GER_party_chancellor_bormann
		prerequisite = { focus = GER_fuhrerprinzip }
		mutually_exclusive = { focus = GER_party_chancellor_hess }
		x = 2
		y = 0
		relative_position_id = GER_party_chancellor_hess
		cost = 2
		
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				hidden_trigger = {
					NOT = { has_country_flag = GER_bormann_was_ascended_flag } #Flag to prevent AI from taking the focus again after advisor has been replaced}
				}
			}
			
			has_government = fascism
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = GER_martin_bormann
				}
			}
			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}

			GER_inner_circle_is_ascension_cd_over = yes
			if = {
				limit = {
					has_country_flag = GER_inner_circle_cd_flag
				}
				custom_trigger_tooltip = {
					tooltip = GER_inner_circle_cd_days_tt
					NOT = {	has_country_flag = GER_inner_circle_cd_flag }
				}
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_bormann_ascension_flag
		}

		completion_reward = {
			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_tt
				CHARACTER = GER_martin_bormann
			}
			show_ideas_tooltip = GER_bormann_secretary_to_the_fuhrer

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = GER_ascension_of_character_focus_tt
				CHARACTER = GER_martin_bormann
			}

			if = { #Just to make it easy to debug stuff for development
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 7 }
						check_variable = { GER_ascended_advisor_2 = 7 }
						check_variable = { GER_ascended_advisor_3 = 7 }
					}
				}
				log = "Advisor was already there. STOP CHEATING!"
			}
			else_if = { # ASCENDED ADVISORS FULL - NEED TO REPLACE SOMEONE
				limit = {
					check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
					check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
				}
				hidden_effect = {
					set_variable = { GER_ascending_advisor = 7 }
					country_event = GER_inner_circle.01
				}

				custom_effect_tooltip = generic_skip_one_line_tt
				custom_effect_tooltip = {
					localization_key = GER_event_to_replace_ascended_advisor_tt
					EVENT = GER_inner_circle.01.t
					CHARACTER = GER_martin_bormann
				}
			}
			else = {
				hidden_effect = {
					add_ideas = GER_bormann_secretary_to_the_fuhrer
				}
				if = {
					limit = {
						check_variable = { GER_ascended_advisor_1 = 0 }
					}
					set_variable = { GER_ascended_advisor_1 = 7 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_2 = 0 }
					}
					set_variable = { GER_ascended_advisor_2 = 7 }
				}
				else_if = {
					limit = {
						check_variable = { GER_ascended_advisor_3 = 0 }
					}
					set_variable = { GER_ascended_advisor_3 = 7 }
				}
			}

			hidden_effect = {
				country_event = { id = GER_inner_circle_bormann.01 days = GER_inner_circle_days_to_start_focus random_days = GER_inner_circle_random_days }
				clr_country_flag = GER_bormann_ascension_flag

				GER_inner_circle_set_ascension_cd = yes

				if = { #If historical make sure Todt is not picked ever after being replaced by Speer in the Intrigue Event
					limit = {
						GER_is_historical_ai = yes
					}
					set_country_flag = GER_bormann_was_ascended_flag #Flag to prevent AI from taking the focus again after advisor has been replaced
				}
				else = {
					set_country_flag = { #Flag to prevent AI from taking the focus again after advisor has been replaced
						flag = GER_bormann_was_ascended_flag
						days = 1500 # Clear after ~4 years 
						value = 1
					}
				}
			}
		}
	}

	focus = {
		id = GER_optimize_reich_labour_service
		icon = GFX_focus_GER_optimize_reich_labour_service
		prerequisite = { focus = GER_party_chancellor_hess focus = GER_party_chancellor_bormann }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_party_chancellor_hess
		cost = @inner_circle_time_tier_1
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_optimize_reich_labour_service_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_1 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #HESS working on it
					limit = {
						check_variable = { GER_optimize_reich_service_focus_advisor = 6 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_rudolf_hess
							FLAG_DAYS = [?GER_optimize_reich_labour_service_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #BORMANN working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_martin_bormann
							FLAG_DAYS = [?GER_optimize_reich_labour_service_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
						CHARACTER_2 = GER_martin_bormann
						FOCUS_2 = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			unlock_decision_category_tooltip = GER_reich_labor_service_cat
		}
	}

	focus = {
		id = GER_rally_the_industrialists
		icon = GFX_focus_GER_rally_the_industrialists
		prerequisite = { focus = GER_optimize_reich_labour_service }
		prerequisite = { focus = GER_party_chancellor_hess }

		text_icon = GER_inner_circle_focus_style

		x = -1
		y = 1
		relative_position_id = GER_optimize_reich_labour_service
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_rally_the_industrialists_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_rudolf_hess
						FLAG_DAYS = [?GER_rally_the_industrialists_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				swap_ideas = {
					remove_idea = GER_hess_party_chancellor
					add_idea = GER_hess_party_chancellor_improved
				}
			}
			else = {
				swap_ideas = {
					remove_idea = GER_hess_party_chancellor
					add_idea = GER_hess_party_chancellor_improved_no_aat
				}
			}
			custom_effect_tooltip = GER_rally_the_industrialists_hess_stays_tt
		}
	}

	focus = {
		id = GER_glorify_party_rallies
		icon = GFX_focus_GER_glorify_party_rallies
		prerequisite = { focus = GER_optimize_reich_labour_service }
		prerequisite = { focus = GER_party_chancellor_bormann }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_optimize_reich_labour_service
		cost = @inner_circle_time_tier_2
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_glorify_party_rallies_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_2 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_inner_circle_focus_in_progress_tt
						CHARACTER = GER_martin_bormann
						FLAG_DAYS = [?GER_glorify_party_rallies_in_progress_flag:days]
					}
					always = no 
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_tt
						CHARACTER = GER_martin_bormann
						FOCUS = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt
			swap_ideas = {
				remove_idea = GER_bormann_secretary_to_the_fuhrer
				add_idea = GER_bormann_secretary_to_the_fuhrer_improved
			}
		}
	}

	focus = {
		id = GER_total_control_over_domestic_affairs
		icon = GFX_focus_GER_total_control_over_domestic_affairs
		prerequisite = { focus = GER_glorify_party_rallies focus = GER_rally_the_industrialists }

		text_icon = GER_inner_circle_focus_style

		x = 1
		y = 1
		relative_position_id = GER_rally_the_industrialists
		cost = @inner_circle_time_tier_3
		
		available = {
			if = { #ADVISOR WORKING ON THE FOCUS (Show progress)
				limit = {
					has_country_flag = GER_total_control_over_domestic_affairs_in_progress_flag
				}
				set_temp_variable = { temp_focus_days = @inner_circle_time_tier_3 } #For tooltip purposes
				multiply_temp_variable = { temp_focus_days = 7 } #The constant uses focus cost which is in weeks, so convert to days
				if = { #HESS working on it
					limit = {
						check_variable = { GER_total_control_over_domestic_affairs_focus_advisor = 6 }
					}
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_rudolf_hess
							FLAG_DAYS = [?GER_total_control_over_domestic_affairs_in_progress_flag:days]
						}
						always = no 
					}
				}
				else = { #BORMANN working on it
					custom_override_tooltip = {
						tooltip = {
							localization_key = GER_inner_circle_focus_in_progress_tt
							CHARACTER = GER_martin_bormann
							FLAG_DAYS = [?GER_total_control_over_domestic_affairs_in_progress_flag:days]
						}
						always = no 
					}
				}
			}
			else = { #NOT BEEN WORKED ON (Just Explain)
				custom_override_tooltip = {
					tooltip = {
						localization_key = GER_focus_can_only_be_completed_by_advisor_multiple_tt
						CHARACTER = GER_rudolf_hess
						FOCUS = GER_party_chancellor_hess
						CHARACTER_2 = GER_martin_bormann
						FOCUS_2 = GER_party_chancellor_bormann
					}
					always = no
				}
			}
		}

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_bormann }
					NOT = { has_completed_focus = GER_party_chancellor_hess }
				}
				custom_effect_tooltip = GER_total_control_over_domestic_affairs_chancellors_tt

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_bormann }
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					custom_effect_tooltip = {
						localization_key = GER_ascended_character_trait_swap_tt
						CHARACTER = GER_rudolf_hess
					}
					swap_ideas = {
						remove_idea = GER_hess_party_chancellor_improved
						add_idea = GER_hess_first_among_equals
					}
				}
				else = {
					custom_effect_tooltip = {
						localization_key = GER_ascended_character_trait_swap_tt
						CHARACTER = GER_rudolf_hess
					}
					swap_ideas = {
						remove_idea = GER_hess_party_chancellor_improved_no_aat
						add_idea = GER_hess_first_among_equals_no_aat
					}
				}
			}

			if = {
				limit = {
					NOT = { has_completed_focus = GER_party_chancellor_hess }
				}
				custom_effect_tooltip = {
					localization_key = GER_ascended_character_trait_swap_tt
					CHARACTER = GER_martin_bormann
				}
				swap_ideas = {
					remove_idea = GER_bormann_secretary_to_the_fuhrer_improved
					add_idea = GER_bormann_brown_eminence
				}
			}
		}
	}

	focus = {
		id = GER_a_strong_successor
		icon = GFX_focus_GER_a_strong_successor
		prerequisite = { focus = GER_hegemony_of_the_ss focus = GER_wunderwaffe focus = GER_integration_of_puppet_economies focus = GER_propaganda_master focus = GER_total_control_over_domestic_affairs }
		mutually_exclusive = { focus = GER_loyalty_to_the_fuhrer }
		x = -2
		y = 5
		relative_position_id = GER_fuhrerprinzip
		cost = 5

		available = {
			has_government = fascism

			custom_trigger_tooltip = {
				tooltip = GER_a_strong_successor_trigger_tt
				count_triggers = {
					amount = 3
					AND = {
						has_completed_focus = GER_wunderwaffe
						OR = {
							check_variable = { GER_ascended_advisor_1 = 1 }
							check_variable = { GER_ascended_advisor_2 = 1 }
							check_variable = { GER_ascended_advisor_3 = 1 }
							check_variable = { GER_ascended_advisor_1 = 2 }
							check_variable = { GER_ascended_advisor_2 = 2 }
							check_variable = { GER_ascended_advisor_3 = 2 }
						}
					}
					AND = {
						has_completed_focus = GER_integration_of_puppet_economies
						OR = {
							check_variable = { GER_ascended_advisor_1 = 3 }
							check_variable = { GER_ascended_advisor_2 = 3 }
							check_variable = { GER_ascended_advisor_3 = 3 }
						}
					}
					AND = {
						has_completed_focus = GER_hegemony_of_the_ss
						OR = {
							check_variable = { GER_ascended_advisor_1 = 4 }
							check_variable = { GER_ascended_advisor_2 = 4 }
							check_variable = { GER_ascended_advisor_3 = 4 }
						}
					}
					AND = {
						has_completed_focus = GER_propaganda_master
						OR = {
							check_variable = { GER_ascended_advisor_1 = 5 }
							check_variable = { GER_ascended_advisor_2 = 5 }
							check_variable = { GER_ascended_advisor_3 = 5 }
						}
					}
					AND = {
						has_completed_focus = GER_total_control_over_domestic_affairs
						OR = {
							check_variable = { GER_ascended_advisor_1 = 6 }
							check_variable = { GER_ascended_advisor_2 = 6 }
							check_variable = { GER_ascended_advisor_3 = 6 }
							check_variable = { GER_ascended_advisor_1 = 7 }
							check_variable = { GER_ascended_advisor_2 = 7 }
							check_variable = { GER_ascended_advisor_3 = 7 }
						}
					}
				}
			}

			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_a_strong_successor_flag
		}

		completion_reward = {
			hidden_effect = {
				country_event = GER_inner_circle.02
			}
		
			custom_effect_tooltip = {
				localization_key = GER_a_strong_successor_tt
				EVENT = GER_inner_circle.02.t
				CHARACTER = [ROOT.GetLeader]
			}
			if = {
				limit = {
					OR = {
						check_variable = { GER_ascended_advisor_1 = 0 compare = not_equals }
						check_variable = { GER_ascended_advisor_2 = 0 compare = not_equals }
						check_variable = { GER_ascended_advisor_3 = 0 compare = not_equals }
					}
				}
				custom_effect_tooltip = GER_a_strong_successor_current_advisors_tt
			}

			hidden_effect = {
				clr_country_flag = GER_a_strong_successor_flag
			}
		}
	}

	focus = {
		id = GER_loyalty_to_the_fuhrer
		icon = GFX_focus_GER_loyalty_to_the_fuhrer
		prerequisite = { focus = GER_hegemony_of_the_ss focus = GER_wunderwaffe focus = GER_integration_of_puppet_economies focus = GER_propaganda_master focus = GER_total_control_over_domestic_affairs }
		mutually_exclusive = { focus = GER_a_strong_successor }
		x = 2
		y = 5
		relative_position_id = GER_fuhrerprinzip
		cost = 5

		available = {
			has_government = fascism

			custom_trigger_tooltip = {
				tooltip = GER_a_strong_successor_trigger_tt
				count_triggers = {
					amount = 3
					AND = {
						has_completed_focus = GER_wunderwaffe
						OR = {
							check_variable = { GER_ascended_advisor_1 = 1 }
							check_variable = { GER_ascended_advisor_2 = 1 }
							check_variable = { GER_ascended_advisor_3 = 1 }
							check_variable = { GER_ascended_advisor_1 = 2 }
							check_variable = { GER_ascended_advisor_2 = 2 }
							check_variable = { GER_ascended_advisor_3 = 2 }
						}
					}
					AND = {
						has_completed_focus = GER_integration_of_puppet_economies
						OR = {
							check_variable = { GER_ascended_advisor_1 = 3 }
							check_variable = { GER_ascended_advisor_2 = 3 }
							check_variable = { GER_ascended_advisor_3 = 3 }
						}
					}
					AND = {
						has_completed_focus = GER_hegemony_of_the_ss
						OR = {
							check_variable = { GER_ascended_advisor_1 = 4 }
							check_variable = { GER_ascended_advisor_2 = 4 }
							check_variable = { GER_ascended_advisor_3 = 4 }
						}
					}
					AND = {
						has_completed_focus = GER_propaganda_master
						OR = {
							check_variable = { GER_ascended_advisor_1 = 5 }
							check_variable = { GER_ascended_advisor_2 = 5 }
							check_variable = { GER_ascended_advisor_3 = 5 }
						}
					}
					AND = {
						has_completed_focus = GER_total_control_over_domestic_affairs
						OR = {
							check_variable = { GER_ascended_advisor_1 = 6 }
							check_variable = { GER_ascended_advisor_2 = 6 }
							check_variable = { GER_ascended_advisor_3 = 6 }
							check_variable = { GER_ascended_advisor_1 = 7 }
							check_variable = { GER_ascended_advisor_2 = 7 }
							check_variable = { GER_ascended_advisor_3 = 7 }
						}
					}
				}
			}

			if = {
				limit = {
					has_country_flag = GER_inner_circle_event_pending_flag
				}
				NOT = { has_country_flag = GER_inner_circle_event_pending_flag }
			}
		}

		#Focus will need to pause while events are pending
		cancel_if_invalid = no
		continue_if_invalid = no

		search_filters = { FOCUS_FILTER_INNER_CIRCLE FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		select_effect = { #Necessary to prevent AI from getting stuck if the focus is paused due to available trigger returning false
			set_country_flag = GER_loyalty_to_the_fuhrer_flag
		}

		completion_reward = {
			add_political_power = 100

			add_country_leader_trait = GER_loyal_inner_circle

			if = {
				limit = {
					capital_scope = {
						state = 64 #BRANDENBURG
					}
					controls_province = 6521 #BERLIN
					64 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 6521
						}
					}
				}
				64 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province =  6521
					}
				}
			}

			hidden_effect = {
				clr_country_flag = GER_loyalty_to_the_fuhrer_flag
			}
		}
	}




   ###    ##       ########         ##     ## ####  ######  ######## 
  ## ##   ##          ##            ##     ##  ##  ##    ##    ##    
 ##   ##  ##          ##            ##     ##  ##  ##          ##    
##     ## ##          ##    ####### #########  ##   ######     ##    
######### ##          ##            ##     ##  ##        ##    ##    
##     ## ##          ##            ##     ##  ##  ##    ##    ##    
##     ## ########    ##            ##     ## ####  ######     ##    
	
	
}