### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = wuw_hungarian_focus

	country = {
		factor = 0

		modifier = {
			add = 50
			tag = HUN
			#always = no

			has_dlc = "Gotterdammerung"
		}
	}

	default = no

	continuous_focus_position = { x = 300 y = 1750 }

	shared_focus = HABSBURG_part_of_something_bigger

	initial_show_position = {
	    focus = wuw_HUN_continue_the_regency
	}


	focus = {
		id = wuw_HUN_continue_the_regency
		icon = GFX_focus_rom_handle_king
		#prerequisite = { focus = }
		x = 5
		y = 0
		relative_position_id = wuw_HUN_end_the_regency

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			add_political_power = 50
			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_jusztinian_seredi

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_strengthen_horthys_reign
		icon = GFX_focus_HUN_strengthen_horthys_reign
		prerequisite = { focus = wuw_HUN_continue_the_regency }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_continue_the_regency

		cost = 5

		ai_will_do = {
			factor = 15
		}


		bypass = {
			#NOT = {
			#	has_country_leader = {
			#		ruling_only = yes
			#		character = HUN_miklos_horthy
			#	}
			#}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			HUN_miklos_horthy = {
				swap_country_leader_traits = {
				    remove = HUN_the_regent
				    add = HUN_the_regent_2
				    ideology = oligarchism
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_kalman_daranyi

			hidden_effect = {
				IF = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	

	focus = {
		id = wuw_HUN_reestablish_the_rongyos_garda
		icon = GFX_focus_HUN_reestablish_the_rongyos_garda
		prerequisite = { focus = wuw_HUN_strengthen_horthys_reign focus = wuw_HUN_undermine_the_admiral }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 2
		y = 2
		relative_position_id = wuw_HUN_strengthen_horthys_reign

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_manpower = 16000

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_rongyos_garda_militia_recruitment

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Rongyos Gárda"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Rongyos Gárda"
					division_names_group = HUN_MIL_01
					role = garrison
					template_counter = 90
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 12
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
					}
				}

				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Lajtabánság'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.4 start_equipment_factor = 0.6"
					    owner = ROOT
					    officer = {
					    	name = HUN_miklos_kozma
					    	portraits = {
					    		army = {
					    			large = GFX_portrait_HUN_miklos_kozma
					    			small = GFX_portrait_HUN_miklos_kozma_small
					    		}
					    	}
					    }
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Sopron'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
					    owner = ROOT
					    officer = {
					    	name = HUN_ivan_hejjas
					    	portraits = {
					    		army = {
					    			large = GFX_portrait_HUN_ivan_hejjas
					    			small = GFX_portrait_HUN_ivan_hejjas_small
					    		}
					    	}
					    }
					}
					create_unit = {
					    division = "name = \"Rongyos Gárda 'Komárno'\" division_template = \"Rongyos Gárda\" start_experience_factor = 0.2 start_equipment_factor = 0.5"
					    owner = ROOT
					    officer = {
					    	name = HUN_huszein_durics_hilmi
					    }
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = HUN_rongyos_garda_leaders_become_generals

		}
	}

	focus = {
		id = wuw_HUN_strenghten_the_order_of_vitez
		icon = GFX_focus_HUN_strenghten_the_order_of_vitez
		prerequisite = { focus = wuw_HUN_strengthen_horthys_reign }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_strengthen_horthys_reign

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_country_leader = {
				ruling_only = yes
				character = HUN_miklos_horthy
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		completion_reward = {

			custom_effect_tooltip = HUN_every_vitez_tt
			every_army_leader = {
				limit = {
					has_trait = trait_HUN_vitez
				}
				add_attack = 1
				add_defense = 1
			}

		}
	}

	focus = {
		id = wuw_HUN_pass_statute_xix
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = wuw_HUN_strengthen_horthys_reign }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_strengthen_horthys_reign

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_POLITICAL_CHARACTER }

		completion_reward = {

			add_political_power = 50

			add_ideas = HUN_power_to_the_regent_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			#custom_effect_tooltip = wuw_HUN_horthy_field_marshal_tt
#
			#custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_magdolna_purgly
		}
	}

	focus = {
		id = wuw_HUN_restrict_voting_rights
		icon = GFX_focus_usa_voter_registration_act
		prerequisite = { focus = wuw_HUN_pass_statute_xix }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_pass_statute_xix

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_political_power = 75

			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = HUN_restricted_voting_rights
				days = 360
			}

		}
	}

	focus = {
		id = wuw_HUN_absolute_rule_of_the_national_unity_party
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = wuw_HUN_restrict_voting_rights }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_restrict_voting_rights

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_political_power = 75

			add_stability = 0.15

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = {
				ideology = communism
				popularity = -0.1
			}

			add_popularity = {
				ideology = democratic
				popularity = -0.1
			}

		}
	}

	focus = {
		id = wuw_HUN_outlaw_the_party_of_national_will
		icon = GFX_focus_HUN_outlaw_the_party_of_national_will
		prerequisite = { focus = wuw_HUN_pass_statute_xix }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_pass_statute_xix

		cost = 5

		ai_will_do = {
			factor = 15
		}


		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_STABILITY }

		completion_reward = {

			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = HUN_crackdown_on_extremism
				days = 728
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			set_party_name = {
				ideology = fascism
				long_name = HUN_arrow_cross_party_hungarist_movement_long
				name = HUN_arrow_cross_party_hungarist_movement
			}	

		}
	}

	focus = {
		id = wuw_HUN_spur_on_the_trianon_trauma
		icon = GFX_focus_ETH_freedom_at_gunpoint
		prerequisite = { focus = wuw_HUN_outlaw_the_party_of_national_will }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_outlaw_the_party_of_national_will

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_country_leader = {
				ruling_only = yes
				character = HUN_miklos_horthy
			}
		}

		bypass = {
			NOT = {
				has_country_leader = {
					ruling_only = yes
					character = HUN_miklos_horthy
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			HUN_miklos_horthy = {
				swap_country_leader_traits = {
				    remove = HUN_the_regent_2
				    add = HUN_the_regent_3
				    ideology = oligarchism
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_manpower = 14000

		}
	}

	focus = {
		id = wuw_HUN_renounce_the_treaty_of_trianon
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = wuw_HUN_spur_on_the_trianon_trauma focus = wuw_HUN_elect_a_fascist_king }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_spur_on_the_trianon_trauma

		cost = 5


		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {
			AND = {
				wuw_HUN_does_not_have_trianon = yes
				NOT = {
					has_idea = HUN_bled_agreement_wuw
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_threat = 1

			IF = {
				limit = {
					FRA = {
						has_completed_focus = FRA_strengthen_the_little_entente
						exists = yes
						is_subject = no
					}
				}
				FRA = {
					country_event = {
						id = DOD_hungary.40
						days = 1
					}
				}
			}

			IF = {
				limit = {
					OR = {
						NOT = {
							FRA = {
								has_completed_focus = FRA_strengthen_the_little_entente
							}
						}
						FRA = {
							exists = no
						}
						FRA = {
							is_subject = yes
						}
						ROM = {
							exists = yes
						}
					}
				}
				#Romania gets the event if France not engaged in Balkans
				ROM = {
					country_event = {
						id = DOD_hungary.40
						days = 1
					}
				}
				ELSE = {
					HUN_remove_trianon_effect = yes
					news_event = { id = news.298 days = 1 }
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = disarmed_nation
				}
				swap_ideas = {
					remove_idea = disarmed_nation
					add_idea = volunteer_only
				}
			}



		}
	}

	focus = {
		id = wuw_HUN_the_hungarian_life_and_renewal_party
		icon = GFX_focus_HUN_the_hungarian_life_and_renewal_party
		prerequisite = { focus = wuw_HUN_absolute_rule_of_the_national_unity_party }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_absolute_rule_of_the_national_unity_party

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			IF = {
				limit = {
					has_country_leader = {
						ruling_only = yes
						character = HUN_miklos_horthy
					}
				}
				swap_ideas = {
					remove_idea = HUN_power_to_the_regent_idea
					add_idea = HUN_more_power_to_the_regent_idea
				}
			}
			ELSE = {
				add_political_power = 75
				add_war_support = 0.05
				add_stability = 0.02
			}

		}
	}

	focus = {
		id = wuw_HUN_act_of_defense
		icon = GFX_goal_generic_defence
		#prerequisite = { focus = wuw_HUN_the_hungarian_renewal_party }
		prerequisite = { focus = wuw_HUN_renounce_the_treaty_of_trianon }
		prerequisite = { focus = wuw_HUN_the_hungarian_life_and_renewal_party }
		#mutually_exclusive = { focus = wuw_HUN_undermine_the_admiral }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_the_hungarian_life_and_renewal_party

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {

			add_war_support = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = HUN_levente_associations
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations
					add_idea = HUN_levente_associations_act_of_defense
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = HUN_levente_associations_secret_rearmament
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations_secret_rearmament
					add_idea = HUN_levente_associations_act_of_defense_and_secret_rearmament
				}
			}



			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_istvan_horthy
		}
	}

	focus = {
		id = wuw_HUN_promote_hungarianism
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = wuw_HUN_act_of_defense focus = wuw_HUN_wherever_the_cross_points }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_act_of_defense

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_ideas = HUN_promoted_hungarianism
			
			IF = {
				limit = {
					has_completed_focus = wuw_HUN_outlaw_the_party_of_national_will
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				set_party_name = { 
					ideology = fascism 
					long_name = HUN_arrow_cross_party_long 
					name = HUN_arrow_cross_party 
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_seek_german_contracts
		icon = GFX_focus_generic_german_trade
		prerequisite = { focus = wuw_HUN_act_of_defense focus = wuw_HUN_wherever_the_cross_points }
		#mutually_exclusive = { focus = wuw_HUN_claim_overlordship_over_slovakia }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_act_of_defense

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			GER = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_seek_german_contracts_tt
			IF = {
				limit = {
					GER = {
						has_opinion = {
							target = ROOT
							value > 25
						}
						has_opinion = {
							target = ROOT
							value < 50
						}
					}
				}
				add_offsite_building = {
					type = arms_factory
					level = 1
				}
			}
			ELSE_IF = {
				limit = {
					GER = {
						has_opinion = {
							target = ROOT
							value > 50
						}
						has_opinion = {
							target = ROOT
							value < 75
						}
					}
				}
				add_offsite_building = {
					type = arms_factory
					level = 2
				}
			}
			ELSE_IF = {
				limit = {
					GER = {
						has_opinion = {
							target = ROOT
							value > 75
						}
					}
				}
				add_offsite_building = {
					type = industrial_complex
					level = 1
				}
				add_offsite_building = {
					type = arms_factory
					level = 2
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_henschel_organization

				mio:HUN_henschel_organization = {
					add_mio_size = 2
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_henschel
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = GER_rheinmetall_organization

				mio:GER_rheinmetall_organization = {
					add_mio_size = 2
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_rheinmetall
			}

		}
	}

	focus = {
		id = wuw_HUN_license_fiat_tankettes
		icon = GFX_focus_generic_fiat
		prerequisite = { focus = wuw_HUN_act_of_defense focus = wuw_HUN_wherever_the_cross_points }
		#mutually_exclusive = { focus = wuw_HUN_claim_overlordship_over_slovakia }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_act_of_defense

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			ITA = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			ITA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_equipment_subsidy = {
					cic = 2000
					equipment_type = light_tank_chassis
					seller_tags = { ITA }
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_fiat_tankettes_organization

				mio:HUN_fiat_tankettes_organization = {
					add_mio_size = 1
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_fiat
			}

		}
	}

	focus = {
		id = wuw_HUN_invite_german_investors
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = wuw_HUN_seek_german_contracts }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_seek_german_contracts

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			GER = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_popularity = {
				ideology = GER
				popularity = 0.1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 4
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_joint_aluminum_mining_company
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = wuw_HUN_invite_german_investors }
		#mutually_exclusive = { focus = wuw_HUN_renew_the_rome_protocols }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_invite_german_investors

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			ROOT = { has_full_control_of_state = 43 }
			GER = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			43 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_avoid_interventionalist_destablilization
		icon = GFX_goal_generic_consumer_goods
		#prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		mutually_exclusive = { focus = wuw_HUN_economic_intervention }
		x = 8
		y = 0
		relative_position_id = wuw_HUN_continue_the_regency

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }


		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 100
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_economic_intervention
		icon = GFX_goal_generic_demand_territory
		#prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 10
		y = 0
		relative_position_id = wuw_HUN_continue_the_regency


		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_wuw_interventionism
		}
	}

	focus = {
		id = wuw_HUN_secret_rearmament
		icon = GFX_focus_secret_rearmament
		#prerequisite = { focus = wuw_HUN_a_revolutionary_greater_hungary }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 22
		y = 0
		relative_position_id = wuw_HUN_continue_the_regency

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {
			wuw_HUN_does_not_have_trianon = yes
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_secret_rearmament
			custom_effect_tooltip = HUN_secret_rearmament_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_idea = HUN_levente_associations
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations
					add_idea = HUN_levente_associations_secret_rearmament
				}
			}
			ELSE_IF = {
				limit = {
					has_idea = HUN_levente_associations_act_of_defense
				}
				swap_ideas = {
					remove_idea = HUN_levente_associations_act_of_defense
					add_idea = HUN_levente_associations_act_of_defense_and_secret_rearmament
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_forcefully_revitalize_the_industries
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = wuw_HUN_economic_intervention }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_economic_intervention

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 2
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_timed_idea = {
				idea = HUN_forceful_industrial_revitalization
				days = 365
			}

			add_tech_bonus = {
				name = HUN_industrial_revitalization
				bonus = 0.75
				uses = 1
				category = industry
			}
		}
	}
	
	focus = {
		id = wuw_HUN_the_turul_association
		icon = GFX_focus_HUN_the_turul_association
		prerequisite = { focus = wuw_HUN_absolute_rule_of_the_national_unity_party focus = wuw_HUN_spur_on_the_trianon_trauma }
		#mutually_exclusive = { focus = wuw_HUN_government_of_national_unity }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_absolute_rule_of_the_national_unity_party

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		completion_reward = {

			add_ideas = HUN_turul_association_idea

		}
	}

	focus = {
		id = wuw_HUN_reintigrate_the_imperial_railroads
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = wuw_HUN_economic_intervention focus = wuw_HUN_avoid_interventionalist_destablilization }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_economic_intervention

		search_filters = { FOCUS_FILTER_POLITICAL }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			AND = {
				43 = {
					is_owned_and_controlled_by = ROOT
				}
				155 = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		bypass = {
			AND = {
				NOT = {
					43 = {
						is_owned_and_controlled_by = ROOT
					}
					155 = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf_2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf_3
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = { country_exists = AUS }
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_reintegrate_the_railroads }
			}
			IF = {
				limit = { country_exists = CZE }
				reverse_add_opinion_modifier = { target = CZE modifier = HUN_reintegrate_the_railroads }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			# Connection into Burgenland
			build_railway = {
			    level = 1
			    path = { 6720 3700 }
			    start_province = 6720
			    target_province = 3700
			}

			# Connection into Southern Slovakia
			build_railway = {
			    level = 1
			    path = { 9690 6561 }
			    start_province = 9690
			    target_province = 6561
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 155 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf
			}
			random_owned_controlled_state = {
				prioritize = { 43 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf_2
			}
			random_owned_controlled_state = {
				prioritize = { 664 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf_3
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = { country_exists = AUS }
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_reintegrate_the_railroads }
			}
			IF = {
				limit = { country_exists = CZE }
				reverse_add_opinion_modifier = { target = CZE modifier = HUN_reintegrate_the_railroads }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			# Connection into Burgenland
			build_railway = {
			    level = 1
			    path = { 6720 3700 }
			    start_province = 6720
			    target_province = 3700
			}

			# Connection into Southern Slovakia
			build_railway = {
			    level = 1
			    path = { 9690 6561 }
			    start_province = 9690
			    target_province = 6561
			}
		}
	}

	focus = {
		id = wuw_HUN_promote_increased_urbanization
		icon = GFX_focus_generic_low_cost_housing
		prerequisite = { focus = wuw_HUN_reintigrate_the_imperial_railroads }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_reintigrate_the_imperial_railroads

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			43 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					43 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			43 = {
				#add_manpower = 150000
				increase_state_category = yes
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_timed_idea = {
				idea = HUN_urbanization_efforts
				days = 365
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_ganz_muvek
		icon = GFX_focus_generic_modernize_industry
		prerequisite = { focus = wuw_HUN_reintigrate_the_imperial_railroads }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_reintigrate_the_imperial_railroads

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			43 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					43 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 6
					}
				}
				ELSE = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							is_fully_controlled_by = ROOT
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_devalue_the_pengo
		icon = GFX_focus_HUN_devalue_the_pengo
		prerequisite = { focus = wuw_HUN_reintigrate_the_imperial_railroads }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -2
		y = 2
		relative_position_id = wuw_HUN_reintigrate_the_imperial_railroads

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_timed_idea = {
				idea = HUN_revaluing_the_pengo
				days = 420
			}

			IF = {
				limit = {
					NOT = {
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = HUN_bela_imredy
			}

		}
	}

	focus = {
		id = wuw_HUN_announce_the_gyor_program
		icon = GFX_goal_generic_production
		prerequisite = { focus = wuw_HUN_expand_the_ganz_muvek focus = wuw_HUN_promote_increased_urbanization }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_expand_the_ganz_muvek

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL }

		cost = 10

		dynamic = yes

		ai_will_do = {
			factor = 25
		}

		available = {
			OR = {
				wuw_HUN_does_not_have_trianon = yes
				has_war = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_political_power = 50

			add_tech_bonus = {
				name = HUN_announce_the_gyor_program
				bonus = 0.5
				uses = 2
				category = cat_production
			}

			add_tech_bonus = {
				name = HUN_announce_the_gyor_program
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_announce_the_gyor_program_tt

			hidden_effect = {
				every_country = {
					limit = {
						capital_scope = {
							is_on_continent = europe
						}
					}
					news_event = {
						id = wuw_HUN_news_events.1
						days = 2
						random_days = 5
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_enlarge_the_ganz_danubius_division
		icon = GFX_focus_POL_develop_polish_shipbuilding
		prerequisite = { focus = wuw_HUN_expand_the_ganz_muvek }
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_expand_the_ganz_muvek

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			any_controlled_state = {
				is_coastal = yes
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_coastal = yes
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_enlarge_the_ganz_danubius_division_tt
			}
			ELSE = {
				random_controlled_state = {
					limit = {
						is_coastal = yes
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_ganz_danubius_organization

				mio:HUN_ganz_danubius_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_ganz_danubius
			}

		}
	}

	focus = {
		id = wuw_HUN_undercover_air_maneuvers
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_AIR_XP FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_dlc = "Arms Against Tyranny"
					}
				}
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_wuw
						add_idea = HUN_treaty_of_triannon_wuw_no_air_debuff
					}
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
						add_idea = HUN_treaty_of_triannon_wuw_no_air_or_army_debuff
					}
				}
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_aat_wuw
						add_idea = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
					}
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
						add_idea = HUN_treaty_of_triannon_aat_wuw_no_air_or_army_debuff
					}
				}
			}

			air_experience = 15
			add_doctrine_cost_reduction = {
				name = wuw_HUN_undercover_air_maneuvers
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					wuw_HUN_does_not_have_trianon = no
				}
				custom_effect_tooltip = available_theorist
				show_ideas_tooltip = HUN_gyorgy_jendrassik

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_military_high_command
				show_ideas_tooltip = HUN_sandor_magyarossy
			}

		}
	}

	focus = {
		id = wuw_HUN_hold_war_games
		icon = GFX_goal_poland_goal
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MILITARY_CHARACTER }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_dlc = "Arms Against Tyranny"
					}
				}
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_wuw
						add_idea = HUN_treaty_of_triannon_wuw_no_army_exp_debuff
					}
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_wuw_no_air_debuff
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_wuw_no_air_debuff
						add_idea = HUN_treaty_of_triannon_wuw_no_air_or_army_debuff
					}
				}
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_aat_wuw
						add_idea = HUN_treaty_of_triannon_aat_wuw_no_army_exp_debuff
					}
				}
				ELSE_IF = {
					limit = {
						has_idea = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
					}
					swap_ideas = {
						remove_idea = HUN_treaty_of_triannon_aat_wuw_no_air_debuff
						add_idea = HUN_treaty_of_triannon_aat_wuw_no_air_or_army_debuff
					}
				}
			}

			army_experience = 30

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					wuw_HUN_does_not_have_trianon = no
				}
				custom_effect_tooltip = available_theorist
				show_ideas_tooltip = HUN_shvoy_kalman
			}

		}
	}

	focus = {
		id = wuw_HUN_negotiate_the_restrictions
		icon = GFX_focus_HUN_negotiate_the_restrictions
		prerequisite = { focus = wuw_HUN_undercover_air_maneuvers focus = wuw_HUN_hold_war_games }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_undercover_air_maneuvers

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL FOCUS_FILTER_WAR_SUPPORT }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = {
				has_idea = HUN_promises_of_peace
			}
			has_war = no
		}

		bypass = {
			OR = {
				wuw_HUN_does_not_have_trianon = yes
				has_idea = HUN_bled_agreement_wuw
				AND = {
					ROM = {
						OR = {
							exists = no
							is_puppet = yes
						}
					}
					FRA = {
						OR = {
							exists = no
							is_puppet = yes
							NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					FRA = { has_completed_focus = FRA_strengthen_the_little_entente }
				}
				FRA = { country_event = DOD_hungary.140 }
			}
			IF = {
				limit = {
					NOT = { FRA = { has_completed_focus = FRA_strengthen_the_little_entente } }
				}
				ROM = { country_event = DOD_hungary.140 }
			}

			custom_effect_tooltip = HUN_bled_agreement_custom_effect_tooltip

		}
	}

	focus = {
		id = wuw_HUN_reinstate_the_navy
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 16
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			any_state = {
				is_controlled_by = ROOT
				is_coastal = yes
			}
			wuw_HUN_does_not_have_trianon = yes
			NOT = {
				has_idea = HUN_promises_of_peace
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15
			add_ideas = HUN_naval_warfare

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_obudai_hajogyar_organization

				mio:HUN_obudai_hajogyar_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_obudai_hajogyar
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						OR = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				custom_effect_tooltip = available_chief_of_navy
				show_ideas_tooltip = HUN_miklos_horthy
			}

		}
	}

	focus = {
		id = wuw_HUN_sailing_the_danube
		icon = GFX_focus_generic_merchant_fleet
		prerequisite = { focus = wuw_HUN_secret_rearmament }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 14
		y = 1
		relative_position_id = wuw_HUN_secret_rearmament

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 50
				producer = HUN
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = HUN_kalman_hardy

		}
	}

	focus = {
		id = wuw_HUN_make_the_magyar_legiero_known
		icon = GFX_focus_HUN_make_the_magyar_legiero_known
		prerequisite = { focus = wuw_HUN_negotiate_the_restrictions }
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -2
		y = 2
		relative_position_id = wuw_HUN_negotiate_the_restrictions

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			NOT = {
				has_idea = HUN_promises_of_peace
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = wuw_HUN_make_the_magyar_legiero_known
				cost_reduction = 0.35
				uses = 1
				category = air_doctrine
			}

			air_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_completed_focus = wuw_HUN_establishing_a_new_dynasty
					}
				}
				add_ace = {
					name = Istvan
					surname = Horthy
					callsign = Nagybánya
					type = fighter_genius
				}

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = {
					43 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				43 = {
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}

			IF = {
				limit = {
					154 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				154 = {
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = HUN_ferenc_feketehalmyczeydner
			show_ideas_tooltip = HUN_laszlo_hary
		}
	}

	focus = {
		id = wuw_HUN_initiate_army_maneuvers
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = wuw_HUN_negotiate_the_restrictions }
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 5
		y = 2
		relative_position_id = wuw_HUN_negotiate_the_restrictions

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			NOT = {
				has_idea = HUN_promises_of_peace
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			army_experience = 40

			add_doctrine_cost_reduction = {
				name = HUN_army_maneuvers
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}

		}
	}

	focus = {
		id = wuw_HUN_invest_in_ludovica_academy
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = wuw_HUN_negotiate_the_restrictions }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 9
		y = 2
		relative_position_id = wuw_HUN_negotiate_the_restrictions

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			NOT = {
				has_idea = HUN_promises_of_peace
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			every_army_leader = {
				add_planning = 1
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = HUN_ferenc_szombathelyi
			show_ideas_tooltip = HUN_vilmos_roder
			IF = {
				limit = {
					NOT = {
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
				}
				show_ideas_tooltip = HUN_karoly_beregfy
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_diosgyor_machinery_factory
		icon = GFX_focus_HUN_expand_the_diosgyor_machinery_factory
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_announce_the_gyor_program

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			AND = {
				155 = {
					is_owned_and_controlled_by = ROOT
				}
				43 = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					NOT = {
						has_tech = bicycle_infantry
					}
				}
				set_technology = { bicycle_infantry = 1 popup = no }
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			IF = {
				limit = {
					43 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			IF = {
				limit = {
					155 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				155 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_manred_weiss_steel_and_metal_works
		icon = GFX_focus_generic_steel
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = 4
		y = 1
		relative_position_id = wuw_HUN_announce_the_gyor_program

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			wuw_HUN_does_not_have_trianon = yes
			43 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				prioritize = { 43 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 10
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_hungarian_academy_of_sciences
		icon = GFX_focus_generic_improve_the_administration
		prerequisite = { focus = wuw_HUN_announce_the_gyor_program }
		mutually_exclusive = { focus = wuw_HUN_invite_foreign_investors }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_announce_the_gyor_program

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			num_of_factories > 30
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_research_slot = 1

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = {
				decision = HUN_establish_new_academy_of_sciences_branches_program_decision
				show_effect_tooltip = no # default is no
				show_modifiers = no # default is no
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_lignite_industry
		icon = GFX_focus_generic_mining_industry
		prerequisite = { focus = wuw_HUN_invite_foreign_investors focus = wuw_HUN_expand_the_hungarian_academy_of_sciences }
		#mutually_exclusive = { focus = wuw_HUN_invite_foreign_investors }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_expand_the_hungarian_academy_of_sciences

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			155 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {
			NOT = {
				155 = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					155 = {
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
				}
				155 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_resource = {
						type = steel
						amount = 2
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_tap_newfound_oil_deposits
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = wuw_HUN_expand_the_lignite_industry }
		mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_expand_the_lignite_industry

		cost = 10

		ai_will_do = {
			factor = 10
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		available = {
			AND = {
				ROOT = {
					has_full_control_of_state = 155
				}
				ROOT = {
					has_full_control_of_state = 974
				}
				ROOT = {
					has_full_control_of_state = 973
				}
			}
			has_tech = excavation3
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			155 = {
				add_resource = {
					type = oil
					amount = 5
				}
			}
			974 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}

			973 = {
				add_resource = {
					type = oil
					amount = 6
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = {
				decision = HUN_tap_the_nagylengyel_oil_field
				show_effect_tooltip = no # default is no
				show_modifiers = no # default is no
			}

			unlock_decision_tooltip = {
				decision = HUN_explore_the_oil_fields_around_nagykanizsa
				show_effect_tooltip = no # default is no
				show_modifiers = no # default is no
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = HUN_maort

		}
	}

	focus = {
		id = wuw_HUN_hungarian_autarky
		icon = GFX_focus_generic_stockpile_fuel
		prerequisite = { focus = wuw_HUN_hungarian_tradition focus = wuw_HUN_tap_newfound_oil_deposits }
		#mutually_exclusive = { focus = wuw_HUN_avoid_interventionalist_destablilization }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_tap_newfound_oil_deposits

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 2
		}

		available = {
			#has_country_flag = HUN_activated_huba_ii_flag
			has_capitulated = no
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_hungarian_autarky_idea

			add_tech_bonus = {
				name = HUN_synthetic_industry
				bonus = 0.25
				uses = 2
				category = synth_resources
			}

		}
	}

	focus = {
		id = wuw_HUN_invite_foreign_investors
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = wuw_HUN_devalue_the_pengo }
		mutually_exclusive = { focus = wuw_HUN_expand_the_hungarian_academy_of_sciences }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_devalue_the_pengo

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			NOT = {
				has_idea = HUN_revaluing_the_pengo
			}
			any_country = {
				is_major = yes
				has_opinion = {
					target = ROOT
					value > 59
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_invite_foreign_investors
		}
	}

	focus = {
		id = wuw_HUN_hungarian_tradition
		icon = GFX_focus_HUN_hungarian_tradition
		prerequisite = { focus = wuw_HUN_expand_the_lignite_industry }
		mutually_exclusive = { focus = wuw_HUN_tap_newfound_oil_deposits }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_expand_the_lignite_industry

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_agrarian_tradition
		}
	}

	focus = {
		id = wuw_HUN_magyar_allamvasutak
		icon = GFX_focus_HUN_magyar_allamvasutak
		prerequisite = { focus = wuw_HUN_expand_the_lignite_industry }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -2
		y = 2
		relative_position_id = wuw_HUN_expand_the_lignite_industry

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			43 = {
				is_owned_and_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					43 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = HUN_mav
		}
	}

	focus = {
		id = wuw_HUN_expand_the_aluminum_industry
		icon = GFX_focus_generic_aluminum
		prerequisite = { focus = wuw_HUN_expand_the_lignite_industry }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = 2
		y = 2
		relative_position_id = wuw_HUN_expand_the_lignite_industry

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			ROOT = { has_full_control_of_state = 43 }
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			43 = {
				add_resource = {
					type = aluminium
					amount = 14
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_budapest_university_of_technology_and_economics
		icon = GFX_focus_research
		prerequisite = { focus = wuw_HUN_expand_the_aluminum_industry focus = wuw_HUN_magyar_allamvasutak }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_expand_the_aluminum_industry

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			num_of_factories > 50
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = wuw_HUN_the_matyasfold_fighter_factory
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -5
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			any_state = {
				is_owned_by = ROOT
				is_core_of = ROOT
			}
			#has_country_flag = HUN_activated_huba_1_flag
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			air_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_mw_aircraft_organization

				mio:HUN_mw_aircraft_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = mw_aircraft
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_on_the_weiss_wm_16
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -3
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = wuw_HUN_expand_on_the_weiss_wm_16
				bonus = 0.3
				ahead_reduction = 1
				uses = 2
				category = medium_air
			}
		}
	}

	focus = {
		id = wuw_HUN_develop_the_weiss_wm_21_solyom
		icon = GFX_focus_generic_cas_aircraft
		prerequisite = { focus = wuw_HUN_expand_on_the_weiss_wm_16 focus = wuw_HUN_the_matyasfold_fighter_factory }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_the_matyasfold_fighter_factory

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_solyom_development
				bonus = 0.5
				uses = 1
				category = medium_air
			}

			add_tech_bonus = {
				name = HUN_solyom_development
				bonus = 0.15
				uses = 3
				category = cat_air_bombs
				category = cat_air_engine
			}

		}
	}

	focus = {
		id = wuw_HUN_weiss_manfred_wm_23_ezust_nyil
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = wuw_HUN_expand_on_the_weiss_wm_16 }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_expand_on_the_weiss_wm_16

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = wuw_HUN_weiss_manfred_wm_23_ezust_nyil
				bonus = 0.3
				uses = 1
				category = light_air
			}
			add_tech_bonus = {
				name = wuw_HUN_weiss_manfred_wm_23_ezust_nyil
				bonus = 0.5
				uses = 1
				category = cat_air_guns
			}
		}
	}

	focus = {
		id = wuw_HUN_establish_the_mavag_aircraft_factory
		icon = GFX_focus_HUN_establish_the_mavag_aircraft_factory
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		#mutually_exclusive = { focus = wuw_HUN_hungarian_tradition }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			any_state = {
				is_owned_by = ROOT
				is_core_of = ROOT
			}
			#has_country_flag = HUN_activated_huba_1_flag
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_mavag_aircraft_organization

				mio:HUN_mavag_aircraft_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = mavag_aircraft
			}

		}
	}

	focus = {
		id = wuw_HUN_the_mavag_heja
		icon = GFX_focus_usa_escort_fighters
		prerequisite = { focus = wuw_HUN_establish_the_mavag_aircraft_factory }
		mutually_exclusive = { focus = wuw_HUN_develop_laszlo_vargas_design }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_establish_the_mavag_aircraft_factory

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			air_experience = 30

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = HUN_light_fighter_effort
				bonus = 1.0
				ahead_reduction = 2
				uses = 1
				category = light_fighter
			}

		}
	}

	focus = {
		id = wuw_HUN_repulo_muszaki_intezet
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		mutually_exclusive = { focus = wuw_HUN_joint_air_development }
		x = 1
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_indigenous_designs
		}
	}

	focus = {
		id = wuw_HUN_develop_laszlo_vargas_design
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = wuw_HUN_repulo_muszaki_intezet }
		mutually_exclusive = { focus = wuw_HUN_the_mavag_heja }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_repulo_muszaki_intezet

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_laszlo_varga_design
				bonus = 0.5
				ahead_reduction = 1
				uses = 2
				category = light_fighter
				category = cas_bomber
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = HUN_laszlo_varga
			}	

		}
	}

	#focus = {
	#	id = wuw_HUN_the_szekesfehervar_sosto_plant
	#	icon = GFX_focus_generic_reorient_production
	#	prerequisite = { focus = wuw_HUN_repulo_muszaki_intezet }
	#	#mutually_exclusive = { focus = wuw_HUN_the_mavag_heja }
	#	x = 1
	#	y = 2
	#	relative_position_id = wuw_HUN_repulo_muszaki_intezet
#
	#	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY }
#
	#	cost = 10
#
	#	ai_will_do = {
	#		factor = 1
	#	}
#
	#	available = {
	#		any_state = {
	#			is_owned_by = ROOT
	#			is_core_of = ROOT
	#		}
	#		has_country_flag = HUN_activated_huba_1_flag
	#	}
	#
	#	bypass = {
#
	#	}
#
	#	cancel_if_invalid = no
	#	continue_if_invalid = yes
	#	available_if_capitulated = no
#
	#	completion_reward = {
#
	#		air_experience = 25
#
	#		random_owned_controlled_state = {
	#			limit = {
	#				is_core_of = ROOT
	#				free_building_slots = {
	#					building = arms_factory
	#					size > 1
	#					include_locked = yes
	#				}
	#			}
	#			add_extra_state_shared_building_slots = 1
	#			add_building_construction = {
	#				type = arms_factory
	#				level = 1
	#				instant_build = yes
	#			}
	#		}
#
	#	}
	#}

	focus = {
		id = wuw_HUN_joint_air_development
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = wuw_HUN_make_the_magyar_legiero_known }
		mutually_exclusive = { focus = wuw_HUN_repulo_muszaki_intezet }
		x = 4
		y = 2
		relative_position_id = wuw_HUN_make_the_magyar_legiero_known

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			is_in_faction = yes
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_to_tech_sharing_group = HUN_joint_air_development_group
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
				}
				add_to_tech_sharing_group = HUN_joint_air_development_group
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_equipment_subsidy = {
					cic = 1000
					equipment_type = small_plane_airframe
					seller_trigger = is_allied_seller_trigger
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_the_arado_ar_96
		icon = GFX_focus_generic_cryptologic_bomb
		prerequisite = { focus = wuw_HUN_joint_air_development }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_joint_air_development

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_light_fighter_effort
				bonus = 0.25
				uses = 1
				category = light_fighter
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_recon_airplane_focus

		}
	}

	focus = {
		id = wuw_HUN_extensive_licensing_programs
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = wuw_HUN_joint_air_development }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_joint_air_development

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

			IF = {
				limit = {
					NOT = {
						has_dlc = "By Blood Alone"
					}
				}
				NOT = {
					has_tech = fighter3
					has_tech = heavy_fighter3
				}
			}
			ELSE = {
				NOT = {
					has_tech = advanced_small_airframe
					has_tech = advanced_medium_airframe
				}
			}
			OR = {
				GER = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				FRA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				ITA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				ENG = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
				USA = {
					custom_trigger_tooltip = {
						tooltip = fighter_tt
						OR = {
							is_available_fighter_HUN = yes
							is_available_heavy_fighter_HUN = yes
						}
					}
				}
			}

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_ideas = HUN_license_foreign

			custom_effect_tooltip = generic_skip_one_line_tt

			country_event = DOD_hungary.150

		}
	}

	focus = {
		id = wuw_HUN_allied_manufacturing_programs
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = wuw_HUN_joint_air_development }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_joint_air_development

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			is_in_faction = yes
			is_faction_leader = no
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			IF = {
				limit = {
					is_in_faction = no
				}
				custom_effect_tooltip = wuw_HUN_allied_manufacturing_programs_tt
			}

			random_country = {
				limit = {
					is_in_faction_with = ROOT
					is_faction_leader = yes
					NOT = {
						tag = ROOT
					}
				}
				country_event = {
					id = WW_hungary.1
					days = 3
					random_days = 4
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_danuvia_submachine_guns
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = wuw_HUN_initiate_army_maneuvers }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = -2
		y = 1
		relative_position_id = wuw_HUN_initiate_army_maneuvers

		search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_danuvia_submachine_guns
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_danuvia_inf_organization

				mio:HUN_danuvia_inf_organization = {
					add_mio_size = 2
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_danuvia_inf
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_pal_kiraly
		}
	}

	focus = {
		id = wuw_HUN_form_the_gyorshadtest
		icon = GFX_focus_HUN_form_the_gyorshadtest
		prerequisite = { focus = wuw_HUN_initiate_army_maneuvers }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_initiate_army_maneuvers

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			hidden_effect = {
				IF = {
					limit = {
						NOT = {
							has_tech = bicycle_infantry
						}
					}
					set_technology = { bicycle_infantry = 1 popup = no }
				}
			}

			add_tech_bonus = {
				name = wuw_HUN_form_the_gyorshadtest
				bonus = 0.25
				uses = 1
				category = cat_light_armor
			}

			add_tech_bonus = {
				name = wuw_HUN_form_the_gyorshadtest
				bonus = 0.25
				uses = 1
				category = motorized_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_tech = mechanised_infantry
					}
				}

				custom_effect_tooltip = gyordshadtest_division_mot_tt

				hidden_effect = {
					delete_unit_template_and_units = {
						division_template = "Gyorshadtest"
						disband = yes #if yes, will refund equipment/manpower.
					}

					division_template = {
						name = "Gyorshadtest"
						division_names_group = HUN_MOT_01
						role = mobile
						is_locked = no
						regiments = {
							motorized = { x = 0 y = 0 }
							motorized = { x = 0 y = 1 }
							bicycle_battalion = { x = 1 y = 0 }
							bicycle_battalion = { x = 1 y = 1 }
						}
						support = {
							light_tank_recon = { x = 0 y = 0 }   # recon bn of tankettes, ACs etc
							artillery = { x = 0 y = 1 } # Represents the 105mm howitzer battalion
						}
					}

					random_owned_state = {
						limit = {
							is_controlled_by = ROOT
							is_core_of = ROOT
						}
						create_unit = {
						    division = "name = \"Első Gyorshadtest\" division_template = \"Gyorshadtest\" start_experience_factor = 0.8 start_equipment_factor = 1"
						    owner = ROOT
						    officer = {
						    	name = HUN_jeno_major
						    	portraits = {
						    		army = {
						    			large = GFX_portrait_HUN_jeno_major
						    			small = GFX_portrait_HUN_jeno_major_small
						    		}
						    	}
						    }
						}
						create_unit = {
						    division = "name = \"Második Gyorshadtest\" division_template = \"Gyorshadtest\" start_experience_factor = 0.8 start_equipment_factor = 1"
						    owner = ROOT
						    officer = {
						    	name = HUN_ferenc_bisza
						    }
						}
					}
				}
			}

			ELSE_IF = {
				limit = {
					has_tech = mechanised_infantry
				}

				custom_effect_tooltip = gyordshadtest_division_mech_tt

				hidden_effect = {
					delete_unit_template_and_units = {
						division_template = "Gyorshadtest"
						disband = yes #if yes, will refund equipment/manpower.
					}

					division_template = {
						name = "Gyorshadtest"
						division_names_group = HUN_INF_01
						role = mobile
						is_locked = no
						regiments = {
							mechanized = { x = 0 y = 0 }
							mechanized = { x = 0 y = 1 }
							bicycle_battalion = { x = 1 y = 0 }
							bicycle_battalion = { x = 1 y = 1 }
						}
						support = {
							light_tank_recon = { x = 0 y = 0 }   # recon bn of tankettes, ACs etc
							artillery = { x = 0 y = 1 } # Represents the 105mm howitzer battalion
						}
					}

					random_state = {
						limit = {
							is_fully_controlled_by = ROOT
							is_owned_by = ROOT
							is_core_of = ROOT
						}
						create_unit = {
						    division = "name = \"Első Gyorshadtest\" division_template = \"Gyorshadtest\" start_experience_factor = 0.8 start_equipment_factor = 1"
						    owner = ROOT
						    officer = {
						    	name = HUN_jeno_major
						    	portraits = {
						    		army = {
						    			large = GFX_portrait_HUN_jeno_major
						    			small = GFX_portrait_HUN_jeno_major_small
						    		}
						    	}
						    }
						}
						create_unit = {
						    division = "name = \"Második Gyorshadtest\" division_template = \"Gyorshadtest\" start_experience_factor = 0.8 start_equipment_factor = 1"
						    owner = ROOT
						    officer = {
						    	name = HUN_ferenc_bisza
						    }
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HUN_vilmos_nagy
			show_ideas_tooltip = HUN_gusztav_jany
		}
	}

	focus = {
		id = wuw_HUN_establish_the_mavag_army_division
		icon = GFX_focus_HUN_establish_the_mavag_army_division
		prerequisite = { focus = wuw_HUN_form_the_gyorshadtest }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_form_the_gyorshadtest

		search_filters = { FOCUS_FILTER_INDUSTRY }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			random_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_mavag_assault_guns_organization

				mio:HUN_mavag_assault_guns_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_mavag_assault_guns
			}

		}
	}

	focus = {
		id = wuw_HUN_doctrinal_studies
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = wuw_HUN_invest_in_ludovica_academy }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_invest_in_ludovica_academy

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = wuw_HUN_doctrinal_studies
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}

			add_doctrine_cost_reduction = {
				name = wuw_HUN_doctrinal_studies
				cost_reduction = 0.25
				uses = 1
				category = air_doctrine
			}
			IF = {
				limit = {
					any_owned_state = {
						is_coastal = yes
					}
				}
				add_doctrine_cost_reduction = {
					name = wuw_HUN_doctrinal_studies
					cost_reduction = 0.25
					uses = 1
					category = naval_doctrine
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HUN_henrik_werth
		}
	}

	focus = {
		id = wuw_HUN_award_military_promotions
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = wuw_HUN_invest_in_ludovica_academy }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_invest_in_ludovica_academy

		search_filters = { FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			army_experience = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			HUN_ivan_hindy = {
				promote_leader = yes
				add_planning = 1
				add_attack = 1
			}
			HUN_ferenc_feketehalmyczeydner = {
				promote_leader = yes
				add_logistics = 1
				add_planning = 1
			}
			HUN_jozsef_bajnoczy = {
				promote_leader = yes
				add_planning = 1
				add_logistics = 1
			}
			HUN_karoly_bartha = {
				promote_leader = yes
				add_planning = 1
				add_defense = 1
			}

			custom_effect_tooltip = HUN_ferenc_szombathelyi_becomes_a_general

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HUN_ivan_hindy
			show_ideas_tooltip = HUN_dezso_laszlo
		}
	}

	focus = {
		id = wuw_HUN_magyar_kiralyi_csendorseg
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = wuw_HUN_invest_in_ludovica_academy }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 3
		y = 1
		relative_position_id = wuw_HUN_invest_in_ludovica_academy

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			has_war_support > 0.84
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_hungarian_gendarmerie
		}
	}

	focus = {
		id = wuw_HUN_legacy_of_the_black_legion
		icon = GFX_focus_HUN_legacy_of_the_black_legion
		prerequisite = { focus = wuw_HUN_magyar_kiralyi_csendorseg }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_magyar_kiralyi_csendorseg

		cost = 5

		ai_will_do = {
			factor = 3
		}

		available = {
			has_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			swap_ideas = {
				remove_idea = HUN_hungarian_gendarmerie
				add_idea = HUN_hungarian_gendarmerie_hussars
			}

		}
	}

	focus = {
		id = wuw_HUN_light_infantry_divisions_doctrine
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = wuw_HUN_magyar_kiralyi_csendorseg }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_magyar_kiralyi_csendorseg

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = HUN_light_infantry_divisions_doctrine_tech_tt
			custom_effect_tooltip = HUN_light_infantry_divisions_doctrine_unit_tt
			hidden_effect = {
				IF = {
					limit = { has_tech = tech_engineers }
					division_template = {
						name = "Light Division"
						division_names_group = HUN_INF_01
						role = infantry
						priority = 2

						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

		    	   		 	infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
						}
					}
					ELSE = {
						division_template = {
							name = "Light Division"
							division_names_group = HUN_INF_01
							role = infantry
							priority = 2

							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }

			    	   		 	infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
							}
							support = {
								recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
							}
						}
					}
				}
				random_owned_controlled_state = {
					prioritize = { 43 }
					limit = { ROOT = { has_full_control_of_state = PREV } }
					create_unit = {
						division = "name = \"1. Light Division\" division_template = \"Light Division\" start_experience_factor = 1.0"
						owner = HUN
					}
				}
			}
			hidden_effect = { set_technology = { HUN_light_infantry_tech = 1 } }

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = HUN_jeno_ratz
		}
	}

	focus = {
		id = wuw_HUN_szent_laszlo_infantry_division
		icon = GFX_focus_HUN_szent_laszlo_infantry_division
		prerequisite = { focus = wuw_HUN_light_infantry_divisions_doctrine }
		#mutually_exclusive = { focus = wuw_HUN_repulö_muszaki_intezet }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_light_infantry_divisions_doctrine

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {
			has_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1400
				producer = ROOT
			}

			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 150
				producer = ROOT
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_szent_laszlo_infantry_division_tt

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Szent László Hadosztály"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Szent László Hadosztály"
					division_names_group = HUN_INF_01
					role = infantry
					is_locked = no
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						artillery_brigade = { x = 2 y = 0 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}

				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_owned_by = ROOT
						is_core_of = ROOT
					}
					create_unit = {
					    division = "name = \"Szent László Hadosztály\" division_template = \"Szent László Hadosztály\" start_experience_factor = 0.6 start_equipment_factor = 1"
					    owner = ROOT
					    officer = {
					    	name = HUN_zoltan_zsugyi
					    	portraits = {
					    		army = {
					    			large = GFX_portrait_HUN_zoltan_szugyi
					    			small = GFX_portrait_HUN_zoltan_szugyi_small
					    		}
					    	}
					    }
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_quantity_over_quality
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = wuw_HUN_doctrinal_studies }
		mutually_exclusive = { focus = wuw_HUN_expand_the_army }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_doctrinal_studies

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			num_of_factories > 29
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = wuw_HUN_quantity_over_quality
				bonus = 0.25
				uses = 2
				category = armor
			}

			add_tech_bonus = {
				name = wuw_HUN_quantity_over_quality
				bonus = 0.25
				uses = 2
				category = artillery
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_army
		icon = GFX_focus_HUN_expand_the_army
		prerequisite = { focus = wuw_HUN_doctrinal_studies }
		mutually_exclusive = { focus = wuw_HUN_quantity_over_quality }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_doctrinal_studies

		search_filters = { FOCUS_FILTER_MANPOWER }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			has_war_support > 0.84
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			add_ideas = HUN_rapid_army_expansion
		}
	}

	focus = {
		id = wuw_HUN_the_botond
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = wuw_HUN_quantity_over_quality }
		#mutually_exclusive = { focus = wuw_HUN_expand_the_army }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_quantity_over_quality

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_the_botond
				bonus = 0.75
				uses = 1
				category = motorized_equipment
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:HUN_mwg_raba_organization = {
					add_mio_funds = 1500
					add_mio_research_bonus = 0.05
				}
			}
			ELSE = {
				custom_effect_tooltip = available_industrial_concern
				show_ideas_tooltip = HUN_mwg_raba
			}

		}
	}

	focus = {
		id = wuw_HUN_the_turan
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = wuw_HUN_quantity_over_quality }
		prerequisite = { focus = wuw_HUN_establish_the_mavag_army_division }
		#mutually_exclusive = { focus = wuw_HUN_expand_the_army }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_quantity_over_quality

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {
			#has_country_flag = HUN_reverse_engineered_skoda_tanks
			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				has_tech = basic_medium_tank_chassis
			}
			ELSE_IF = {
				limit = {
					has_tech = basic_medium_tank
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_develop_tanks
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = armor
			}

			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				IF = {
					limit = {
						has_tech = improved_medium_tank_chassis
					}
					#40M Turán
					create_equipment_variant = {
						name = "40M Turán"
						type = medium_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_cannon_2
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_bogie_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = additional_machine_guns
							special_type_slot_2 = additional_machine_guns
						}
						#icon = "GFX_ITA_basic_medium_tank_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_the_turan_40_tt
					effect_tooltip = {
						#40M Turán
						create_equipment_variant = {
							name = "40M Turán"
							type = medium_tank_chassis_2
							parent_version = 0
							modules = {
								main_armament_slot = tank_medium_cannon_2
								turret_type_slot = tank_medium_two_man_tank_turret
								suspension_type_slot = tank_bogie_suspension
								armor_type_slot = tank_welded_armor
								engine_type_slot = tank_gasoline_engine
								special_type_slot_1 = additional_machine_guns
								special_type_slot_2 = additional_machine_guns
							}
							#icon = "GFX_ITA_basic_medium_tank_medium"
						}
					}
				}
				IF = {
					limit = {
						has_tech = advanced_medium_tank_chassis
					}
					#43M Turán III
					create_equipment_variant = {
						name = "43M Turán III"
						type = medium_tank_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_cannon_2
							turret_type_slot = tank_medium_three_man_tank_turret
							suspension_type_slot = tank_bogie_suspension
							armor_type_slot = tank_welded_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = secondary_turret_hmg
							special_type_slot_2 = additional_machine_guns
						}
						#icon = "GFX_ITA_basic_medium_tank_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_the_turan_43_tt
					effect_tooltip = {
						#43M Turán III
						create_equipment_variant = {
							name = "43M Turán III"
							type = medium_tank_chassis_3
							parent_version = 0
							modules = {
								main_armament_slot = tank_medium_cannon_2
								turret_type_slot = tank_medium_three_man_tank_turret
								suspension_type_slot = tank_bogie_suspension
								armor_type_slot = tank_welded_armor
								engine_type_slot = tank_gasoline_engine
								special_type_slot_1 = secondary_turret_hmg
								special_type_slot_2 = additional_machine_guns
							}
							#icon = "GFX_ITA_basic_medium_tank_medium"
						}
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}

				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = HUN_hti_turan_organization

				mio:HUN_hti_turan_organization = {
					add_mio_size = 3
				}

			}
			ELSE = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_hti_turan
			}

		}
	}

	focus = {
		id = wuw_HUN_assault_gun_focus
		icon = GFX_focus_generic_self_propelled_gun
		prerequisite = { focus = wuw_HUN_establish_the_mavag_army_division }
		#mutually_exclusive = { focus = wuw_HUN_the_toldi }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_establish_the_mavag_army_division

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			#has_country_flag = HUN_activated_huba_ii_flag
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = HUN_develop_assault_guns
				bonus = 0.5
				uses = 2
				category = cat_anti_air
				category = mio_cat_artillery
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = wuw_HUN_assault_gun_focus_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				IF = {
					limit = {
						has_tech = advanced_medium_tank_chassis
					}
					# 43M Zrínyi
					create_equipment_variant = {
						name = "43M Zrínyi"
						type = medium_tank_artillery_chassis_3
						parent_version = 0
						modules = {
							main_armament_slot = tank_medium_howitzer_2
							turret_type_slot = tank_medium_one_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_gasoline_engine
						}
						#icon = "GFX_ITA_advanced_medium_art_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_zrinyi_arty_tt
					effect_tooltip = {
						# 43M Zrínyi
						create_equipment_variant = {
							name = "43M Zrínyi"
							type = medium_tank_artillery_chassis_3
							parent_version = 0
							modules = {
								main_armament_slot = tank_medium_howitzer_2
								turret_type_slot = tank_medium_one_man_tank_turret
								suspension_type_slot = tank_torsion_bar_suspension
								armor_type_slot = tank_riveted_armor
								engine_type_slot = tank_gasoline_engine
							}
							#icon = "GFX_ITA_advanced_medium_art_medium"
						}
					}
				}
				IF = {
					limit = {
						has_tech = improved_medium_tank_chassis
					}
					# 40M Nimród
					create_equipment_variant = {
						name = "40M Nimród"
						type = medium_tank_aa_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_anti_air_cannon_2
							turret_type_slot = tank_medium_two_man_tank_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_1 = auto_loader
							special_type_slot_2 = secondary_turret_small_cannon
						}
						#icon = "GFX_ITA_advanced_medium_spaa_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_nimrod_aa_tt
					effect_tooltip = {
						# 40M Nimród
						create_equipment_variant = {
							name = "40M Nimród"
							type = medium_tank_aa_chassis_2
							parent_version = 0
							modules = {
								main_armament_slot = tank_anti_air_cannon_2
								turret_type_slot = tank_medium_two_man_tank_turret
								suspension_type_slot = tank_torsion_bar_suspension
								armor_type_slot = tank_riveted_armor
								engine_type_slot = tank_gasoline_engine
								special_type_slot_1 = auto_loader
								special_type_slot_2 = secondary_turret_small_cannon
							}
							#icon = "GFX_ITA_advanced_medium_spaa_medium"
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_the_toldi
		icon = GFX_focus_generic_tankette
		prerequisite = { focus = wuw_HUN_quantity_over_quality }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_quantity_over_quality

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = wuw_HUN_the_toldi
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_light_armor
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = HUN_rapid_army_groups_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				IF = {
					limit = {
						has_tech = improved_light_tank_chassis
					}
					#38M Toldi
					create_equipment_variant = {
						name = "38M Toldi"
						type = light_tank_chassis_2
						parent_version = 0
						modules = {
							main_armament_slot = tank_small_cannon_2
							turret_type_slot = tank_light_fixed_superstructure_turret
							suspension_type_slot = tank_torsion_bar_suspension
							armor_type_slot = tank_riveted_armor
							engine_type_slot = tank_gasoline_engine
							special_type_slot_2 = tank_radio_1
						}
						#icon = "GFX_ITA_improved_light_tank_medium"
					}
				}
				ELSE = {
					custom_effect_tooltip = wuw_HUN_the_toldi_tt
					effect_tooltip = {
						#38M Toldi
						create_equipment_variant = {
							name = "38M Toldi"
							type = light_tank_chassis_2
							parent_version = 0
							modules = {
								main_armament_slot = tank_small_cannon_2
								turret_type_slot = tank_light_fixed_superstructure_turret
								suspension_type_slot = tank_torsion_bar_suspension
								armor_type_slot = tank_riveted_armor
								engine_type_slot = tank_gasoline_engine
								special_type_slot_2 = tank_radio_1
							}
							#icon = "GFX_ITA_improved_light_tank_medium"
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_invest_in_the_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = wuw_HUN_expand_the_army }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_expand_the_army

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = wuw_HUN_invest_in_the_special_forces
				bonus = 0.5
				uses = 1
				category = mountaineers_tech
			}

			add_tech_bonus = {
				name = wuw_HUN_invest_in_the_special_forces
				bonus = 0.35
				uses = 1
				category = para_tech
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_doctrine_cost_reduction = {
					name = wuw_HUN_invest_in_the_special_forces
					cost_reduction = 0.5
					uses = 2
					category = special_forces_doctrine
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_construct_the_arpad_line
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = wuw_HUN_expand_the_army focus = wuw_HUN_quantity_over_quality }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_expand_the_army

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_HISTORICAL }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			has_war = yes
			73 = {
				is_fully_controlled_by = ROOT
			}
			76 = {
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = wuw_HUN_construct_the_arpad_line_tt

			hidden_effect = {

				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 11536
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 11536
						}
					}
				}
						
				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 9563
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 9563
						}
					}
					
				}
					
				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 6571
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 6571
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 9704
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 9704
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 727
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 727
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 9685
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 9685
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 711
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 711
						}
					}
				}
					
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size > 1
								province = 3689
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 3
						    instant_build = yes
						    province = 3689
						}
					}
				}
			
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_dezso_magos

		}
	}

	focus = {
		id = wuw_HUN_transylvanian_mountaineers
		icon = GFX_focus_SMB_special_forces_option_1
		prerequisite = { focus = wuw_HUN_construct_the_arpad_line }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 2
		relative_position_id = wuw_HUN_construct_the_arpad_line

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			OR = {
				76 = {
					is_controlled_by = ROOT
				}
				84 = {
					is_controlled_by = ROOT
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			add_tech_bonus = {
				name = wuw_HUN_transylvanian_mountaineers
				bonus = 1
				uses = 1
				category = mountaineers_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_tech = mountain_gun
					}
				}
				custom_effect_tooltip = ROM_mountain_artillery_tech_tt
				hidden_effect = { set_technology = { mountain_gun = 1 } }
			}

		}
	}

	focus = {
		id = wuw_HUN_expand_the_arpad_line
		icon = GFX_focus_SWE_hedgehog_defense
		prerequisite = { focus = wuw_HUN_construct_the_arpad_line }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_construct_the_arpad_line

		cost = 5

		ai_will_do = {
			factor = 5
		}

		available = {
			has_war = yes
			73 = {
				is_fully_controlled_by = ROOT
			}
			76 = {
				is_fully_controlled_by = ROOT
			}

			custom_trigger_tooltip = {
				tooltip = wuw_HUN_expand_the_arpad_line_available_tt

				OR = {
					73 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 11536
						}
					}

					73 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 9563
						}
					}

					73 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 6571
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 9704
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 727
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 9685
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 711
						}
					}

					76 = {
						free_building_slots = {
							building = bunker
							size > 1
							province = 3689
						}
					}
				}
				
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_expand_the_arpad_line_tt

			hidden_effect = {
				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 11536
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 11536
						}
					}
				}				

				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 9563
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 9563
						}
					}
				}
				
				IF = {
					limit = {
						73 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 6571
							}
						}
					}

					73 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 6571
						}
					}
				}
				
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 9704
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 9704
						}
					}
				}
				
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 727 
							}
						}
					}

					76 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 727
						}
					}
				}
				
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 9685
							}
						}
					}
					76 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 9685
						}
					}
				}
				
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 711
							}
						}
					}
				}
				76 = {
					add_building_construction = {
					    type = bunker
					    level = 2
					    instant_build = yes
					    province = 711
					}
				}
				IF = {
					limit = {
						76 = {
							free_building_slots = {
								building = bunker
								size < 1
								province = 3689
							}
						}
					}
				}
				76 = {
					add_building_construction = {
					    type = bunker
					    level = 2
					    instant_build = yes
					    province = 3689
					}
				}

			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						84 = {
							is_controlled_by = ROOT
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_expand_the_arpad_line_can_have_more_tt
			}
			ELSE_IF = {
				limit = {
					84 = {
						is_fully_controlled_by = ROOT
					}
				}
				custom_effect_tooltip = wuw_HUN_expand_the_arpad_line_southern_expansion_tt
				hidden_effect = {
					84 = {
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 690
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 3676
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 6709
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 6679
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 3665
						}
						add_building_construction = {
						    type = bunker
						    level = 2
						    instant_build = yes
						    province = 9619
						}
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_construct_the_szeretfalva_deda_railway_line
		icon = GFX_focus_generic_railroad
		prerequisite = { focus = wuw_HUN_construct_the_arpad_line }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_construct_the_arpad_line

		search_filters = { FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
			#has_war = yes
			76 = {
				is_fully_controlled_by = ROOT
			}
			154 = {
				is_fully_controlled_by = ROOT
			}
			43 = {
				is_fully_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_construct_the_szeretfalva_deda_railway_line_tt

			hidden_effect = {
				build_railway = {
				    level = 2
				    fallback = yes
				    path = { 9660 716 6716 699 11644 3696 3709 6714 9672 9670 }
				    start_province = 9660
				    target_province = 9670
				}
			}

			76 = {
				add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province =  9670
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						has_tech = wartime_train
					}
				}
				add_tech_bonus = {
					name = wuw_HUN_construct_the_szeretfalva_deda_railway_line
					bonus = 1
					uses = 1
					technology = wartime_train
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_the_szekel_command
		icon = GFX_focus_HUN_the_szekel_command
		prerequisite = { focus = wuw_HUN_transylvanian_mountaineers }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_transylvanian_mountaineers

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_HISTORICAL }

		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
			has_war = yes
			76 = {
				is_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			custom_effect_tooltip = wuw_HUN_the_szekel_command_division_tt

			hidden_effect = {
				delete_unit_template_and_units = {
					division_template = "Székel Command"
					disband = yes #if yes, will refund equipment/manpower.
				}

				division_template = {
					name = "Székel Command Group"
					division_names_group = HUN_MTN_01
					role = mountaineers
					is_locked = no
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						artillery_brigade = { x = 2 y = 0 }
					}
					support = {
						recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
				}

				76 = {
					create_unit = {
					    division = "name = \"First Székel Command\" division_template = \"Székel Command Group\" start_experience_factor = 0.6 start_equipment_factor = 0.8"
					    owner = ROOT
					    officer = {
					    	name = HUN_istvan_kozma
					    }
					}
					create_unit = {
					    division = "name = \"Second Székel Command\" division_template = \"Székel Command Group\" start_experience_factor = 0.6 start_equipment_factor = 0.6"
					    owner = ROOT
					    officer = {
					    	name = HUN_ferenc_horvath
					    }
					}
				}
			}

		}
	}

	focus = {
		id = wuw_HUN_renew_the_shipping_industry
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = wuw_HUN_reinstate_the_navy }
		#mutually_exclusive = { focus = wuw_HUN_assault_gun_focus }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_reinstate_the_navy

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		complete_tooltip = {
			IF = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_coastal = yes
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_renew_the_shipping_industry_tt
			}
			ELSE = {
				random_owned_controlled_state = {
					limit = {
						has_state_flag = HUN_dockyards_flag
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
		}

		completion_reward = {
			navy_experience = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_coastal = yes
						}
					}
				}
				custom_effect_tooltip = wuw_HUN_renew_the_shipping_industry_tt
			}
			ELSE = {
				random_owned_controlled_state = {
					prioritize = { 103 }
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
					set_state_flag = HUN_dockyards_flag
				}
			}
		}
	}

	focus = {
		id = wuw_HUN_embrace_navy_traditions
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = wuw_HUN_reinstate_the_navy }
		mutually_exclusive = { focus = wuw_HUN_a_reformed_navy }
		x = -1
		y = 2
		relative_position_id = wuw_HUN_reinstate_the_navy

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_doctrine_cost_reduction = {
				name = wuw_HUN_embrace_navy_traditions
				cost_reduction = 0.5
				uses = 2
				category = cat_fleet_in_being
			}

		}
	}

	focus = {
		id = wuw_HUN_a_reformed_navy
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = wuw_HUN_reinstate_the_navy }
		mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = 1
		y = 2
		relative_position_id = wuw_HUN_reinstate_the_navy

		search_filters = { FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = wuw_HUN_a_reformed_navy
				cost_reduction = 0.5
				uses = 2
				category = cat_trade_interdiction
				category = cat_base_strike
			}
		}
	}

	focus = {
		id = wuw_HUN_invest_in_destroyer_models
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = wuw_HUN_embrace_navy_traditions focus = wuw_HUN_a_reformed_navy }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_a_reformed_navy

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_invest_in_destroyer_models
				bonus = 1
				uses = 2
				category = dd_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_cruiser_investments
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = wuw_HUN_invest_in_destroyer_models }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_invest_in_destroyer_models

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_cruiser_investments
				bonus = 1.0
				uses = 2
				category = cl_tech
				category = ca_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_wolfs_of_the_sea
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = wuw_HUN_a_reformed_navy }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = 1
		y = 1
		relative_position_id = wuw_HUN_a_reformed_navy

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_wolfs_of_the_sea
				bonus = 1
				uses = 2
				category = ss_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_bringing_the_air_battle_to_the_seas
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = wuw_HUN_wolfs_of_the_sea }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_wolfs_of_the_sea

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_bringing_the_air_battle_to_the_seas
				bonus = 2
				uses = 1
				category = cv_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_capital_ship_efforts
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = wuw_HUN_embrace_navy_traditions }
		#mutually_exclusive = { focus = wuw_HUN_embrace_navy_traditions }
		x = -1
		y = 1
		relative_position_id = wuw_HUN_embrace_navy_traditions

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {

			navy_experience = 15

			add_tech_bonus = {
				name = wuw_HUN_capital_ship_efforts
				bonus = 1.0
				uses = 2
				category = bc_tech
				category = bb_tech
			}

		}
	}

	focus = {
		id = wuw_HUN_a_new_pride_of_the_fleet
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = wuw_HUN_capital_ship_efforts }
		#mutually_exclusive = { focus = wuw_HUN_capital_ship_efforts }
		x = 0
		y = 1
		relative_position_id = wuw_HUN_capital_ship_efforts

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = basic_ship_hull_heavy
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			create_equipment_variant = {
				name = "Viribus Unitis Class"
				type = ship_hull_heavy_2
				parent_version = 0
				allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
				modules = {
					fixed_ship_battery_slot = ship_heavy_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_2
					fixed_ship_fire_control_system_slot = ship_fire_control_system_1
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = heavy_ship_engine_1
					fixed_ship_secondaries_slot = dp_ship_secondaries_1
					fixed_ship_armor_slot = ship_armor_bb_1
					front_1_custom_slot = ship_heavy_battery_1
					mid_1_custom_slot = ship_anti_air_2
					mid_2_custom_slot = dp_ship_secondaries_1
					rear_1_custom_slot = ship_heavy_battery_1
				}
				upgrades = {
					ship_reliability_upgrade = 2
					ship_engine_upgrade = 2
					ship_armor_upgrade = 3
					ship_gun_upgrade = 3
				}
			}

			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_heavy_2
					creator = "HUN"
					version_name = "Viribus Unitis Class"
				}
				name = "Viribus Unitis"
				requested_factories = 2
				progress = 0.75
				amount = 1
			}
		}
	}

	focus = {
		id = wuw_HUN_degauss_ship_hulls
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = wuw_HUN_a_new_pride_of_the_fleet focus = wuw_HUN_cruiser_investments focus = wuw_HUN_bringing_the_air_battle_to_the_seas }
		#mutually_exclusive = { focus = wuw_HUN_a_new_pride_of_the_fleet }
		x = 2
		y = 1
		relative_position_id = wuw_HUN_a_new_pride_of_the_fleet

		search_filters = { FOCUS_FILTER_RESEARCH }

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						has_tech = degaussing
					}
					add_tech_bonus = {
						name = CAN_degauss_ship_hulls
						bonus = 0.5
						uses = 1
						category = naval_mines
					}
					else = {
						set_technology = {
						    degaussing = 1
						}
					}
					}
				}
			
			if = {
				limit = {
						NOT = {
							has_dlc = "Man the Guns"
						}
					}
				add_ideas = CAN_degauss_ship_hulls
			}
		}
	}





}
