### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
    id = indian_focus_goe
    
    country = {
        factor = 0
        
        modifier = {
            add = 10
            tag = RAJ
            has_dlc = "Graveyard of Empires"
        }
    }
    default = no
    continuous_focus_position = { x = 200 y = 1500 }

    focus = {
        id = RAJ_indianize_the_army
        icon = GFX_focus_RAJ_indianisation_of_army
        x = 0
        y = 0
        mutually_exclusive = { focus = RAJ_keep_british_generals }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

        completion_reward = {
            IF = {
                limit = {
                    NOT = {
                        has_completed_focus = RAJ_look_to_the_past
                    }
                }
                every_army_leader = {
                    limit = {
                        has_trait = loyalty_to_india
                    }
                    add_skill_level = 1
                    random_list = {
                        seed = random 
                        25 = {
                            add_logistics = 2
                            add_attack = 1
                        }
                        25 = {
                            add_planning = 1
                            add_attack = 2
                        }
                        25 = {
                            add_defense = 3
                        }
                        25 = {
                            add_logistics = 1
                            add_attack = 1
                            add_defense = 1
                        }
                        
                    }
                }
            }
            ELSE = {
                army_experience = 50
            }
        }
    }

    #############
    ##DOCTRINE###
    #############
    

    focus = {
        id = RAJ_keep_british_generals
        icon = GFX_focus_RAJ_british_investors
        x = -4
        y = 0
        relative_position_id = RAJ_indianize_the_army
        mutually_exclusive = { focus = RAJ_indianize_the_army }

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_in_faction_with = ENG
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            every_army_leader = {
                limit = {
                    has_trait = loyalty_to_britain
                }
                remove_trait = {
                    trait = loyalty_to_britain
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            every_army_leader = {
                limit = {
                    has_trait = loyalty_to_pakistan
                }
                remove_trait = {
                    trait = loyalty_to_pakistan
                }
            }

            custom_effect_tooltip = RAJ_keep_british_generals_tt
        }
    }

    focus = {
        id = RAJ_defense_of_india_act
        icon = GFX_goal_panzerwaffe
        prerequisite = { focus = RAJ_indianize_the_army focus = RAJ_keep_british_generals }
        x = -2
        y = 1
        relative_position_id = RAJ_indianize_the_army
       
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.5
            NOT = { has_idea = capital_investment_model }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_idea = war_economy }
                }
                add_ideas = war_economy
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            every_owned_state = {
                limit = {
                    has_resistance = yes
                }
                add_resistance = -10
            }
        }
    }

    focus = {
        id = RAJ_learn_from_the_crown
        icon = GFX_focus_chi_british_cooperation
        prerequisite = { focus = RAJ_keep_british_generals }

        x = 0
        y = 1
        relative_position_id = RAJ_keep_british_generals

        cost = 5

        available = {
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            add_doctrine_cost_reduction = {
                name = RAJ_learn_from_the_crown
                cost_reduction = 0.75
                uses = 1
                category = land_doctrine
            }
        }
    }

    focus = {
        id = RAJ_colonial_cadet_exchange
        icon = GFX_focus_generic_fascist_troops
        prerequisite = { focus = RAJ_learn_from_the_crown }

        x = 0
        y = 1
        relative_position_id = RAJ_learn_from_the_crown

        cost = 5

        available = {
            has_manpower > 100000
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_generals.1 days = 1}
            }
            custom_effect_tooltip = if_they_accept_tt
            effect_tooltip = {
                add_manpower = -100000
                add_timed_idea = {
                     idea = idea_RAJ_soldiers_training_in_britain
                     days = 365
                }
            }
            custom_effect_tooltip = RAJ_colonial_cadet_exchange_tt
            effect_tooltip = {
                RAJ = {
                    division_template = {
                        name = "Royal Indian Infantry"
                        is_locked = yes
                        support={
                            artillery={ x=0 y=0 }
                            recon={ x=0 y=1 }
                        }
                        regiments={
                            infantry={ x=0 y=0 }
                            infantry={ x=0 y=1 }
                            infantry={ x=0 y=2 }
                            infantry={ x=1 y=0 }
                            infantry={ x=1 y=1 }
                            infantry={ x=1 y=2 }
                            infantry={ x=2 y=0 }
                            infantry={ x=2 y=1 }
                            infantry={ x=2 y=2 }
                        }
                    }

                    random_core_state = {
                        prioritize = { 439 }
                        create_unit = {
                            division = "name = \"Royal Indian Infantry\" division_template = \"Royal Indian Infantry\" start_experience_factor = 0.8 start_equipment_factor = 1.0 start_manpower_factor = 1.0"
                            owner = RAJ
                            allow_spawning_on_enemy_provs = no 
                            count = 10
                        }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_learn_from_the_secret_intelligence_service
        icon = GFX_focus_generic_secret_service_agency
        prerequisite = { focus = RAJ_colonial_cadet_exchange }

        x = -2
        y = 1
        relative_position_id = RAJ_colonial_cadet_exchange

        cost = 5

        bypass = {

        }

        available = {
            is_in_faction_with = ENG
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_intelligence_agency = yes }
                }
                create_intelligence_agency = yes
            }
            add_ideas = { idea_RAJ_help_from_the_secret_intelligence_agency }
        }
    }

    focus = {
        id = RAJ_purchase_british_supply_equipment
        icon = GFX_focus_generic_british_trade
        prerequisite = { focus = RAJ_colonial_cadet_exchange }

        x = 0
        y = 1
        relative_position_id = RAJ_colonial_cadet_exchange

        cost = 5

        available = {
            is_in_faction_with = ENG
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_generals.7 days = 1 }
            }
            custom_effect_tooltip = if_they_accept_tt
            effect_tooltip = {
                RAJ = {
                    add_equipment_to_stockpile = { 
                        type = motorized_equipment_1
                        amount = 1600
                        producer = ENG
                    }
                    add_equipment_to_stockpile = { 
                        type = train_equipment
                        amount = 10
                        producer = ENG
                    }
                    add_equipment_to_stockpile = { 
                        type = support_equipment
                        amount = 500
                        producer = ENG
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_forming_an_indian_doctrine
        icon = GFX_focus_RAJ_indian_gurkhas
        prerequisite = { focus = RAJ_indianize_the_army }

        x = 0
        y = 1
        relative_position_id = RAJ_indianize_the_army

        cost = 5

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            army_experience = 50
            add_war_support = 0.05
        }
    }

    focus = {
        id = RAJ_model_after_germany
        icon = GFX_focus_chi_mission_to_germany
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = -2
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_usa }
        mutually_exclusive = { focus = RAJ_model_after_soviet }

        cost = 10

        available = {
            NOT = { has_war_with = GER }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = fascism
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_ger }
        }
    }

    focus = {
        id = RAJ_model_after_usa
        icon = GFX_focus_generic_befriend_usa
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = 0
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_germany }
        mutually_exclusive = { focus = RAJ_model_after_soviet }

        cost = 10

        available = {
            NOT = { has_war_with = USA }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = democratic
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_usa }
        }
    }

    focus = {
        id = RAJ_model_after_soviet
        icon = GFX_focus_chi_mission_to_the_soviet_union
        prerequisite = { focus = RAJ_forming_an_indian_doctrine }

        x = 2
        y = 1
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_model_after_usa }
        mutually_exclusive = { focus = RAJ_model_after_germany }
        
        cost = 10

        available = {
            NOT = { has_war_with = SOV }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_POLITICAL}

        completion_reward = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            custom_effect_tooltip = generic_skip_one_line_tt
            add_ideas = { idea_RAJ_indian_army_doctrine_sov }
        }
    }

    focus = {
        id = RAJ_automating_the_army
        icon = GFX_goal_generic_army_tanks
        prerequisite = { focus = RAJ_model_after_usa focus = RAJ_model_after_germany }


        x = -1
        y = 2
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_for_the_people_by_the_people }

        cost = 10

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 1.0
                uses = 1
                category = cat_mechanized_equipment
            }
            add_tech_bonus = {
                bonus = 0.75
                uses = 1
                category = armor
            }
        }
    }

    focus = {
        id = RAJ_for_the_people_by_the_people
        icon = GFX_focus_ETH_freedom_at_gunpoint
        prerequisite = { focus = RAJ_model_after_usa focus = RAJ_model_after_soviet }

        x = 1
        y = 2
        relative_position_id = RAJ_forming_an_indian_doctrine

        mutually_exclusive = { focus = RAJ_automating_the_army }

        cost = 10

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 0.75
                uses = 2
                category = infantry_tech
            }
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 0.5
                uses = 1
                category = artillery
            }
            add_tech_bonus = {
                name = RAJ_for_the_people_by_the_people
                bonus = 0.5
                uses = 1
                category = support_tech
            }
        }
    }

    #############
    ##RAILWAYS###
    #############
    focus = {
        id = RAJ_east_india_railways_dlc
        icon = GFX_goal_generic_construct_infrastructure
        #prerequisite = { focus =  }
        x = 8
        y = 0
        relative_position_id = RAJ_indianize_the_army
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {

            indian_railways_increase_bonus = yes

            custom_effect_tooltip = generic_skip_one_line_tt

            if = {
                limit = {
                    controls_province = 2086
                    controls_province = 4245
                }

                build_railway = {
                    level = 1
                    start_province = 2086
                    target_province = 4245
                }
            }

            if = {
                limit = {
                    controls_state = 431
                }

                431 = {
                    add_building_construction = {
                        type = supply_node
                        level = 1
                        instant_build = yes
                        province = 7593
                    }
                }
            }

            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_the_calcutta_line
        icon = GFX_goal_fortify_the_westwall
        #prerequisite = { focus =  }
        x = 0
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc
        
        prerequisite = { focus =  RAJ_east_india_railways_dlc }
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            431 = {
                is_fully_controlled_by = ROOT
            }
            430 = {
                is_fully_controlled_by = ROOT
            }
            432 = {
                is_fully_controlled_by = ROOT
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {

            431 = {
                custom_effect_tooltip = RAJ_the_calcutta_line_tt
                hidden_effect = {

                    if = {
                        limit = {
                            any_province_building_level = {
                                province = {
                                    id = 1159
                                    id = 4245
                                    id = 10077
                                    id = 4644
                                    id = 7593
                                    id = 7537
                                }
                                building = bunker
                                level < 10
                            }
                        }
                        add_building_construction = {
                            type = bunker
                            level = 2
                            instant_build = yes
                            province = {
                                id = 1159
                                id = 4245
                                id = 10077
                                id = 4644
                                id = 7593
                                id = 7537
                            }
                        }
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            430 = {
                custom_effect_tooltip = RAJ_the_calcutta_line_tt
                hidden_effect = {
                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9935
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 2843
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 7124
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 4162
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 11929
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9993
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 9993
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 4616
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 10443
                    }

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 10389
                    }   

                    add_building_construction = {
                        type = bunker
                        level = 2
                        instant_build = yes
                        province  = 12423
                    } 
                }         
            }

            custom_effect_tooltip = generic_skip_one_line_tt

            432 = {
                add_building_construction = {
                    type = bunker
                    level = 2
                    instant_build = yes
                    province  = 13208
                }
            }

        }
    }

    focus = {
        id = RAJ_bombay_baroda_and_central_india_railway
        icon = GFX_goal_generic_construct_infrastructure
        #prerequisite = { focus =  }
        x = 4
        y = 0
        relative_position_id = RAJ_east_india_railways_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            indian_railways_increase_bonus = yes
            if = {
                limit = {
                    429 = {
                        infrastructure < 5
                    }
                }
                429 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 1
                        instant_build = yes
                    }
                }
            }

            custom_effect_tooltip = generic_skip_one_line_tt
            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 4950
                }

                build_railway = {
                    level = 2
                    start_province = 1349
                    target_province = 4950
                }
            }

            if = {
                limit = {
                    controls_province = 4950
                    controls_province = 2086
                }

                build_railway = {
                    level = 2
                    start_province = 4950
                    target_province = 2086
                }
            }

            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 9975
                }

                build_railway = {
                    level = 1
                    start_province = 1349
                    target_province = 9975
                }
            }

            if = {
                limit = {
                    controls_province = 1349
                    controls_province = 9975
                }

                build_railway = {
                    level = 1
                    start_province = 9975
                    target_province = 2086
                }
            }

            add_to_variable = { RAJ_railway_focuses = 1 }

        }
    }

    focus = {
        id = RAJ_great_indian_peninsula_railway_dlc
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_east_india_railways_dlc focus = RAJ_bombay_baroda_and_central_india_railway }
        x = 2
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_south_indian_railway_company
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = -2
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }
        }
    }

    focus = {
        id = RAJ_supply_center_fortifications
        icon = GFX_goal_generic_fortify_city
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_supply_center_fortifications_tt
            hidden_effect = {
                every_owned_state = {
                    add_building_construction = {
                        type = bunker
                        level = 3
                        instant_build = yes
                        province = {
                            all_provinces = yes
                            limit_to_supply_node = yes
                        }
                    }
                }
            }
        }
    }

    focus = {
        id = RAJ_north_western_state_railway
        icon = GFX_goal_generic_construct_infrastructure
        prerequisite = { focus = RAJ_great_indian_peninsula_railway_dlc }
        x = 2
        y = 1
        relative_position_id = RAJ_great_indian_peninsula_railway_dlc 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            indian_railways_increase_bonus = yes
            add_to_variable = { RAJ_railway_focuses = 1 }

        }
    }

    focus = {
        id = RAJ_prioritize_army_cargo
        icon = GFX_focus_GER_kriegslokomotive
        prerequisite = { focus = RAJ_supply_center_fortifications }
        x = -2
        y = 1
        relative_position_id = RAJ_supply_center_fortifications
        mutually_exclusive = { focus = RAJ_prioritize_civilian_cargo }
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        complete_tooltip = {

        }

        completion_reward = {
            #add_ideas = idea_RAJ_army_cargo
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }

                add_equipment_bonus = {
                    name = RAJ_prioritize_army_cargo
                    bonus = {
                        train_equipment_3 = { #Valid for BBA and not BBA
                            armor_value = 0.1 # HP = BASE_TRAIN_HP + armor_value
                            air_attack = 0.15
                            instant = yes
                        }
                    }
                }

                set_technology = {
                    armored_train = 1
                    popup = no
                }
            }
            else = {
                add_ideas = idea_RAJ_cargo_no_nsb
            }


        }
    }

    focus = {
        id = RAJ_prioritize_civilian_cargo
        icon = GFX_focus_generic_railroad
        prerequisite = { focus = RAJ_supply_center_fortifications }
        x = 4
        y = 0
        relative_position_id = RAJ_prioritize_army_cargo
        mutually_exclusive = { focus = RAJ_prioritize_army_cargo }
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        complete_tooltip = {

        }

        completion_reward = {
            custom_effect_tooltip = RAJ_famine_impact_reduction
            
            add_to_variable = { RAJ_famine_shield = 10 tooltip = RAJ_famine_shield_tt  }
            calculate_famine_shield_and_risk = yes
            add_to_variable = { famine_reduction = 1 }
            add_equipment_to_stockpile = { 
                type = train_equipment_1
                amount = 15
                producer = RAJ
            }
        }
    }

    focus = {
        id = RAJ_ammunition_factory_khadki
        icon = GFX_goal_generic_construct_mil_factory
        #prerequisite = { focus =  }
        x = 6
        y = 0
        relative_position_id = RAJ_bombay_baroda_and_central_india_railway
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_core_state = {
                limit = {
                    is_owned_by = RAJ
                }
                prioritize = { 429 } #optional: to pick those states first if they fulfill the limit
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }

            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                }
            }
        }
    }

    focus = {
        id = RAJ_royal_indian_artillery_dlc
        #icon = GFX_
        prerequisite = {  }
        x = 9
        y = 0
        relative_position_id = RAJ_ammunition_factory_khadki
        icon = GFX_focus_SWE_let_fly_all_guns
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_royal_indian_artillery_dlc
                bonus = 0.5
                uses = 2
                category = artillery # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_military_pensions
        icon = GFX_focus_SWE_defense_act
        #prerequisite = { focus = RAJ_local_recruitment_offices }
        x = 8
        y = 0
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_timed_idea = { idea = idea_RAJ_military_pensions days = 400 }
        }
    }
    
    focus = {
        id = RAJ_local_recruitment_offices
        icon = GFX_focus_SWE_varnplikt
        #prerequisite = { focus =  }
        x = 10
        y = 0
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            is_raj_or_raj_inheritor = yes
        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_local_recruitment_offices_tt
            remove_agrarian_society_if_void = yes

        }
    }

    focus = {
        id = RAJ_specialized_dietary_requirement
        icon = GFX_focus_RAJ_specialized_dietery_requirements
        prerequisite = { focus = RAJ_military_pensions focus = RAJ_royal_indian_artillery_dlc  }
        x = 2
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc 
        mutually_exclusive = { focus = RAJ_standardized_rations }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_STABILITY}

        completion_reward = {
            add_ideas = idea_RAJ_specialized_dietary_requirement
        }
    }
    

    focus = {
        id = RAJ_standardized_rations
        icon = GFX_focus_SWE_rations
        prerequisite = { focus = RAJ_military_pensions focus = RAJ_royal_indian_artillery_dlc  }
        x = 2
        y = 0
        relative_position_id = RAJ_specialized_dietary_requirement
        mutually_exclusive = { focus = RAJ_specialized_dietary_requirement }
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            add_ideas = idea_RAJ_standardized_rations
        }
    }
    
    focus = {
        id = RAJ_armoured_corps_center_and_school
        icon = GFX_goal_generic_army_tanks
        prerequisite = { focus = RAJ_royal_indian_artillery_dlc }
        x = -3
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            random_army_leader = {
                limit = {
                    NOT = { has_trait = panzer_leader }
                }
                add_trait = {
                    trait = panzer_leader
                }
            }
             add_tech_bonus = {
                name = RAJ_armoured_corps_center_and_school
                bonus = 1
                uses = 2
                category = cat_medium_armor
            }
        }
    }
    

    focus = {
        id = RAJ_legacy_of_military_service
        #icon = GFX_
        prerequisite = { focus = RAJ_local_recruitment_offices }
        x = 0
        y = 1
        relative_position_id = RAJ_local_recruitment_offices
        icon = GFX_focus_generic_commonwealth_build_infantry
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
        }
    }
    

    focus = {
        id = RAJ_indian_states_force
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_military_pensions }
        x = 0
        y = 2
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            every_controlled_state = {
                random_select_amount = 2
                limit = {
                    is_in_array = {
                        array = ROOT.owned_states_at_game_start
                        value = THIS
                    }

                    has_resistance = yes
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    


    focus = {
        id = RAJ_womens_auxiliary_corps
        icon = GFX_focus_SWE_lottakoren
        prerequisite = { focus = RAJ_military_pensions }
        x = 2
        y = 1
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            add_ideas = idea_RAJ_womens_auxiliary_corps
        }
    }

    focus = {
        id = RAJ_indian_army_corps_of_engineers
        icon = GFX_focus_SOV_organize_wreckers
        prerequisite = { focus = RAJ_legacy_of_military_service focus = RAJ_military_pensions }
        x = -5
        y = 1
        relative_position_id = RAJ_legacy_of_military_service
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            every_army_leader = {
                random_select_amount = 2
                add_trait = {
                    trait = trait_engineer
                }
                add_logistics = 2
            }

            add_tech_bonus = {
                name = RAJ_indian_army_corps_of_engineers
                bonus = 1
                uses = 1
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
        }
    }
    

    focus = {
        id = RAJ_relax_agrarian_society_criteria
        icon = GFX_focus_secret_rearmament
        prerequisite = { focus = RAJ_legacy_of_military_service}
        x = -1
        y = 1
        relative_position_id = RAJ_legacy_of_military_service 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_stability > 0.55
        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}

        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
                        
        }
    }
    

    focus = {
        id = RAJ_mechanization_of_the_cavalry
        icon = GFX_focus_generic_mechanized
        prerequisite = { focus = RAJ_armoured_corps_center_and_school }
        x = 0
        y = 1
        relative_position_id = RAJ_armoured_corps_center_and_school 
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_mechanization_of_the_cavalry
                bonus = 1
                uses = 1
                category = cat_mechanized_equipment # optional 
				ahead_reduction = 1
                # technology  = technology_id # optional
            }
            army_experience = 20
        }
    }
    

    focus = {
        id = RAJ_mountain_tanks
        icon = GFX_focus_generic_army_tanks2
        prerequisite = { focus = RAJ_mechanization_of_the_cavalry }
        x = 0
        y = 1
        relative_position_id = RAJ_mechanization_of_the_cavalry
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {

            custom_effect_tooltip = mountain_tanks_tt
           # hidden_effect = {
                set_technology = {
                    mountain_tanks = 1
                    popup = yes
                }
           # }
        }
    }
    

    focus = {
        id = RAJ_siege_batteries
        icon = GFX_focus_generic_railway_gun
        prerequisite = { focus = RAJ_indian_army_corps_of_engineers }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_army_corps_of_engineers
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "No Step Back"
                }
                #Required techs for railway guns
                if = {
                    limit = {
                        NOT = { has_tech = armored_train }
                    }
                    set_technology = { armored_train = 1 }
                }
                if = {
                    limit = {
                        NOT = { has_tech = railway_gun }
                    }
                    set_technology = { railway_gun = 1 }
                }

                create_railway_gun = {
                    equipment = railway_gun_equipment_1
                    name = "BL 9.2-inch Railway Gun"
                }
            }
            else = {
                add_ideas = idea_RAJ_siege_batteries
            }

            random_army_leader = {
                limit = {
                    NOT = { has_trait = fortress_buster }
                }
                add_trait = {
                    trait = fortress_buster
                }
            }
        }
    }
    

    focus = {
        id = RAJ_mountain_guns
        icon = GFX_focus_RAJ_mountain_guns
        prerequisite = { focus = RAJ_royal_indian_artillery_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_royal_indian_artillery_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            custom_effect_tooltip = mountain_guns_tt
            hidden_effect = {
                set_technology = {
                    mountain_gun = 1
                    popup = no
                }
            }

        }
    }
    

    focus = {
        id = RAJ_frontier_corps
        icon = GFX_focus_generic_military_academy
        prerequisite = { focus = RAJ_military_pensions }
        x = -2
        y = 1
        relative_position_id = RAJ_military_pensions
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = logistics_tech # optional 
                ahead_reduction = 2
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                add_doctrine_cost_reduction = {
                    cost_reduction = 0.25
                    uses = 1
                    category = special_forces_doctrine
                }
            }
            else = {
                army_experience = 50
            }
        }
    }
    

    focus = {
        id = RAJ_regimental_loyalty
        icon = GFX_goal_generic_axis_build_infantry
        prerequisite = { focus = RAJ_legacy_of_military_service }
        x = 2
        y = 0
        relative_position_id = RAJ_relax_agrarian_society_criteria
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.35
        }
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MANPOWER}

        completion_reward = {
            custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.09 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.27 tooltip = mobilization_laws_cost_factor_tt }
            remove_agrarian_society_if_void = yes
        }
    }
    
    focus = {
        id = RAJ_the_burma_rifles
        icon = GFX_goal_generic_army_doctrines
        prerequisite = { focus = RAJ_frontier_corps }
        x = 0
        y = 1
        relative_position_id = RAJ_frontier_corps
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_doctrine_cost_reduction = {
                name = RAJ_the_burma_rifles
                cost_reduction = 0.35
                uses = 1
                category = land_doctrine
            }

            add_tech_bonus = {
                bonus = 0.4
                uses = 1
                category = infantry_weapons # optional 
                # technology  = technology_id # optional
                name = RAJ_the_burma_rifles
            }
        }
    }

    focus = {
        id = RAJ_gurkhas
        icon = GFX_focus_RAJ_indian_gurkhas
        prerequisite = { focus = RAJ_the_burma_rifles  }
        x = 0
        y = 2
        relative_position_id = RAJ_the_burma_rifles
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        } 

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                add_doctrine_cost_reduction = {
                    name = RAJ_gurkhas
                    cost_reduction = 0.35
                    uses = 3
                    category = special_forces_doctrine
                }
                add_potential_special_forces_tree = yes
            }
            else = {
                army_experience = 100
            }
            division_template = {
                name = "Gurkha Rifles"
                is_locked = no
                #division_names_group = NAMELIST_ID # optional
                priority = 2 # optional 
                #template_counter = <INT> # optional
                regiments = {
                    infantry = { x = 0 y = 0 }
                    infantry = { x = 0 y = 1 }
                    infantry = { x = 0 y = 2 }
                    infantry = { x = 0 y = 3 }
                    infantry = { x = 1 y = 0 }
                    infantry = { x = 1 y = 1 }
                    infantry = { x = 1 y = 2 }
                    infantry = { x = 1 y = 3 }
                    artillery_brigade = { x = 2 y = 0 }
                    
                }
                support = {
                    artillery = { x = 0 y = 0 }
                    engineer = { x = 0 y = 1 }
                    anti_air = { x = 0 y = 2 }
                }
            }

            random_owned_controlled_state = {

                prioritize = { 439 } #optional: to pick those states first if they fulfill the limit
                if = {
                    limit = {
                       ROOT = { is_subject_of = ENG } 
                    }


                    create_unit = {
                        division = "name = \"1st King George V's Own Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }

                    create_unit = {
                        division = "name = \"6th Queen Elizabeth's Own Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }
                }
                else = {
                    create_unit = {
                        division = "name = \"The Sirmoor Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }

                    create_unit = {
                        division = "name = \"Gurkha Rifles\" division_template = \"Gurkha Rifles\" start_experience_factor = 1.5 start_equipment_factor = 1 start_manpower_factor = 0.7"
                        owner = ROOT
                        allow_spawning_on_enemy_provs = no 
                        country_score = {} # optional 
                    }
                }
                
            }



        }
    }



    focus = {
        id = RAJ_lions_of_the_great_war_dlc
        icon = GFX_focus_RAJ_lions_of_the_great_war
        prerequisite = { focus = RAJ_gurkhas }
        x = 0
        y = 1
        relative_position_id = RAJ_gurkhas

        cost = 10

        ai_will_do = {
            factor = 25
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_XP FOCUS_FILTER_WAR_SUPPORT }
        completion_reward = {
            add_ideas = idea_RAJ_lions_of_the_great_war
            army_experience = 30
            custom_effect_tooltip = RAJ_create_unit_sikh_tt
            hidden_effect = {

                division_template = {
                name = "Sikh Regiment" #sikh regiment, bro
                division_names_group = RAJ_INF_01
                regiments = {
                        infantry = { x = 0 y = 0 }
                        infantry = { x = 0 y = 1 }
                        infantry = { x = 0 y = 2 }
        
                        infantry = { x = 1 y = 0 }
                        infantry = { x = 1 y = 1 }
                        infantry = { x = 1 y = 2 }

                        infantry = { x = 2 y = 0 }
                        infantry = { x = 2 y = 1 }
                        infantry = { x = 2 y = 2 }
                            }
                        }
        
                    random_owned_controlled_state = {
                            prioritize = { 439 }
                            create_unit = { 
                                division = "name = \"1. Sikh Regiment\" division_template = \"Sikh Regiment\" start_experience_factor = 0.5" 
                                owner = RAJ
                                }
        
                    }
                }

        }
    }
    

    focus = {
        id = RAJ_abolish_agrarian_society_criteria
        icon = GFX_focus_generic_manpower
        prerequisite = { focus = RAJ_relax_agrarian_society_criteria  focus = RAJ_regimental_loyalty }
        x = -1
        y = 1
        relative_position_id = RAJ_regimental_loyalty
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            has_war_support > 0.68
            OR = {
                has_war_with_major = yes
                surrender_progress > 0.2
            }
        }
        search_filters = { FOCUS_FILTER_MANPOWER }
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = RAJ_abolish_agrarian_society_criteria_tt
            subtract_from_variable = { RAJ_recruitment_offices_timeout_max = 3 }
            remove_agrarian_society_if_void = yes
        }
    }

    

    focus = {
        id = RAJ_indian_territorial_force
        icon = GFX_goal_generic_more_territorial_claims
        prerequisite = { focus = RAJ_frontier_corps }
        x = -2
        y = 1
        relative_position_id = RAJ_frontier_corps
        

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no


        search_filters = { FOCUS_FILTER_MANPOWER }
        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.35
                uses = 1
                category = land_doctrine
            }

           custom_effect_tooltip = RAJ_relax_agrarian_society_criteria_tt
            
            add_to_variable = { RAJ_agrarian_society_conscription_factor = 0.03 tooltip = conscription_factor_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_speed = 0.09  tooltip = mobilization_speed_tt }
            add_to_variable = { RAJ_agrarian_society_mobilization_laws_cost_factor = -0.09 tooltip = mobilization_laws_cost_factor_tt }
        }
    }
    

    focus = {
        id = RAJ_military_engineer_services
        icon = GFX_goal_fortify_the_westwall
        prerequisite = { focus = RAJ_indian_army_corps_of_engineers }
        x = 2
        y = 1
        relative_position_id = RAJ_indian_army_corps_of_engineers
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                uses = 1
                ahead_reduction = 2
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
        }
    }

    focus = {
        id = RAJ_help_from_the_nagas
        icon = GFX_goal_generic_military_deal
        prerequisite = { focus = RAJ_indian_territorial_force  }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_territorial_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_help_from_the_nagas
                ahead_reduction = 1
                uses = 1
                category = recon_tech # optional 
            }
            hidden_effect = {
                set_technology = {
                    tech_recon_focus_bonus = 1
                    popup = no
                }
            }
            custom_effect_tooltip = tech_recon_focus_bonus_tt

        }
    }
    

    focus = {
        id = RAJ_re_establish_the_khyber_rifles
        icon = GFX_focus_ETH_freedom_at_gunpoint
        prerequisite = { focus = RAJ_indian_territorial_force focus = RAJ_mountain_guns }
        x = -4
        y = 1
        relative_position_id = RAJ_indian_territorial_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            random_army_leader = {
                limit = {
                    NOT = { has_trait = hill_fighter }   
                }

                add_trait = {
                    trait = hill_fighter
                }
            }

            random_army_leader = {
                limit = {
                    NOT = { has_trait = trait_mountaineer }   
                }

                add_trait = {
                    trait = trait_mountaineer
                }
            }

        }
    }
    

    focus = {
        id = RAJ_campaign_against_agrarian_societys
        icon = GFX_goal_generic_small_arms
        prerequisite = { focus = RAJ_abolish_agrarian_society_criteria }
        x = 0
        y = 1
        relative_position_id = RAJ_abolish_agrarian_society_criteria
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {
            NOT = { has_dynamic_modifier = { modifier = idea_RAJ_agrarian_society } }
        }

        search_filters = { FOCUS_FILTER_MANPOWER }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            unlock_decision_tooltip = {
                decision = RAJ_GOE_campaign_against_agrarian_societys
                show_effect_tooltip = yes # default is no
                show_modifiers = yes # default is no
            }
            remove_agrarian_society_if_void = yes
        }
    }
    
    focus = {
        id = RAJ_assam_oil_dlc
        icon = GFX_goal_generic_oil_refinery
        prerequisite = { focus = RAJ_east_india_railways_dlc  }
        x = -4
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_state = 432
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}
        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            432 = {
                add_resource = {
                    type = oil
                    amount = 12
                }
            }

            add_tech_bonus = {
                name = RAJ_assam_oil
                bonus = 1
                uses = 1
                category = synth_resources # optional 
                # technology  = technology_id # optional
            }
        }
    }
    

    focus = {
        id = RAJ_tata_steel_dlc
        icon = GFX_goal_generic_construct_civilian
        prerequisite = { focus = RAJ_bombay_baroda_and_central_india_railway }
        x = 0
        y = 1
        relative_position_id = RAJ_bombay_baroda_and_central_india_railway
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
            controls_state = 429
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            429 = {
                add_resource = {
                    type = steel
                    amount = 72
                }
            }
        }
    }

    focus = {
        id = RAJ_chindits_dlc
        icon = GFX_goal_generic_special_forces
        prerequisite = { focus = RAJ_re_establish_the_khyber_rifles }
        x = 0
        y = 1
        relative_position_id = RAJ_re_establish_the_khyber_rifles 
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {
            if = {
                limit = {   #prevent ai from stealing orde from ETH if player
                    is_ai = yes
                }
                OR = {
                    any_other_country = {
                        has_character = RAJ_orde_wingate 
                        is_ai = yes 
                    }

                    any_other_country = {
                        NOT = { has_character = RAJ_orde_wingate  }
                    }
                }
            }
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {

            create_orde_wingate = yes
            if = {
                limit = {
                    RAJ_orde_wingate = {
                        has_character_flag = is_in_ethiopia
                    }
                    OR = {
                        ETH = { is_ai = yes }
                        AND = {
                            ETH = { is_ai = no }
                            RAJ = { is_ai = no }
                        }
                    }
                }

                RAJ_orde_wingate = {
                    hidden_effect = {
                        if = {
                            limit = {
                                has_character_flag = is_in_ethiopia
                                NOT = { ROOT = { has_war_with = ENG } }
                            } 
                            clr_character_flag = is_in_ethiopia
                        }
                        set_character_flag = is_in_raj
                    }
                    set_nationality = RAJ
                }
            }

            add_ideas = idea_RAJ_chindits
        }
    }
    

    focus = {
        id = RAJ_viceroys_body_guard
        icon = GFX_goal_generic_cavalry
        prerequisite = { focus = RAJ_indian_states_force }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_states_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_tech = tech_military_police }
                }
                set_technology = {
                    tech_military_police = 1
                    popup = yes
                }
            }

            add_tech_bonus = {
                name = RAJ_viceroys_body_guard
                bonus = 1
                uses = 1
                category = military_police_tech # optional 
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    is_subject = yes
                }
                division_template = {
                    name = "Viceroys Body Guard"
                    is_locked = no
                    #division_names_group = NAMELIST_ID # optional
                    priority = 2 # optional 
                    #template_counter = <INT> # optional
                    regiments = {
                        cavalry = { x = 0 y = 0 }
                        cavalry = { x = 0 y = 1 }
                        cavalry = { x = 0 y = 2 }
                        cavalry = { x = 0 y = 3 }
                        cavalry = { x = 1 y = 0 }
                        cavalry = { x = 1 y = 1 }
                        cavalry = { x = 1 y = 2 }
                        cavalry = { x = 1 y = 3 }
                        cavalry = { x = 2 y = 0 }
                        cavalry = { x = 2 y = 1 }
                        cavalry = { x = 2 y = 2 }
                        cavalry = { x = 2 y = 3 }
                    }
                    support = {
                        military_police = { x = 0 y  = 0 }
                    }
                }
                random_owned_controlled_state = {
                    prioritize = { 438 } #optional: to pick those states first if they fulfill the limit
                    create_unit = {
                        division = "name = \"Viceroys Body Guard\" division_template = \"Viceroys Body Guard\" start_experience_factor = 0.7 start_equipment_factor = 1 start_manpower_factor = 1"
                        owner = RAJ
                    }
                }
            }
            else = {
                division_template = {
                    name = "Presidents Bodyguard"
                    is_locked = no
                    #division_names_group = NAMELIST_ID # optional
                    priority = 2 # optional 
                    #template_counter = <INT> # optional
                    regiments = {
                        cavalry = { x = 0 y = 0 }
                        cavalry = { x = 0 y = 1 }
                        cavalry = { x = 0 y = 2 }
                        cavalry = { x = 0 y = 3 }
                        cavalry = { x = 1 y = 0 }
                        cavalry = { x = 1 y = 1 }
                        cavalry = { x = 1 y = 2 }
                        cavalry = { x = 1 y = 3 }
                        cavalry = { x = 2 y = 0 }
                        cavalry = { x = 2 y = 1 }
                        cavalry = { x = 2 y = 2 }
                        cavalry = { x = 2 y = 3 }
                    }
                    support = {
                        military_police = { x = 0 y  = 0 }
                    }
                }
                random_owned_controlled_state = {
                    prioritize = {  438 } #optional: to pick those states first if they fulfill the limit
                    create_unit = {
                        division = "name = \"Presidents Bodyguard\" division_template = \"Presidents Bodyguard\" start_experience_factor = 0.7 start_equipment_factor = 1 start_manpower_factor = 1"
                        owner = RAJ
                    }
                }
            }


        }
    }
    

    focus = {
        id = RAJ_engineering_revolution
        icon = GFX_focus_SWE_landsverk
        prerequisite = { focus = RAJ_mechanization_of_the_cavalry focus = RAJ_ordnance_factory_khamaria_jabalpur }
        x = -2
        y = 1
        relative_position_id = RAJ_mechanization_of_the_cavalry
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}
        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_engineering_revolution
                bonus = 1
                uses = 1
                category = engineers_tech # optional 
                # technology  = technology_id # optional
            }
           try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
        }
    }
    

    focus = {
        id = RAJ_gun_and_shell_factory_cossipore
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_ammunition_factory_khadki }
        x = 2
        y = 1
        relative_position_id = RAJ_ammunition_factory_khadki
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_gun_and_shell_facatory_cassiopore
                    }
                }
            }
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    
    focus = {
        id = RAJ_rifle_factory_ishapore_west_bengal
        icon = GFX_goal_generic_small_arms
        prerequisite = { focus = RAJ_ammunition_factory_khadki }
        x = -2
        y = 1
        relative_position_id = RAJ_ammunition_factory_khadki
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_rifle_factory_ishapore
                    }
                }
            }
            try_build_mil_in_core_otherwise_build_in_controlled = yes
            
        }
    }

    focus = {
        id = RAJ_ordnance_factory_kanpur_uttar_pradesh
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_rifle_factory_ishapore_west_bengal }
        x = 0
        y = 1
        relative_position_id = RAJ_rifle_factory_ishapore_west_bengal   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_kanpur_uttar_pradesh_inf
                    }
                }

                mio:RAJ_ordnance_factory_kanpur_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_kanpur_uttar_pradesh_art
                    }
                }
            }
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }

    focus = {
        id = RAJ_ordnance_factory_medak
        icon = GFX_focus_CHL_domestic_production_of_the_willys_mb
        prerequisite = { focus = RAJ_rifle_factory_ishapore_west_bengal }
        x = -2
        y = 1
        relative_position_id = RAJ_rifle_factory_ishapore_west_bengal   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ordnance_factory_medak_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_apc_research_effort
                    }
                }
            }
            else = {
                add_tech_bonus = {
                    name = RAJ_ordnance_factory_medak
                    bonus = 0.75
                    uses = 1
                    category = cat_mechanized_equipment # optional 
                    # technology  = technology_id # optional
                }

            }
            try_build_mil_in_core_otherwise_build_in_controlled = yes

        }
    }





    focus = {
        id = RAJ_chariot_of_victory
        icon = GFX_focus_generic_mechanized
        prerequisite = { focus = RAJ_ordnance_factory_medak focus = RAJ_ordnance_factory_kanpur_uttar_pradesh }
        x = 1
        y = 1
        relative_position_id = RAJ_ordnance_factory_medak   
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 1
                category = cat_mechanized_equipment # optional 
                name = RAJ_chariot_of_victory
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ordnance_factory_medak_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_chariot_of_victory
                    }
                }
            }
            else = {
                if = {
                    limit = {
                        has_idea = idea_medak
                    }
                    swap_ideas = {
                        remove_idea = idea_medak
                        add_idea = idea_medak_1
                    }
                }
                else = {
                    effect_tooltip = {
                        swap_ideas = {
                            remove_idea = idea_medak
                            add_idea = idea_medak_1
                        }
                    }
                }
            }

            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    
   

    focus = {
        id = RAJ_indian_air_force
        icon = GFX_goal_generic_build_airforce
        #prerequisite = { focus =  }
        x = 9
        y = 0
        relative_position_id = RAJ_local_recruitment_offices
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_AIR_XP}

        completion_reward = {
            add_dynamic_modifier = {
                modifier = idea_RAJ_indian_air_force
            }
            set_variable = {
                var = RAJ_indian_air_force_xp_gain
                value = 0.2
                tooltip = experience_gain_air_tt  #Optional. localized text with LEFT and RIGHT tokens in it, tokens will replaced by values
            }

        }
    }
    

    focus = {
        id = RAJ_cordite_factory_aruvankadu_tamil_nadu
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = RAJ_gun_and_shell_factory_cossipore }
        x = -1
        y = 1
        relative_position_id = RAJ_gun_and_shell_factory_cossipore
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }
                mio:RAJ_ordnance_factory_kanpur_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_cordite_factory_aruvankadu_tamil_nadu
                        show_modifiers = yes
                    }
                }
            }
             try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    
    

    focus = {
        id = RAJ_womens_auxiliary_air_force
        icon = GFX_focus_SOV_women_in_aviation
        prerequisite = { focus = RAJ_indian_air_force }
        x = -2
        y = 1
        relative_position_id = RAJ_indian_air_force
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            
            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            set_variable = {
                var = RAJ_indian_air_air_accidents_factor
                value = -0.15
                tooltip = air_accidents_factor_tt  
            }
        }
    }
    

    focus = {
        id = RAJ_trainer_planes
        icon = GFX_focus_generic_air_bases
        prerequisite = { focus = RAJ_indian_air_force }
        x = 0
        y = 1
        relative_position_id = RAJ_indian_air_force
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_AIR_XP}

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            set_variable = {
                var = RAJ_indian_air_training_xp_gain_factor
                value = 0.15
                tooltip = air_training_xp_gain_factor_tt  
            }

            set_variable = {
                var = RAJ_indian_air_mission_xp_gain_factor
                value = 0.15
                tooltip = air_mission_xp_gain_factor_tt  #Optional. localized text with LEFT and RIGHT tokens in it, tokens will replaced by values
            }



        }
    }

    focus = {
        id = RAJ_spitfire
        icon = GFX_goal_generic_air_fighter2
        prerequisite = { focus = RAJ_trainer_planes }
        x = -2
        y = 1
        relative_position_id = RAJ_trainer_planes
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

        completion_reward = {

            air_experience = 25
            add_tech_bonus = {
                name = RAJ_spitfire
                bonus = 1
                uses = 1
                category = light_fighter
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_supermarine_organization = {
                    add_mio_size = 1
                }
            }
        }
    }
    

    focus = {
        id = RAJ_ground_pounder
        icon = GFX_focus_SWE_marauder_bombers
        prerequisite = { focus = RAJ_trainer_planes }
        x = 2
        y = 1
        relative_position_id = RAJ_trainer_planes
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no



        completion_reward = {
            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            set_variable = {
                var = RAJ_indian_air_air_cas_present_factor
                value = 0.1
                tooltip = air_cas_present_factor_tt  
            }

            set_variable = {
                var = RAJ_indian_air_air_cas_efficiency
                value = 0.05
                tooltip = air_cas_efficiency_tt  
            }
        }
    }
    

    focus = {
        id = RAJ_douglas_dakota
        icon = GFX_goal_generic_air_bomber
        prerequisite = { focus = RAJ_trainer_planes }
        x = 4
        y = 1
        relative_position_id = RAJ_trainer_planes
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                name = RAJ_douglas_dakota
                bonus = 1
                uses = 1
                category = transport_planes_cat # optional 
            }

            if = {
                limit = {
                    has_dlc = "By Blood Alone"
                }
                add_tech_bonus = {
                    name = RAJ_douglas_dakota
                    uses = 1
                    ahead_reduction = 2
                    technology  = bba_strategic_airlifter # optional
                }
            }

            else = {
                add_tech_bonus = {
                    name = RAJ_douglas_dakota
                    uses = 1
                    ahead_reduction = 2
                    technology  = strategic_airlifter # optional
                }
            }
        }
    }
    

    focus = {
        id = RAJ_vultee_vengeance
        icon = GFX_focus_generic_cas_aircraft
        prerequisite = { focus = RAJ_ground_pounder  }
        x = 0
        y = 1
        relative_position_id = RAJ_ground_pounder
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "By Blood Alone"
                }

                add_tech_bonus = {
                    name = RAJ_spitfire
                    bonus = 1
                    uses = 1
                    category = cat_air_bombs
                }
            }
            else = {
                air_experience = 60
            }

            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            set_variable = {
                var = RAJ_indian_air_air_agility_factor
                value = 0.08
                tooltip = air_agility_factor_tt  
            }
        }
    }
    

    focus = {
        id = RAJ_ordnance_factory_khamaria_jabalpur
        icon = GFX_focus_CHL_high_quality_nitrate
        prerequisite = { focus = RAJ_gun_and_shell_factory_cossipore }
        x = 1
        y = 1
        relative_position_id = RAJ_gun_and_shell_factory_cossipore
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                mio:RAJ_ammunition_factory_khadki_organization = {
                    add_mio_size = 1
                    unlock_mio_trait_tooltip = {
                        trait = RAJ_mio_trait_ordnance_factory_khamaria_jabalpur
                    }
                }
            }      
             try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_the_ledo_road
        icon = GFX_focus_SOV_the_road_of_life
        prerequisite = { focus = RAJ_east_india_railways_dlc }
        x = -2
        y = 1
        relative_position_id = RAJ_east_india_railways_dlc
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            
            if = {
                limit = {
                   434 = { 
                        is_owned_and_controlled_by = ROOT
                        infrastructure < 5 
                    }
                }
                434 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            else = {
                random_controlled_state = {
                    limit = { 
                        infrastructure < 5 
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            
            if = {
                limit = {
                   990 = { 
                        is_owned_and_controlled_by = ROOT
                        infrastructure < 5 
                   }
                }
                990 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            else = {
                random_controlled_state = {
                    limit = { 
                        infrastructure < 5 
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            
            
            if = {
                limit = {
                   432 = { 
                        is_owned_and_controlled_by = ROOT
                        infrastructure < 5 
                   }
                }
                432 = {
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }
            else = {
                random_controlled_state = {
                    limit = { 
                        infrastructure < 5 
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 2
                        instant_build = yes
                    }
                }
            }

        }
    }
    

    focus = {
        id = RAJ_long_range_escorts
        icon = GFX_focus_generic_multi_role_aircraft
        prerequisite = { focus = RAJ_trainer_planes }
        x = 2
        y = 0
        relative_position_id = RAJ_spitfire
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

        completion_reward = {
            air_experience = 25
            add_tech_bonus = {
                name = RAJ_long_range_escorts
                bonus = 1
                uses = 1
                category = cat_heavy_fighter
            }

        }
    }
    

    focus = {
        id = RAJ_british_air_experts
        icon = GFX_focus_generic_air_partners
        prerequisite = { focus = RAJ_spitfire focus = RAJ_long_range_escorts }
        x = 1
        y = 1
        relative_position_id = RAJ_spitfire
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_AIR_XP}

        completion_reward = {
            custom_effect_tooltip = idea_RAJ_indian_air_force_modify_tt
            add_to_variable = {
                var = RAJ_indian_air_force_xp_gain
                value = 0.3
                tooltip = experience_gain_air_tt  #Optional. localized text with LEFT and RIGHT tokens in it, tokens will replaced by values
            }
        }
    }

    focus = {
        id = RAJ_special_operations_executive
        icon = GFX_focus_generic_paratrooper 
        prerequisite = { focus = RAJ_british_air_experts }
        x = -1
        y = 1
        relative_position_id = RAJ_british_air_experts
        
        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    NOT = { has_tech = paratroopers }
                }
                set_technology = {
                    paratroopers = 1
                    popup = no
                }
            }
            if = {
                limit = {
                    has_dlc = "Arms Against Tyranny"
                }

                add_doctrine_cost_reduction = {
                    cost_reduction = 0.75
                    uses = 1
                    category = special_forces_doctrine
                }
                army_experience = 30
                navy_experience = 30
                air_experience = 30
            }
            else = {
                army_experience = 45
                navy_experience = 45
                air_experience = 45
            }
        }
    }
    

    focus = {
        id = RAJ_the_ordnance_factories_board
        icon = GFX_focus_eng_concessions_to_the_trade_unions
        prerequisite = { focus = RAJ_cordite_factory_aruvankadu_tamil_nadu focus = RAJ_ordnance_factory_kanpur_uttar_pradesh }
        x = -2
        y = 1
        relative_position_id = RAJ_cordite_factory_aruvankadu_tamil_nadu
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {            
        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
             try_build_mil_in_core_otherwise_build_in_controlled_2_mil = yes
            try_build_mil_in_core_otherwise_build_in_controlled = yes
        }
    }
    

    focus = {
        id = RAJ_smiling_buddah
        icon = GFX_focus_smiling_buddha
        prerequisite = { focus = RAJ_british_air_experts focus = RAJ_abolish_agrarian_society_criteria }
        x = -3
        y = 1
        relative_position_id = RAJ_british_air_experts
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            if = {
                limit = {
                    NOT = {
                        has_tech = atomic_research
                    }
                }
                add_tech_bonus = {
                    name = RAJ_the_smiling_buddha
                    bonus = 3.0
                    uses = 1
                    category = nuclear
                }
                add_breakthrough_progress = {
                    specialization = specialization_nuclear
                    value = 0.5
                }
            }
            else = {
                add_breakthrough_progress = {
                    specialization = specialization_nuclear
                    value = 1
                }
            }

        }
    }
    

    focus = {
        id = RAJ_royal_indian_air_force_dlc
        icon = GFX_focus_eng_special_air_service
        prerequisite = { focus = RAJ_british_air_experts }
        x = 1
        y = 1
        relative_position_id = RAJ_british_air_experts
        
        cost = 10

        ai_will_do = {
            factor = 1
        }

        available = {

        }
        
        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_AIR_XP}

        completion_reward = {
            air_experience = 100
            add_doctrine_cost_reduction = {
                cost_reduction = 0.5
                uses = 2
                category = air_doctrine
            }
        }
    }

    focus = {
        id = RAJ_royal_indian_navy_dlc
        icon = GFX_goal_generic_navy_doctrines_tactics
        #prerequisite = { focus = RAJ_expand_mazagon_dock_dlc
        #focus = RAJ_found_scindia_shipyard_dlc }
        x = 9
        y = 0
        relative_position_id = RAJ_indian_air_force

        cost = 5

        ai_will_do = {
            factor = 1
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_RESEARCH }
        completion_reward = {
            add_dynamic_modifier = {
                modifier = idea_RAJ_royal_indian_navy
            }
            set_variable = {
                var = RAJ_royal_indian_navy_xp_gain
                value = 0.2
                tooltip = experience_gain_navy_tt  #Optional. localized text with LEFT and RIGHT tokens in it, tokens will replaced by values
            }
        }
    }

    focus = {
        id = RAJ_expand_mazagon_dock_dlc
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = RAJ_royal_indian_navy_dlc }
        x = -2
        y = 1
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 10

        ai_will_do = {
            factor = 20
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }
        complete_tooltip = {
            random_state = {
                limit = {
                    has_state_flag = RAJ_expand_mazagon_dock_dlc
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                if = {
                    limit = { has_state_flag = RAJ_expand_mazagon_dock_dlc_NB }
                    add_building_construction = {
                        type = naval_base
                        level = 2
                        instant_build = yes
                        province = 1349
                    }
                }
            }
        }

        completion_reward = {
            navy_experience = 50
            random_owned_controlled_state = {
                prioritize = { 429 }
                limit = {
                    is_coastal = yes
                    free_building_slots = {
                        building = dockyard
                        size > 0
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                set_state_flag = RAJ_expand_mazagon_dock_dlc
                if = {
                    limit = { state = 429 }
                    add_building_construction = {
                        type = naval_base
                        level = 2
                        instant_build = yes
                        province = 1349
                    }
                    set_state_flag = RAJ_expand_mazagon_dock_dlc_NB
                }
            }
        }
    }

    focus = {
        id = RAJ_black_swan_sloops
        icon = GFX_focus_generic_destroyer
        prerequisite = { focus = RAJ_royal_indian_navy_dlc }
        x = 0
        y = 1
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 10

        ai_will_do = {
            factor = 20
        }

        available = {
            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                has_tech = basic_ship_hull_light
            }
            else = {
                has_tech = basic_destroyer
            }
        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 2
                category = cat_anti_air # optional 
                # technology  = technology_id # optional
            }
            if = {
                limit = {
                    has_dlc = "Man the Guns"
                }

                create_equipment_variant = {
                    name = "Black Swan Class"                
                    type = ship_hull_light_2
                    modules={
                        fixed_ship_anti_air_slot=ship_anti_air_2
                        fixed_ship_radar_slot=ship_sonar_1
                        fixed_ship_engine_slot=light_ship_engine_2
                        mid_1_custom_slot=ship_anti_air_1
                        rear_1_custom_slot=ship_depth_charge_1
                        fixed_ship_battery_slot=ship_light_battery_1
                    }
                }

                create_ship = {
                    type = ship_hull_light_2 
                    equipment_variant = "Black Swan Class" 
                    creator = RAJ
                    exclude_refitting = no
                }
            }
            else = {
                create_equipment_variant = {
                    name = "Black Swan Class"
                    type = destroyer_2
                    upgrades = {
                        ship_reliability_upgrade = 0
                        ship_engine_upgrade = 0
                        ship_gun_upgrade = 0
                        ship_anti_air_upgrade = 2
                    }
                    obsolete = yes
                }
                create_ship = {
                    type = destroyer_2
                    creator = RAJ
                    equipment_variant = "Black Swan Class"
                     # optionalname = "ship_name"
                     exclude_refitting = no
                }
            }

        }
    }

    focus = {
        id = RAJ_indian_marine_corps
        icon = GFX_goal_generic_navy_battleship
        prerequisite = { focus = RAJ_royal_indian_navy_dlc }
        x = 2
        y = 1
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.3
                uses = 1
                category = naval_doctrine
            }
            add_tech_bonus = {
                bonus = 0.3
                uses = 1
                category = marine_tech
            }
        }
    }

    focus = {
        id = RAJ_madras_ship_repair_factories
        icon = GFX_focus_generic_refit_civilian_ships
        prerequisite = { focus = RAJ_indian_marine_corps }
        x = 4
        y = 2
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 423 }
                limit = {
                    is_coastal = yes
                }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
            }
        }
    }

    focus = {
        id = RAJ_found_scindia_shipyard_dlc
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = RAJ_black_swan_sloops focus = RAJ_expand_mazagon_dock_dlc }
        x = 1
        y = 2
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 10

        ai_will_do = {
            factor = 20
        }

        available = {

        }

        bypass = {

        }

        mutually_exclusive = { focus = RAJ_obtain_british_naval_contracts }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP }
        complete_tooltip = {
            random_state = {
                limit = {
                    has_state_flag = RAJ_found_scindia_shipyard_dlc
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                if = {
                    limit = { has_state_flag = RAJ_found_scindia_shipyard_dlc_NB }
                    add_building_construction = {
                        type = naval_base
                        level = 2
                        instant_build = yes
                        province = 10255
                    }
                }
            }
        }

        completion_reward = {
            navy_experience = 25
            random_owned_controlled_state = {
                prioritize = { 426 }
                limit = {
                    is_coastal = yes
                    free_building_slots = {
                        building = dockyard
                        size > 0
                        include_locked = yes
                    }
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
                set_state_flag = RAJ_found_scindia_shipyard_dlc
                if = {
                    limit = { state = 426 }
                    add_building_construction = {
                        type = naval_base
                        level = 2
                        instant_build = yes
                        province = 10255
                    }
                    set_state_flag = RAJ_found_scindia_shipyard_dlc_NB
                }
            }
        }
    }

    focus = {
        id = RAJ_dominate_the_bay_of_bengal
        icon = GFX_goal_generic_navy_submarine
        prerequisite = { focus = RAJ_found_scindia_shipyard_dlc }
        x = 1
        y = 3
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 1
                category = mio_cat_tech_all_destroyer_and_modules
            }
            add_tech_bonus = {
                bonus = 1.0
                uses = 1
                category = mio_cat_tech_all_submarine_and_modules
            }
        }

    }

    focus = {
        id = RAJ_indian_cruiser_development
        icon = GFX_focus_generic_cruiser2
        prerequisite = { focus = RAJ_found_scindia_shipyard_dlc }
        x = 3
        y = 3
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_RESEARCH}

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = mio_cat_tech_all_cruiser_and_modules
            }
        }

    }

    focus = {
        id = RAJ_womens_royal_indian_naval_service
        icon = GFX_focus_generic_women_in_military
        prerequisite = { focus = RAJ_indian_cruiser_development }
        x = 4
        y = 4
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_NAVY_XP }

        completion_reward = {
            add_ideas = RAJ_womens_royal_indian_naval_service_spirit
            navy_experience = 25
        }

    }

    focus = {
        id = RAJ_increase_funding_for_the_GRSE
        icon = GFX_focus_generic_economic_recovery
        prerequisite = { focus = RAJ_dominate_the_bay_of_bengal focus = RAJ_indian_cruiser_development }
        x = 1
        y = 4
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 10

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INDUSTRY}

        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 431 }
                limit = {
                    is_coastal = yes
                }
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = dockyard
                    level = 3
                    instant_build = yes
                }
            }
        }

    }

    focus = {
        id = RAJ_obtain_british_naval_contracts
        icon = GFX_focus_RAJ_british_investors
        prerequisite = { focus = RAJ_black_swan_sloops focus = RAJ_expand_mazagon_dock_dlc }
        x = -1
        y = 2
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {
            is_in_faction_with = ENG
        }

        mutually_exclusive = { focus = RAJ_found_scindia_shipyard_dlc }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_navy.1 days = 1 }
            }
        }

    }

    focus = {
        id = RAJ_purchase_decomissioned_british_ships
        icon = GFX_focus_generic_navy_battleship2
        prerequisite = { focus = RAJ_obtain_british_naval_contracts }
        x = -1
        y = 3
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 10

        available = {
            has_idea = RAJ_british_naval_agreement
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_navy.7 days = 1 }
            }
        }
    }

    focus = {
        id = RAJ_request_transfer_of_british_commanders
        icon = GFX_focus_generic_naval_discipline
        prerequisite = { focus = RAJ_obtain_british_naval_contracts }
        x = -3
        y = 3
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 5

        available = {
            has_idea = RAJ_british_naval_agreement
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_navy.4 days = 1 }
            }
        }
    }

    focus = {
        id = RAJ_obtain_modern_ship_contracts
        icon = GFX_goal_generic_navy_cruiser
        prerequisite = { focus = RAJ_purchase_decomissioned_british_ships }
        x = -1
        y = 4
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 10

        available = {
            has_idea = RAJ_british_naval_agreement 
            ENG = {
                if = {
                    limit = { has_dlc = "Man the Guns" }
                    has_tech = basic_ship_hull_cruiser
                }
                else = {
                    has_tech = basic_light_cruiser
                }
            }
        }

        bypass = {
            ENG = {
                NOT = {
                    if = {
                        limit = { has_dlc = "Man the Guns" }
                        has_tech = basic_ship_hull_cruiser
                    }
                    else = {
                        has_tech = basic_light_cruiser
                    }
                }
            }
        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}

        completion_reward = {
            ENG = {
                country_event = { id = GOE_RAJ_navy.10 days = 1 }
            }
        }
    }

    focus = {
        id = RAJ_modernizing_navy_dlc
        icon = GFX_focus_generic_naval_invasion
        prerequisite = { focus = RAJ_obtain_modern_ship_contracts focus = RAJ_increase_funding_for_the_GRSE }
        x = 0
        y = 5
        relative_position_id = RAJ_royal_indian_navy_dlc

        cost = 10

        ai_will_do = {
            factor = 25
        }

        available = {

        }

        bypass = {

        }

        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no

        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            add_ideas = RAJ_modernized_navy_spirit
        }
    }
	
##########################################


focus = {
	id = RAJ_his_majestys_loyal_government
	icon = GFX_focus_RAJ_his_majestys_loyal_government
    x = -25
    y = 0
	relative_position_id = RAJ_indianize_the_army 
	cost = 5	
	available = {
		is_subject_of = ENG
	}

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward = {
		add_dynamic_modifier = { modifier = RAJ_a_loyal_government }
		
		custom_effect_tooltip = generic_skip_one_line_tt
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		add_political_power = 70

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_his_majestys_loyal_government_break_free_tt

		hidden_effect = {
			country_event = { id = GOE_RAJ_partition.1 days = 80 } # Unrest event
			country_event = { id = GOE_RAJ.29 days = 38 }  #April 18ish #Freeman retires
		}

		hidden_effect = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
}

focus = {
	id = RAJ_the_government_of_india_act
	icon = GFX_focus_RAJ_all_india_forward_bloc
	prerequisite = { focus = RAJ_his_majestys_loyal_government }
	
	x = -4
	y = 1
	relative_position_id = RAJ_his_majestys_loyal_government 
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

	completion_reward = {
		hidden_effect = {
			set_temp_variable = { RAJ_pp_bonus_based_on_compliance = 0 }
			
			for_each_scope_loop = {
				array = ROOT.owned_states_at_game_start			
				
				if = {
					limit = {
						is_controlled_by = ROOT
						has_resistance = yes
						compliance > 74 #Doesn't accept vars :') WARNING! If changing this value then update the tooltip RAJ_the_government_of_india_act_pp_bonus_tt
					}
					add_to_temp_variable = { ROOT.RAJ_pp_bonus_based_on_compliance = 1 }
					#log = "[THIS.GetName] grants bonus"
				}
			}
			log = "Total states granting bonus = [?ROOT.RAJ_pp_bonus_based_on_compliance]"

			divide_temp_variable = { RAJ_pp_bonus_based_on_compliance = 100 } #Divide so 1 becomes 0.01 (1% PP factor)
			multiply_temp_variable = { RAJ_pp_bonus_based_on_compliance = RAJ_the_government_of_india_act_pp_bonus_based_on_compliance } #Multiply by whatever value deemed good for balance
		}

		custom_effect_tooltip = RAJ_the_government_of_india_act_pp_bonus_tt
		if = {
			limit = {
				NOT = { has_completed_focus = RAJ_the_government_of_india_act } #Stop showing dynamic list of states after completed
				any_state_in = {
					array = ROOT.owned_states_at_game_start

					has_resistance = yes
					compliance > 74 #Doesn't accept vars :') WARNING! If changing this value then update the tooltip RAJ_the_government_of_india_act_pp_bonus_tt
				}
			}
			custom_effect_tooltip = current_states_granting_bonus_tt
			every_controlled_state = { #For tooltip purposes
				limit = {
					is_in_array = {
						array = ROOT.owned_states_at_game_start
						value = THIS
					}
					has_resistance = yes
					compliance > 74 #Doesn't accept vars :') WARNING! If changing this value then update the tooltip RAJ_the_government_of_india_act_pp_bonus_tt
				}
			}
		}
		else_if = {
			limit = {
				NOT = { has_completed_focus = RAJ_the_government_of_india_act } #Stop showing this after completed
			}
			custom_effect_tooltip = no_state_meet_requirements_tt
		}
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = RAJ_pp_bonus_based_on_compliance }
		clear_variable = RAJ_pp_bonus_based_on_compliance

		custom_effect_tooltip = generic_skip_one_line_tt
		add_stability = 0.05

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_famine_impact_reduction
		add_to_variable = { RAJ_famine_shield = 30 tooltip = RAJ_famine_shield_tt  }
		calculate_famine_shield_and_risk = yes

		

		
	}
}

focus = {
	id = RAJ_work_with_local_leaders
	icon = GFX_goal_tripartite_pact
	prerequisite = { focus = RAJ_the_government_of_india_act }
	
	x = 0
	y = 1
	relative_position_id = RAJ_the_government_of_india_act 
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		add_political_power = 70

	}
}

focus = {
	id = RAJ_concessions_to_the_industrialists
	icon = GFX_focus_generic_industrialists
	prerequisite = { focus = RAJ_work_with_local_leaders }
	
	x = -1
	y = 1
	relative_position_id = RAJ_work_with_local_leaders 
	cost = 5

	mutually_exclusive = { focus = RAJ_empower_provincial_authorities }

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		random_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				infrastructure < 5
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_famine_impact_reduction

		custom_effect_tooltip = RAJ_concessions_to_the_industrialists_chances_tt
		set_variable = { RAJ_local_leaders_infra_chance = 0 }
		set_variable = { RAJ_local_leaders_civs_chance = 0.6 }
		set_variable = { RAJ_local_leaders_mils_chance = 0.4 }
	}
}

focus = {
	id = RAJ_empower_provincial_authorities
	icon = GFX_focus_generic_self_management
	prerequisite = { focus = RAJ_work_with_local_leaders }

	x = 1
	y = 1
	relative_position_id = RAJ_work_with_local_leaders 
	cost = 5

	mutually_exclusive = { focus = RAJ_concessions_to_the_industrialists }

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		army_experience = 25

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_empower_provincial_authorities_chances_tt
		set_variable = { RAJ_local_leaders_infra_chance = 0 }
		set_variable = { RAJ_local_leaders_civs_chance = 0.34 }
		set_variable = { RAJ_local_leaders_mils_chance = 0.33 }
		set_variable = { RAJ_local_leaders_defenses_chance = 0.33 }
	}
}

focus = {
	id = RAJ_confer_with_the_congress
	icon = GFX_focus_RAJ_a_congress_resurgent
	prerequisite = { focus = RAJ_concessions_to_the_industrialists focus = RAJ_empower_provincial_authorities }

	x = 1
	y = 1
	relative_position_id = RAJ_concessions_to_the_industrialists 
	cost = 5

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }

	completion_reward = {
		add_political_power = 100

		unlock_decision_category_tooltip = RAJ_concessions_to_the_congress_cat
	}
}

focus = {
	id = RAJ_favor_the_muslim_league
	icon = GFX_focus_RAJ_seek_allies_with_the_muslim_league
	prerequisite = { focus = RAJ_confer_with_the_congress }

	x = -1
	y = 1
	relative_position_id = RAJ_confer_with_the_congress 
	cost = 10

	mutually_exclusive = { focus = RAJ_court_the_princes }

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = 0.1	tooltip = political_power_factor_tt }
		
		custom_effect_tooltip = generic_skip_one_line_tt
		add_autonomy_score = {
			value = 75
			localization = RAJ_favor_the_muslim_league
		}
		
		if = {
			limit = {
				has_idea = RAJ_marginalized_muslim_community
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			remove_ideas = RAJ_marginalized_muslim_community
		}
	}
}


focus = {
	id = RAJ_court_the_princes
	icon = GFX_focus_RAJ_war_taxes
	prerequisite = { focus = RAJ_confer_with_the_congress }

	x = 1
	y = 1
	relative_position_id = RAJ_confer_with_the_congress 
	cost = 5

	mutually_exclusive = { focus = RAJ_favor_the_muslim_league }

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = 0.1	tooltip = political_power_factor_tt }
		add_to_variable = { RAJ_a_loyal_government_consumer_goods_factor = -0.1	tooltip = consumer_goods_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		every_core_state = {
			limit = {
				is_controlled_by = ROOT
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
				has_resistance = yes #To target princely states
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 3
			add_extra_state_shared_building_slots = 2
		}
	}
}

focus = {
	id = RAJ_the_integrity_of_india_act
	icon = GFX_focus_usa_voter_registration_act
	prerequisite = { focus = RAJ_court_the_princes focus = RAJ_favor_the_muslim_league }

	x = 1
	y = 1
	relative_position_id = RAJ_favor_the_muslim_league 
	cost = 5
	search_filters = { FOCUS_FILTER_POLITICAL_CHARACTER }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_resistance_target = -0.1 tooltip = resistance_target_tt }
		add_to_variable = { RAJ_a_loyal_government_resistance_damage_to_garrison = -0.25 tooltip = resistance_damage_to_garrison_tt }
		add_to_variable = { RAJ_a_loyal_government_political_power_factor = -0.15 tooltip = political_power_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		if = { #FREEMAN
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = RAJ_freeman_freeman_thomas
				}
			}
			custom_effect_tooltip = {
				localization_key = character_becomes_leader_of_ideology_party
				CHARACTER = RAJ_freeman_freeman_thomas
				IDEOLOGY = democratic
			}
			hidden_effect = {
				if = {  #completed focus RAJ_consult_with_congress_leaders and got the improved trait
					limit = {
						has_country_leader_with_trait = staunch_imperialist_alt_consult
					}
					add_country_leader_role = {
						character =  RAJ_freeman_freeman_thomas
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { seasoned_administrator staunch_imperialist_alt_consult } 
						}
					}
				}
				else = { #Basic traits for Loyalist branch
					add_country_leader_role = {
						character =  RAJ_freeman_freeman_thomas
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { seasoned_administrator staunch_imperialist_alt } 
						}
					}
				}
			}
		}
		else_if = { #LINLITHGOW
			limit = {
				has_country_leader = {
					ruling_only = yes
					character = RAJ_lord_linlithgow
				}
			}
			custom_effect_tooltip = {
				localization_key = character_becomes_leader_of_ideology_party
				CHARACTER = RAJ_lord_linlithgow
				IDEOLOGY = democratic
			}
			hidden_effect = {
				if = { #completed focus RAJ_consult_with_congress_leaders and got the improved trait
					limit = {
						has_country_leader_with_trait = aloof_authority_alt_consult
					}
					add_country_leader_role = {
						character =  RAJ_lord_linlithgow
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { aloof_authority_alt_consult } 
						}
					}
				}
				else_if = { #completed focus RAJ_linlithgows_declaration_of_war and got the Belligerent trait
					limit = {
						has_completed_focus = RAJ_linlithgows_declaration_of_war
					}
					add_country_leader_role = {
						character =  RAJ_lord_linlithgow
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { aloof_authority_alt belligerent_viceroy } 
						}
					}
				}
				else = { #Basic traits for Loyalist branch
					add_country_leader_role = {
						character =  RAJ_lord_linlithgow
						promote_leader = yes
						country_leader = {
							ideology = conservatism
							expire = 1965.1.1
							traits = { aloof_authority_alt } 
						}
					}
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		retire_character = RAJ_mahatma_mohandas_gandhi
		retire_character = RAJ_GOE_jawaharlal_nehru
		retire_character = RAJ_subhas_chanda_bose
		if = {
			limit = {
				NOT = { has_completed_focus = RAJ_favor_the_muslim_league }
			}
			retire_character = RAJ_GOE_muhammad_ali_jinnah
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_stop_unrest_events_tt
		set_country_flag = stop_unrest_events
	}
}

focus = {
	id = RAJ_princely_state_donations_GOE
	icon = GFX_goal_generic_improve_relations
	prerequisite = { focus = RAJ_court_the_princes }

	x = 1
	y = 1
	relative_position_id = RAJ_court_the_princes 
	cost = 5

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_princely_states
			add_idea = RAJ_princely_states_donations_troops
		}

		country_event = { id = tfv_raj.1 days = 7 random_days = 2 }
	}
}


focus = {
	id = RAJ_the_punjab_accord
	icon = GFX_focus_RAJ_sikh_religious_guarantees
	prerequisite = { focus = RAJ_the_integrity_of_india_act }

	x = 0
	y = 1
	relative_position_id = RAJ_the_integrity_of_india_act 
	cost = 5

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_MILITARY_CHARACTER FOCUS_FILTER_POLITICAL_CHARACTER FOCUS_FILTER_MANPOWER }

	completion_reward = {
		add_timed_idea = {
			idea = idea_sikh_inclusivity_policies
			days = 180
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = RAJ_GOE_tara_singh

		custom_effect_tooltip = generic_skip_one_line_tt

		show_unit_leaders_tooltip = RAJ_GOE_ishar_singh
		show_unit_leaders_tooltip = RAJ_GOE_parkash_singh

		add_ace = {
			type = "fighter_good"
			name = "Mohinder"
			surname = "Pujji"
			callsign = "Singh" #Actual middle name
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		unlock_decision_tooltip = RAJ_GOE_sikh_recruitment
	}
}


focus = {
	id = RAJ_the_dominion_of_india
	icon = GFX_focus_RAJ_the_dominion_of_india
	prerequisite = { focus = RAJ_the_punjab_accord }

	x = 0
	y = 1
	relative_position_id = RAJ_the_punjab_accord 
	cost = 10

	available = {
		is_subject_of = ENG
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_extra_trade_to_overlord_factor = -0.25 tooltip = extra_trade_to_overlord_factor_tt }
		add_to_variable = { RAJ_a_loyal_government_conscription_factor = 0.05 tooltip = conscription_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		add_stability = 0.1
		add_war_support = 0.1


		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_the_dominion_of_india_every_owned_state_compliance_tt
		add_state_core = 440  
		add_state_core = 989  
		add_state_core = 445
		add_state_core = 441
		add_state_core = 433
		add_state_core = 428
		add_state_core = 437
		add_state_core = 426
		add_state_core = 429
		add_state_core = 427
		add_state_core = 423
		add_state_core = 438
		add_state_core = 444
		add_state_core = 436

		every_owned_state = {
			limit = {
				has_resistance = yes
				compliance < 100
			}

			add_compliance = 15
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_loyalist_branch_capstone_focuses_become_free_tt
	}
}

focus = {
	id = RAJ_curtail_the_zamindars
	icon = GFX_goal_generic_political_pressure
	prerequisite = { focus = RAJ_work_with_local_leaders }
	
	x = 5
	y = 1
	relative_position_id = RAJ_work_with_local_leaders 
	cost = 5

	mutually_exclusive = { focus = RAJ_expand_the_zamindari_system }

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		add_political_power = 100
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				infrastructure < 5
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_raise_import_duties
	icon = GFX_focus_RAJ_issue_bonds_on_the_stock_market
	prerequisite = { focus = RAJ_curtail_the_zamindars }
	
	x = -1
	y = 1
	relative_position_id = RAJ_curtail_the_zamindars 
	cost = 5

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	completion_reward = {
		add_ideas = RAJ_high_import_duties
	}
}

focus = {
	id = RAJ_imperial_industry_initiative
	icon = GFX_goal_generic_construct_mil_factory
	prerequisite = { focus = RAJ_raise_import_duties }
	
	x = -1
	y = 1
	relative_position_id = RAJ_raise_import_duties 
	cost = 10

	available = {
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_high_import_duties
			add_idea = RAJ_imperial_industry_initiative
		}

		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 3
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_rural_development_plan
	icon = GFX_focus_generic_energy
	prerequisite = { focus = RAJ_raise_import_duties }
	
	x = 1
	y = 1
	relative_position_id = RAJ_raise_import_duties 
	cost = 5

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		unlock_decision_category_tooltip = RAJ_population_decisions
	}
}

focus = {
	id = RAJ_the_great_recovery
	icon = GFX_focus_generic_industry_3
	prerequisite = { focus = RAJ_imperial_industry_initiative }
	prerequisite = { focus = RAJ_rural_development_plan }
	
	x = 1
	y = 1
	relative_position_id = RAJ_imperial_industry_initiative 
	cost = 10

	available = {
		industrial_complex > 39
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_imperial_industry_initiative
			add_idea = RAJ_the_great_recovery
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		if = {
			limit = {
				has_idea = idea_RAJ_great_depression_1
			}
			remove_ideas = idea_RAJ_great_depression_1
			custom_effect_tooltip = generic_skip_one_line_tt
			add_timed_idea = {
				idea = idea_RAJ_great_depression_2
				days = 730
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				arms_factory > 0
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				industrial_complex > 0
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				dockyard > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_reform_the_agricultural_sector
	icon = GFX_focus_generic_farmland
	prerequisite = { focus = RAJ_curtail_the_zamindars }
	
	x = 1
	y = 1
	relative_position_id = RAJ_curtail_the_zamindars 
	cost = 5

	search_filters = { FOCUS_FILTER_STABILITY }

	completion_reward = {
		add_stability = 0.05

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_famine_impact_reduction
		add_to_variable = { RAJ_famine_shield = 8 tooltip = RAJ_famine_shield_tt  }
		calculate_famine_shield_and_risk = yes
	}
}

focus = {
	id = RAJ_expand_the_zamindari_system
	icon = GFX_goal_generic_dangerous_deal
	prerequisite = { focus = RAJ_his_majestys_loyal_government }
	
	x = 4
	y = 0
	relative_position_id = RAJ_curtail_the_zamindars 
	cost = 5

	mutually_exclusive = { focus = RAJ_curtail_the_zamindars }

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }

	completion_reward = {
		add_ideas = RAJ_the_zamindari_system
	}
}

focus = {
	id = RAJ_crown_commodities
	icon = GFX_focus_RAJ_tea_exports
	prerequisite = { focus = RAJ_expand_the_zamindari_system }
	
	x = -1
	y = 1
	relative_position_id = RAJ_expand_the_zamindari_system 
	cost = 10

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }

	completion_reward = {
		add_autonomy_score = {
			value = 75
			localization = RAJ_crown_commodities
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				has_idea = idea_RAJ_great_depression_1
			}
			remove_ideas = idea_RAJ_great_depression_1
			custom_effect_tooltip = generic_skip_one_line_tt
			add_timed_idea = {
				idea = idea_RAJ_great_depression_2
				days = 730
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		random_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		if = {
			limit = {
				is_ally_with = ENG
			}
			custom_effect_tooltip = RAJ_crown_commodities_cg_to_the_empire_tt
			event_option_tooltip = GOE_RAJ_loyalist.01.a
			hidden_effect = {
				ENG = {
					country_event = { id = GOE_RAJ_loyalist.01 hours = 8 random_hours = 4 }

					every_subject_country = {
						limit = {
							NOT = { tag = ROOT }
						}
						country_event = { id = GOE_RAJ_loyalist.01 hours = 8 random_hours = 4 }
					}
				}
			}
		}
	}
}

focus = {
	id = RAJ_rural_mechanization_program
	icon = GFX_focus_generic_supply_line
	prerequisite = { focus = RAJ_reform_the_agricultural_sector focus = RAJ_crown_commodities }
	
	x = 1
	y = 1
	relative_position_id = RAJ_reform_the_agricultural_sector 
	cost = 5

	available = {
		has_tech = motorised_infantry
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	completion_reward = {
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		add_tech_bonus = {
			name = RAJ_rural_mechanization_program
			bonus = 0.75
			uses = 1
			category = cat_production
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_famine_impact_reduction
		add_to_variable = { RAJ_famine_shield = 5 tooltip = RAJ_famine_shield_tt  }
		calculate_famine_shield_and_risk = yes
	}
}

focus = {
	id = RAJ_the_riches_of_the_raj
	icon = GFX_focus_generic_mining_industry
	prerequisite = { focus = RAJ_expand_the_zamindari_system }
	
	x = 1
	y = 1
	relative_position_id = RAJ_expand_the_zamindari_system 
	cost = 10

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		custom_effect_tooltip = RAJ_the_riches_of_the_raj_targets_oil_tt
		custom_effect_tooltip = generic_states_affected_no_prev_line_tt
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				has_resources_amount = {
					resource = oil
					amount > 0
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			hidden_effect = {
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		custom_effect_tooltip = RAJ_the_riches_of_the_raj_targets_tt
		custom_effect_tooltip = generic_states_affected_no_prev_line_tt
		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				OR = {
					has_resources_amount = {
						resource = steel
						amount > 19
					}
					has_resources_amount = {
						resource = tungsten
						amount > 19
					}
					has_resources_amount = {
						resource = chromium
						amount > 19
					}
					has_resources_amount = {
						resource = aluminium
						amount > 19
					}
					has_resources_amount = {
						resource = rubber
						amount > 19
					}
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			hidden_effect = {
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}

				if = {
					limit = {
						has_resources_amount = {
							resource = steel
							amount > 19
						}
					}
					add_resource = {
						type = steel
						amount = 4
					}
				}
				if = {
					limit = {
						has_resources_amount = {
							resource = tungsten
							amount > 19
						}
					}
					add_resource = {
						type = tungsten
						amount = 4
					}
				}
				if = {
					limit = {
						has_resources_amount = {
							resource = chromium
							amount > 19
						}
					}
					add_resource = {
						type = chromium
						amount = 4
					}
				}
				if = {
					limit = {
						has_resources_amount = {
							resource = aluminium
							amount > 19
						}
					}
					add_resource = {
						type = aluminium
						amount = 4
					}
				}
				if = {
					limit = {
						has_resources_amount = {
							resource = rubber
							amount > 19
						}
					}
					add_resource = {
						type = rubber
						amount = 4
					}
				}
			}
		}
	}
}

focus = {
	id = RAJ_strengthen_ties_with_british_investors_GOE
	icon = GFX_goal_generic_positive_trade_relations
	prerequisite = { focus = RAJ_crown_commodities focus = RAJ_the_riches_of_the_raj }
	
	x = 1
	y = 1
	relative_position_id = RAJ_crown_commodities 
	cost = 5

	available = {
		is_ally_with = ENG
	}

	bypass_if_unavailable = yes

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		add_autonomy_ratio = { #TODO_Mnau: Evaluate this
			value = -0.15
			localization = RAJ_strengthen_ties_with_british_investors
		}
		
		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			add_equipment_subsidy = {
				cic = 1000
				equipment_type = infantry_equipment
				seller_tags = { ENG } 
			}
			add_equipment_subsidy = {
				cic = 1000
				equipment_type = motorized_equipment
				seller_tags = { ENG } 
			}
			add_equipment_subsidy = {
				cic = 1000
				equipment_type = artillery_equipment
				seller_tags = { ENG } 
			}
			add_equipment_subsidy = {
				cic = 1000
				equipment_type = light_tank_chassis
				seller_tags = { ENG } 
			}
			custom_effect_tooltip = generic_skip_one_line_tt
		}

		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_imperial_rail_renewal_act
	icon = GFX_goal_generic_construct_infrastructure
	prerequisite = { focus = RAJ_the_riches_of_the_raj }
	
	x = 1
	y = 1
	relative_position_id = RAJ_the_riches_of_the_raj 
	cost = 10

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_the_zamindari_system
			add_idea = RAJ_the_zamindari_system_2
		}

		custom_effect_tooltip = RAJ_imperial_rail_renewal_act_tt
		if = {
			limit = {
				OR = { #These are the two starting focuses in the industrial branch
					has_completed_focus = RAJ_east_india_railways_dlc
					has_completed_focus = RAJ_bombay_baroda_and_central_india_railway
				}
			}
			custom_effect_tooltip = generic_current_effects
		}
		if = {
			limit = {
				has_completed_focus = RAJ_east_india_railways_dlc
			}
			random_owned_controlled_state = {
				prioritize = { 431 } #WEST BENGAL (Calcutta)
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = RAJ_bombay_baroda_and_central_india_railway
			}
			random_owned_controlled_state = {
				prioritize = { 430 } #EAST BENGAL (Bangladesh)
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = RAJ_great_indian_peninsula_railway_dlc
			}
			random_owned_controlled_state = {
				prioritize = { 429 } #BOMBAY
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = RAJ_south_indian_railway_company
			}
			random_owned_controlled_state = {
				prioritize = { 423 } #SOUTHERN MADRAS (Madras)
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = RAJ_north_western_state_railway
			}
			random_owned_controlled_state = {
				prioritize = { 433 } #RAJAHSTHAN (Jaipur)
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

focus = {
	id = RAJ_exploit_the_frontier
	icon = GFX_goal_generic_construction2
	prerequisite = { focus = RAJ_imperial_rail_renewal_act }
	
	x = -1
	y = 1
	relative_position_id = RAJ_imperial_rail_renewal_act 
	cost = 5

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		custom_effect_tooltip = {
			localization_key = generic_unlocks_decisions_explanation_tt
			DECISIONS = prospect_for_resources
			EXPLANATION = RAJ_exploit_the_frontier_decisions_tt
		}
	}
}

focus = {
	id = RAJ_overlords_railway_investment
	icon = GFX_focus_generic_railroad
	prerequisite = { focus = RAJ_imperial_rail_renewal_act }
	
	x = 1
	y = 1
	relative_position_id = RAJ_imperial_rail_renewal_act 
	cost = 5

	available = {
		is_ally_with = ENG
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		swap_ideas = {
			remove_idea = RAJ_the_zamindari_system_2
			add_idea = RAJ_the_zamindari_system_3
		}

		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}

focus = {
	id = RAJ_territorial_development_scheme
	icon = GFX_goal_generic_construct_civilian
	prerequisite = { focus = RAJ_rural_development_plan }
	prerequisite = { focus = RAJ_reform_the_agricultural_sector }
	
	x = 1
	y = 1
	relative_position_id = RAJ_rural_development_plan 
	cost = 5

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		custom_effect_tooltip = RAJ_land_clearance_effect_tt
		hidden_effect = {
			every_owned_state = {
				limit = { has_state_flag = RAJ_industrialized_this_state }
				add_extra_state_shared_building_slots = 1
			}
		}
	}
}

focus = {
	id = RAJ_the_empires_workshop
	icon = GFX_goal_generic_construct_civ_factory
	prerequisite = { focus = RAJ_crown_commodities }
	prerequisite = { focus = RAJ_strengthen_ties_with_british_investors_GOE }
	
	x = -1
	y = 1
	relative_position_id = RAJ_strengthen_ties_with_british_investors_GOE 
	cost = 10

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_the_empires_workshop
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		add_tech_bonus = {
			name = RAJ_the_empires_workshop
			bonus = 0.75
			uses = 2
			category = industry
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		random_core_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}

		if = {
			limit = {
				is_ally_with = ENG
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = RAJ_the_empires_workshop_civs_to_the_empire_subjects_tt
			every_subject_country = {
				limit = {
					NOT = { tag = ROOT }
				}
				event_option_tooltip = GOE_RAJ_loyalist.02.a
			}

			hidden_effect = {
				ENG = {
					if = {
						limit = {
							any_core_state = {
								is_fully_controlled_by = PREV
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
							}
						}
						country_event = { id = GOE_RAJ_loyalist.02 hours = 8 random_hours = 4 }
					}

					every_subject_country = {
						limit = {
							NOT = { tag = ROOT }
						}
						if = {
							limit = {
								any_core_state = {
									is_fully_controlled_by = PREV
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
								}
							}
							country_event = { id = GOE_RAJ_loyalist.02 hours = 8 random_hours = 4 }
						}
					}
				}
			}
		}
	}
}

focus = {
	id = RAJ_institute_of_fundamental_research_GOE
	icon = GFX_focus_research
	prerequisite = { focus = RAJ_territorial_development_scheme focus = RAJ_the_empires_workshop }
	
	x = 1
	y = 1
	relative_position_id = RAJ_territorial_development_scheme 
	cost = 10

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_a_loyal_government_tt
		add_to_variable = { RAJ_a_loyal_government_research_speed_factor = 0.05 tooltip = research_speed_factor_tt }

		custom_effect_tooltip = generic_skip_one_line_tt
		
		add_research_slot = 1

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				NOT = {
					has_tech = atomic_research
				}
			}
			add_tech_bonus = {
				name = RAJ_institute_of_fundamental_research
				bonus = 1.0
				uses = 1
				category = nuclear
			}
			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.25
			}
		}
		else = {
			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.75
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				RAJ_homi_j_bhabha = {
					has_scientist_level = {
						specialization = specialization_nuclear
						level < 5
					}
				}
			}
			RAJ_homi_j_bhabha = {
				add_scientist_level = {
					specialization = specialization_nuclear
					level = 1
				}
			}
		}
	}
}

focus = {
	id = RAJ_keep_calm_and_carry_on
	icon = GFX_goal_generic_secret_weapon
	prerequisite = { focus = RAJ_institute_of_fundamental_research_GOE }

	x = 0
	y = 1
	relative_position_id = RAJ_institute_of_fundamental_research_GOE 
	cost = 10

	available = {
		has_war = yes
		arms_factory > 39
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		add_research_slot = 1
		custom_effect_tooltip = generic_skip_one_line_tt

		every_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			random_select_amount = 2
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			add_ideas = RAJ_war_industry
		}
		else = {
			add_ideas = RAJ_war_industry_no_aat
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		random_owned_controlled_state = {
			limit = {
				is_fully_controlled_by = ROOT
				land_facility < 1
				air_facility < 1
				nuclear_facility < 1
				naval_facility < 1
			}
			prioritize = { 439 }
			construct_building_in_random_province = {
				land_facility = 1
			}
		}

		add_breakthrough_points = {
			specialization = specialization_land
			value = 1
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_loyalist_branch_capstone_focuses_become_free_tt
	}
}

focus = {
	id = RAJ_indian_gentleman_officers
	icon = GFX_focus_RAJ_indian_gentlemen_offcers
	prerequisite = { focus = RAJ_his_majestys_loyal_government }
	
	x = 14
	y = 1
	relative_position_id = RAJ_his_majestys_loyal_government 
	cost = 5

	search_filters = { FOCUS_FILTER_ARMY_XP }

	completion_reward = {
		army_experience = 70
		custom_effect_tooltip = generic_skip_one_line_tt
		add_dynamic_modifier = { modifier = RAJ_indian_gentlemen_officers_goe }
	}
}

focus = {
	id = RAJ_the_aden_protectorate
	icon = GFX_focus_generic_coastal_fort
	prerequisite = { focus = RAJ_indian_gentleman_officers }
	
	x = -2
	y = 2
	relative_position_id = RAJ_indian_gentleman_officers 
	cost = 5

	available = {
		992 = { is_fully_controlled_by = ROOT }
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		992 = {
			add_dynamic_modifier = {
				modifier = idea_RAJ_aden_treaty_port
			}

			#Factories
			if = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			else_if = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			else_if = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			#Infrastructure
			if = {
				limit = {
					infrastructure < 4
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			else_if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			#Forts
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 5074
			}

			#Naval Forts
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 5074
			}

			#Naval Bases
			add_building_construction = {
				type = naval_base
				level = 4
				instant_build = yes
				province = 5074
			}
		}
	}
}

focus = {
	id = RAJ_linlithgows_declaration_of_war
	icon = GFX_goal_generic_propaganda
	prerequisite = { focus = RAJ_indian_gentleman_officers }
	
	x = -1
	y = 1
	relative_position_id = RAJ_indian_gentleman_officers 
	cost = 5

	mutually_exclusive = { focus = RAJ_consult_with_congress_leaders }

	available = {
		has_country_leader = {
			ruling_only = yes
			character = RAJ_lord_linlithgow
		}
		is_subject_of = ENG
		ENG = {
			has_war = yes
		}
	}

	bypass = {
		NOT = { is_subject_of = ENG }
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL_CHARACTER }

	completion_reward = {
		if = {
			limit = {
				ENG = { has_war = no }
			}
			custom_effect_tooltip = RAJ_linlithgows_declaration_of_war_tt
		}
		if = {
			limit = {
				ENG = { has_war = yes }
			}
			custom_effect_tooltip = RAJ_linlithgows_declaration_of_war_current_effects_tt
			ENG = {
				every_enemy_country = {
					limit = {
						NOT = { has_war_with = ROOT }
					}
					hidden_effect = { #Tooltip purposes
						ROOT = {
							declare_war_on = {
								target = PREV
								type = annex_everything
							}
						}
					}
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		effect_tooltip = { #TOOLTIP (trait management handled after)
			if = {
				limit = {
					has_country_leader = {
						character = RAJ_lord_linlithgow
						ruling_only = no
					}
				}
				RAJ_lord_linlithgow = {
					add_country_leader_trait = {
						ideology = centrism
						trait = belligerent_viceroy
					}
				}
			}
			else = {
				add_country_leader_role = {
					character =  RAJ_lord_linlithgow
					country_leader = {
						ideology = centrism
						expire = 1965.1.1
						traits = { belligerent_viceroy } 
					}
				}
			}
		}
		hidden_effect = {
			RAJ_lord_linlithgow = {
				add_country_leader_trait = {
					ideology = centrism
					trait = belligerent_viceroy
				}
				#Add trait to the democratic role too if necessary (granted by RAJ_the_integrity_of_india_act)
				if = {
					limit = {
						has_ideology_group = democratic
					}
					add_country_leader_trait = {
						ideology = conservatism
						trait = belligerent_viceroy
					}
				}
			}
		}
	}
}

focus = {
	id = RAJ_consult_with_congress_leaders
	icon = GFX_focus_generic_treaty
	prerequisite = { focus = RAJ_indian_gentleman_officers }
	
	x = 1
	y = 1
	relative_position_id = RAJ_indian_gentleman_officers 
	cost = 5

	mutually_exclusive = { focus = RAJ_linlithgows_declaration_of_war }

	available = {
		is_subject_of = ENG
		ENG = {
			has_war = yes
		}
	}

	bypass = {
		NOT = { is_subject_of = ENG }
	}

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_POLITICAL_CHARACTER }

	completion_reward = {
		if = {
			limit = {
				ENG = { has_war = no }
			}
			custom_effect_tooltip = RAJ_linlithgows_declaration_of_war_tt
		}
		if = {
			limit = {
				ENG = { has_war = yes }
			}
			custom_effect_tooltip = RAJ_linlithgows_declaration_of_war_current_effects_tt
			ENG = {
				every_enemy_country = {
					limit = {
						NOT = { has_war_with = ROOT }
					}
					hidden_effect = { #Tooltip purposes
						ROOT = {
							declare_war_on = {
								target = PREV
								type = annex_everything
							}
						}
					}
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		add_political_power = 70
		add_autonomy_score = { 
			value = 350
			localization = RAJ_consult_with_congress_leaders
		}
		
		custom_effect_tooltip = generic_skip_one_line_tt
		
		if = {
			limit = {
				has_country_leader = {
					character = RAJ_freeman_freeman_thomas
					ruling_only = yes
				}
			}
			RAJ_freeman_freeman_thomas = {
				swap_country_leader_traits = {
					remove = staunch_imperialist_alt
					add = staunch_imperialist_alt_consult
					ideology = centrism
				}
			}

			if = { #Add the trait to the democratic leader role too if appropriate
				limit = {
					has_completed_focus = RAJ_the_integrity_of_india_act
				}
				RAJ_freeman_freeman_thomas = {
					swap_country_leader_traits = {
						remove = staunch_imperialist_alt
						add = staunch_imperialist_alt_consult
						ideology = conservatism
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_leader = {
					character = RAJ_lord_linlithgow
					ruling_only = yes
				}
			}
			RAJ_lord_linlithgow = {
				swap_country_leader_traits = {
					remove = aloof_authority_alt
					add = aloof_authority_alt_consult
					ideology = centrism
				}
			}

			if = { #Add the trait to the democratic leader role too if appropriate
				limit = {
					has_completed_focus = RAJ_the_integrity_of_india_act
				}
				RAJ_lord_linlithgow = {
					swap_country_leader_traits = {
						remove = aloof_authority_alt
						add = aloof_authority_alt_consult
						ideology = conservatism
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_leader = {
					character = RAJ_GOE_jawaharlal_nehru
					ruling_only = yes
				}
			}
			RAJ_GOE_jawaharlal_nehru = {
				add_country_leader_trait = support_from_congress
			}
		}
		else_if = {
			limit = {
				has_country_leader = {
					character = RAJ_mahatma_mohandas_gandhi
					ruling_only = yes
				}
			}
			RAJ_mahatma_mohandas_gandhi = {
				add_country_leader_trait = support_from_congress
			}
		}
	}
}

focus = {
	id = RAJ_preemptive_invasion_of_iran
	icon = GFX_focus_generic_attack_iran
	prerequisite = { focus = RAJ_indian_gentleman_officers }
	
	x = 2
	y = 2
	relative_position_id = RAJ_indian_gentleman_officers 
	cost = 10

	available = {
		threat > 0.5
		OR = {
			is_subject = no
			is_subject_of = ENG
		}
		NOT = {
			is_in_faction_with = PER
			has_guaranteed = PER
			has_non_aggression_pact_with = PER
		}
	}

	search_filters = {  }

	completion_reward = {
		if = {
			limit = {
				is_subject_of = ENG
			}
			ENG = { country_event = { id = GOE_RAJ_loyalist.03 hours = 4 random_hours = 1 } }
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				declare_war_on = {
					target = PER
					type = annex_everything
				}
			}
		}
		else = {
			create_wargoal = {
				type = annex_everything
				target = PER
			}
		}
	}
}

focus = {
	id = RAJ_mobilization_of_the_indian_army
	icon = GFX_focus_RAJ_indianisation_of_army
	prerequisite = { focus = RAJ_linlithgows_declaration_of_war focus = RAJ_consult_with_congress_leaders }
	
	x = 1
	y = 1
	relative_position_id = RAJ_linlithgows_declaration_of_war 
	cost = 10

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }

	completion_reward = {
		add_timed_idea = {
			idea = RAJ_mobilization_of_the_indian_army
			days = 365
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				OR = {
					has_idea = disarmed_nation
					has_idea = volunteer_only
				}
			}
			add_ideas = limited_conscription
		}
		else_if = {
			limit = {
				has_idea = limited_conscription
			}
			add_ideas = extensive_conscription
		}
	}
}

focus = {
	id = RAJ_support_naval_invasions
	icon = GFX_focus_generic_naval_invasion
	prerequisite = { focus = RAJ_mobilization_of_the_indian_army }
	
	x = -1
	y = 1
	relative_position_id = RAJ_mobilization_of_the_indian_army 
	cost = 10

	available = {
		NOT = { has_idea = RAJ_mobilization_of_the_indian_army }
		has_war = yes
		has_tech = marines
	}

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

	completion_reward = {
		add_timed_idea = {
			idea = RAJ_naval_invasion_support
			days = 365
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		add_tech_bonus = {
			name = RAJ_support_naval_invasions
			bonus = 0.75
			uses = 2
			category = marine_tech
			category = tp_tech
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		random_owned_state = {
			limit = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
				naval_base > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			prioritize = { 431 } #Calcutta

			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}

			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province =  {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}

		random_owned_state = {
			limit = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
				naval_base > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			prioritize = { 430 } #Bangladesh

			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}

			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province =  {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}

		random_owned_state = {
			limit = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
				naval_base > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			prioritize = { 429 } #Bombay

			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}

			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province =  {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
}

focus = {
	id = RAJ_assume_eastern_naval_responsibilities
	icon = GFX_goal_generic_construct_naval_dockyard
	prerequisite = { focus = RAJ_mobilization_of_the_indian_army }
	
	x = 1
	y = 1
	relative_position_id = RAJ_mobilization_of_the_indian_army 
	cost = 10

	available = {
		NOT = { has_idea = RAJ_mobilization_of_the_indian_army }
		has_war = yes
		has_tech = interwar_antiair
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			has_tech = early_ship_hull_light
			has_tech = early_ship_hull_cruiser
			has_tech = basic_battery
			has_tech = basic_torpedo
		}
		else = {
			has_tech = early_destroyer
		}
	}

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		if = { 
			limit = { has_dlc = "Man the Guns" }
			set_technology = { coastal_defense_ships = 1 } 
		}
		add_tech_bonus = {
			name = RAJ_assume_eastern_naval_responsibilities
			bonus = 1
			uses = 2
			category = naval_equipment
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		add_doctrine_cost_reduction = {
			name = RAJ_assume_eastern_naval_responsibilities
			cost_reduction = 0.75
			uses = 2
			category = naval_doctrine
		}

		every_owned_state = {
			limit = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
				naval_base > 0
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				is_in_array = {
					array = ROOT.owned_states_at_game_start
					value = THIS
				}
			}
			random_select_amount = 3
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}

			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		add_equipment_to_stockpile = { 
			type = convoy
			amount = 50 
			producer = ROOT
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		unlock_decision_category_tooltip = generic_refit_civilian_ships_category

		custom_effect_tooltip = generic_skip_one_line_tt

		set_country_flag = refit_convoy_ships_flag #Necessary flag for unlocking Refit Civilian Ships decs 
		#The variants created here replace the variants that can be created via decisions
		set_country_flag = refit_to_destroyer_flag
		set_country_flag = refit_to_cruiser_flag

		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			# DESTROYER
			create_equipment_variant = { #Made-up
				name = "Refitted Destroyer Class" 		
				type = ship_hull_light_1
				name_group = "RAJ_DD_HISTORICAL" #Note: Doesn't matter if ROOT is not DEN, the effect will grab the appropriate country-specific name list anyways
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_light_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = light_ship_engine_1
					fixed_ship_torpedo_slot = ship_torpedo_1
					mid_1_custom_slot = empty
					rear_1_custom_slot = empty
				}
				obsolete = yes
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}
			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "RAJ"
					version_name = "Refitted Destroyer Class"
				}
				requested_factories = 1
				progress = 0.75
				amount = 3
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			# Light Cruiser
			create_equipment_variant = { #Made-up
				name = "Refitted Cruiser Class"				
				type = ship_hull_cruiser_1
				name_group = RAJ_CL_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_light_medium_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_1
					fixed_ship_armor_slot = ship_armor_cruiser_1
					fixed_ship_secondaries_slot = dp_ship_secondaries_1
					mid_1_custom_slot = empty
					mid_2_custom_slot = empty
					rear_1_custom_slot = empty
				}
				obsolete = yes
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}
			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_1
					creator = "RAJ"
					version_name = "Refitted Cruiser Class"
				}
				requested_factories = 1
				progress = 0.75
				amount = 1
			}
		}
		#NO MTG
		else = {
			# DESTROYER	
			create_equipment_variant = { #Made-up
				name = "Refitted Destroyer Class"
				type = destroyer_1
				upgrades = {
					ship_torpedo_upgrade = 0
					destroyer_engine_upgrade = 0
					ship_ASW_upgrade = 0
					ship_anti_air_upgrade = 0
				}
				obsolete = yes
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}	
			#Line Production
			add_equipment_production = {
				equipment = {
					type = destroyer_1
					creator = "RAJ"
					version_name = "Refitted Destroyer Class"
				}
				requested_factories = 1
				progress = 0.75
				amount = 3
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			if = {
				limit = {
					NOT = { has_tech = early_light_cruiser }
				}
				hidden_effect = {
					set_technology = {
						early_light_cruiser = 1
					}
				}
			}
			# CRUISER
			create_equipment_variant = { #Made-up
				name = "Refitted Cruiser Class"
				type = light_cruiser_1
				upgrades = {
					ship_reliability_upgrade = 0
					ship_engine_upgrade = 0
					ship_gun_upgrade = 0
					ship_anti_air_upgrade = 0
				}
				obsolete = yes
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}
			#Line Production
			add_equipment_production = {
				equipment = {
					type = light_cruiser_1
					creator = "RAJ"
					version_name = "Refitted Cruiser Class"
				}
				requested_factories = 1
				progress = 0.75
				amount = 1
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		# COASTAL DEFENSE SHIP
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			create_equipment_variant = { #Made-up
				name = "Refitted Coastal Defense Ship"
				type = ship_hull_cruiser_coastal_defense_ship
				name_group = RAJ_BC_HISTORICAL
				parent_version = 0
				allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
				modules = {
					front_1_custom_slot = ship_anti_air_1
					mid_1_custom_slot = ship_anti_air_1
					#mid_2_custom_slot = ship_anti_air_1
					rear_1_custom_slot = ship_light_medium_battery_1
					fixed_ship_battery_slot = ship_light_medium_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_1
					fixed_ship_secondaries_slot = ship_secondaries_1
					fixed_ship_armor_slot = ship_armor_cruiser_1
				}
				design_team = mio:RAJ_garden_reach_shipbuilders_organization
			}
			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_coastal_defense_ship
					creator = "RAJ"
					version_name = "Refitted Coastal Defense Ship"
				}
				requested_factories = 1
				progress = 0.75
				amount = 3
			}
		}
	}
}

focus = {
	id = RAJ_south_east_asia_command
	icon = GFX_goal_generic_small_arms
	prerequisite = { focus = RAJ_mobilization_of_the_indian_army }
	
	x = 0
	y = 2
	relative_position_id = RAJ_mobilization_of_the_indian_army 
	cost = 10

	available = {
		NOT = { has_idea = RAJ_mobilization_of_the_indian_army }
	}

	search_filters = {  }

	completion_reward = {
		custom_effect_tooltip = RAJ_south_east_asia_command_rename_dm_tt
		hidden_effect = {
			remove_dynamic_modifier = {	modifier = RAJ_indian_gentlemen_officers_goe }
			add_dynamic_modifier = { modifier = RAJ_south_east_asia_command_dm }
		}
		custom_effect_tooltip = RAJ_modify_south_east_asia_command_dm_tt
		add_to_variable = { RAJ_south_east_asia_command_dm_max_command_power = 50 tooltip = max_command_power_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_command_power_gain = 0.2 tooltip = command_power_gain_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_special_forces_cap = 0.25 tooltip = special_forces_cap_tt }

		country_event = GOE_RAJ_loyalist.06
	}
}

focus = {
	id = RAJ_desert_training
	icon = GFX_focus_PER_desert_training
	prerequisite = { focus = RAJ_south_east_asia_command }
	
	x = -4
	y = 1
	relative_position_id = RAJ_south_east_asia_command 
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
		random_army_leader = {
			limit = { #General/FM doesn't have a terrain trait already
				NOT = {
					has_trait = desert_fox
					has_trait = swamp_fox
					has_trait = trait_mountaineer
					has_trait = hill_fighter
					has_trait = jungle_rat
					has_trait = ranger
					has_trait = urban_assault_specialist
					has_trait = winter_specialist
				}
			}
			add_unit_leader_trait = desert_fox
			add_skill_level = 1
			add_logistics = 1
			add_defense = 1
			add_planning = 1
		}
	}
}

focus = {
	id = RAJ_fortify_el_alamein
	icon = GFX_goal_generic_defence
	prerequisite = { focus = RAJ_desert_training }
	
	x = 0
	y = 1
	relative_position_id = RAJ_desert_training 
	cost = 10

	available = {
		447 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}
		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [447.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 447 }
				#exclude = {  }
			}
		}
	}

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_fortify_el_alamein
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		447 = { #ALEXANDRIA
			#Air base
			add_building_construction = {
				type = air_base
				level = 4
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 4
					instant_build = yes
				}
			}

			#Forts - El-Alamein
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 1071
			}

			#Forts - Alexandria
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 4076
			}

			#Naval Forts - Alexandria
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 4076
			}

			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}
	}
}

focus = {
	id = RAJ_jungle_training_GOE
	icon = GFX_focus_generic_jungle_training
	prerequisite = { focus = RAJ_south_east_asia_command }
	
	x = -1
	y = 1
	relative_position_id = RAJ_south_east_asia_command 
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
		custom_effect_tooltip = {
			localization_key = generic_enables_tech_tt
			TECH_EFFECT = tech_effect|jungle_training_tech
			TECH_NAME = jungle_training_tech
		}
		hidden_effect = { set_technology = { jungle_training_tech = 1 } }

		custom_effect_tooltip = generic_skip_one_line_tt
		random_army_leader = {
			limit = { #General/FM doesn't have a terrain trait already
				NOT = {
					has_trait = desert_fox
					has_trait = swamp_fox
					has_trait = trait_mountaineer
					has_trait = hill_fighter
					has_trait = jungle_rat
					has_trait = ranger
					has_trait = urban_assault_specialist
					has_trait = winter_specialist
				}
			}
			add_unit_leader_trait = jungle_rat
			add_skill_level = 1
			add_logistics = 1
			add_defense = 1
			add_planning = 1
		}
		
	}
}

focus = {
	id = RAJ_defense_of_malaya
	icon = GFX_focus_FIN_coastal_defense
	prerequisite = { focus = RAJ_jungle_training_GOE }
	
	x = -1
	y = 1
	relative_position_id = RAJ_jungle_training_GOE 
	cost = 10

	available = {
		336 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}
		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [336.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 336 }
				#exclude = {  }
			}
		}
	}

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_ANNEXATION }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_defense_of_malaya
		}
		custom_effect_tooltip = generic_skip_one_line_tt

		336 = { #SINGAPORE
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}

			#Forts - Singapore
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 12299
			}

			#Forts - Kuala Lumpur
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 10297
			}

			#Naval Forts - Singapore
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 12299
			}

			#Naval Forts - Kuala Lumpur
			add_building_construction = {
				type = coastal_bunker
				level = 4
				instant_build = yes
				province = 10297
			}

			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}


		#Event to annex Malay
		if = { # MAL is independent -> Send event to them
			limit = {
				MAL = {
					exists = yes 
					controls_state = 336 #SINGAPORE
					OR = { #To avoid transferring states controlled by enemy, messing up the controller.
						has_war = no
						all_enemy_country = {
							has_war_with = ROOT	
						}
					}
					is_subject = no
					is_in_faction = no
					is_ai = yes #No point on sending an event to get annexed to a player, would be just clickbait
				}
				NOT = {
					has_war_with = MAL
					any_allied_country = { has_war_with = MAL }
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			MAL = { save_event_target_as = RAJ_annexing_country_target }
			MAL = { country_event = { id = GOE_RAJ_loyalist.07 hours = 8 random_hours = 4 } }
		}
		else_if = { # MAL is subject of an ally -> Send event to overlord
			limit = {
				is_ally_with = MAL.OVERLORD
				MAL = {
					is_ai = yes #Do not annex a player without they having a say
					exists = yes 
					controls_state = 336 #SINGAPORE
					OR = { #To avoid transferring states controlled by enemy, messing up the controller.
						has_war = no
						all_enemy_country = {
							has_war_with = ROOT	
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			MAL = { save_event_target_as = RAJ_annexing_country_target }
			var:MAL.OVERLORD = { country_event = { id = GOE_RAJ_loyalist.08 hours = 8 random_hours = 4 } }
		}
	}
}

focus = {
	id = RAJ_hill_training
	icon = GFX_focus_generic_hill_training
	prerequisite = { focus = RAJ_south_east_asia_command }
	
	x = 1
	y = 1
	relative_position_id = RAJ_south_east_asia_command 
	cost = 5

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
	random_army_leader = {
			limit = { #General/FM doesn't have a terrain trait already
				NOT = {
					has_trait = desert_fox
					has_trait = swamp_fox
					has_trait = trait_mountaineer
					has_trait = hill_fighter
					has_trait = jungle_rat
					has_trait = ranger
					has_trait = urban_assault_specialist
					has_trait = winter_specialist
				}
			}
			add_unit_leader_trait = hill_fighter
			add_skill_level = 1
			add_logistics = 1
			add_defense = 1
			add_planning = 1
		}
	}
}

focus = {
	id = RAJ_defense_of_burma
	icon = GFX_goal_generic_construct_military
	prerequisite = { focus = RAJ_jungle_training_GOE focus = RAJ_hill_training }
	
	x = 1
	y = 1
	relative_position_id = RAJ_jungle_training_GOE 
	cost = 10

	available = {
		995 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}

		998 = {
			controller = {
				OR = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
				has_full_control_of_state = PREV
			}
		}

		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [995.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 995 }
				#exclude = {  }
			}
		}

		custom_override_tooltip = {
			tooltip = {
				localization_key = generic_requires_divs_in_state_tt
				NUM_DIVISIONS = 0 #Needs to match "count" in num_divisions_in_states
				STATE = [998.GetName] #Needs to match "states" in num_divisions_in_states
			}
			num_divisions_in_states = {
				count > 0
				states = { 998 }
				#exclude = {  }
			}
		}
	}

	bypass = {
		995 = {
			controller = {
				NOT = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
			}
		}

		998 = {
			controller = {
				NOT = {
					original_tag = ROOT
					is_ally_with = ROOT
				}
			}
		}
	}

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY FOCUS_FILTER_ANNEXATION }

	completion_reward = {
		add_autonomy_score = {
			value = 150
			localization = RAJ_defense_of_burma
		}
		custom_effect_tooltip = generic_skip_one_line_tt

			####
		### PEGU (Rangoon) ###
			####
		995 = { #PEGU
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}

			#Forts - PEGU (Rangoon)
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 1330
			}

			#Forts - PEGU
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 12127
			}
	
			#Naval Base - Rangoon
			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province = 1330
			}
		}
			####
		### TENASSERIM (Pegu expanded effects) ###
			####
		if = {
			limit = {
				994 = {
					controller = {
						is_ally_with = ROOT
						OR = {
							controls_province = 4336
							controls_province = 4293
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			994 = {
				if = {
					limit = {
						controller = {
							controls_province = 4336
						}
					}
					#Forts - TENASSERIM (Southern province)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 4336
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 4293
						}
					}
					#Forts - TENASSERIM (Southern province)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 4293
					}
				}
			}

		}

		custom_effect_tooltip = generic_skip_one_line_tt
			####
		### SAGAING (Myitkyina) ###
			####
		998 = { #SAGAING
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}

			#Forts - SAGAING I (Border with Yunnan)
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 4318
			}
			#Forts - SAGAING II (Border with Yunnan)
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 4996
			}
			#Forts - SAGAING III (Border with Yunnan)
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 4425
			}
		}

			####
		### FEDERATED SHAN STATES (SAGAING expanded effects) ###
			####
		if = {
			limit = {
				999 = {
					controller = {
						is_ally_with = ROOT
						OR = {
							controls_province = 10920
							controls_province = 12363
							controls_province = 4210
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			999 = {
				if = {
					limit = {
						controller = {
							controls_province = 10920
						}
					}
					#Forts - FEDERATES SHAN STATES I (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 10920
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 12363
						}
					}
					#Forts - FEDERATES SHAN STATES II (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 12363
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 4210
						}
					}
					#Forts - FEDERATES SHAN STATES III (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 4210
					}
				}
			}
		}

			####
		### KENTUNG AND YAWNGHWE (SAGAING expanded effects) ###
			####
		if = {
			limit = {
				993 = {
					controller = {
						is_ally_with = ROOT
						OR = {
							controls_province = 7400
							controls_province = 7909
							controls_province = 7974
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			993 = {
				if = {
					limit = {
						controller = {
							controls_province = 7400
						}
					}
					#Forts - FEDERATES SHAN STATES I (Border with Yunnan & Vietnam)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 7400
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 7909
						}
					}
					#Forts - FEDERATES SHAN STATES II (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 7909
					}
				}
				if = {
					limit = {
						controller = {
							controls_province = 7974
						}
					}
					#Forts - FEDERATES SHAN STATES III (Border with Yunnan)
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 7974
					}
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		every_state = {
			limit = {
				OR = {
					state = 995
					state = 998
					AND = {
						state = 994
						controller = {
							is_ally_with = ROOT
						}
					}
					AND = {
						state = 999
						controller = {
							is_ally_with = ROOT
						}
					}
					AND = {
						state = 993
						controller = {
							is_ally_with = ROOT
						}
					}
				}
			}
			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}

		#Event to annex Burma
		if = { # BRM is independent -> Send event to them
			limit = {
				BRM = {
					exists = yes 
					controls_state = 995 # PEGU (Rangoon)
					controls_state = 998 # SAGAING (Myitkyina)
					OR = { #To avoid transferring states controlled by enemy, messing up the controller.
						has_war = no
						all_enemy_country = {
							has_war_with = ROOT	
						}
					}
					is_subject = no
					is_in_faction = no
					is_ai = yes #No point on sending an event to get annexed to a player, would be just clickbait
				}
				NOT = {
					has_war_with = BRM
					any_allied_country = { has_war_with = BRM }
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			BRM = { save_event_target_as = RAJ_annexing_country_target }
			BRM = { country_event = { id = GOE_RAJ_loyalist.77 hours = 8 random_hours = 4 } }
		}
		else_if = { # BRM is subject of an ally -> Send event to overlord
			limit = {
				is_ally_with = BRM.OVERLORD
				BRM = {
					is_ai = yes #Do not annex a player without they having a say
					exists = yes 
					controls_state = 995 # PEGU (Rangoon)
					controls_state = 998 # SAGAING (Myitkyina)
					OR = { #To avoid transferring states controlled by enemy, messing up the controller.
						has_war = no
						all_enemy_country = {
							has_war_with = ROOT	
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			BRM = { save_event_target_as = RAJ_annexing_country_target }
			var:BRM.OVERLORD = { country_event = { id = GOE_RAJ_loyalist.88 hours = 8 random_hours = 4 } }
		}
	}
}

focus = {
	id = RAJ_holding_the_gates_of_india
	icon = GFX_focus_SWE_hedgehog_defense
	prerequisite = { focus = RAJ_defense_of_burma }
	
	x = 0
	y = 1
	relative_position_id = RAJ_defense_of_burma 
	cost = 10

	available = {
		990 = { #MANIPUR (Imphal)
			state_is_fully_controlled_by_ROOT_or_subject = yes
		}
	}

	search_filters = { FOCUS_FILTER_MILITARY_CHARACTER }

	completion_reward = {
		990 = { #MANIPUR (Imphal)
			#Air base
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}

			#AA
			if = {
				limit = {
					ROOT = { has_tech = interwar_antiair }
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}

			#Forts - Imphal
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province =  {
					all_provinces = yes
				}
			}

			add_dynamic_modifier = {
				modifier = RAJ_fortified_position
				days = 365
			}
		}

			####
		### ARUNACHAL PRADESH (border with Burma) ###
			####
		if = {
			limit = {
				434 = { #ARUNACHAL PRADESH
					controller = {
						is_ally_with = ROOT
						controls_province = 1996
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			434 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 1996
				}

				add_dynamic_modifier = {
					modifier = RAJ_fortified_position
					days = 365
				}
			}
		}

			####
		### ASSAM (border with Burma) ###
			####
		if = {
			limit = {
				432 = { #ASSAM
					controller = {
						is_ally_with = ROOT
						OR = {
							controls_province = 1581
							controls_province = 10090
							controls_province = 997
						}
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			432 = { #ASSAM
				if = {
					limit = {
						controller = {
							controls_province = 1581
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = 1581
					}
				}

				if = {
					limit = {
						controller = {
							controls_province = 10090
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = 10090
					}
				}

				if = {
					limit = {
						controller = {
							controls_province = 997
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = 997
					}
				}

				add_dynamic_modifier = {
					modifier = RAJ_fortified_position
					days = 365
				}
			}
		}

			####
		### EAST BENGAL (Bangladesh - border with Burma) ###
			####
		if = {
			limit = {
				430 = { #EAST BENGAL (Bangladesh)
					controller = {
						is_ally_with = ROOT
						controls_province = 9991
					}
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			430 = {
				add_building_construction = {
					type = bunker
					level = 4
					instant_build = yes
					province = 9991
				}

				add_dynamic_modifier = {
					modifier = RAJ_fortified_position
					days = 365
				}
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		add_ace = {
			type = "fighter_good"
			name = "Dodla"
			surname = "Reddy"
			callsign = "Ranga" #Actual middle name
		}

		add_ace = {
			type = "support_good" #By WW2 he flew fighters but after hw was part of bomber squadrons, this gives some variety and hopefully more useful than strat. bomber
			name = "Chandra"
			surname = "Varma"
			callsign = "Bandy"
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = RAJ_loyalist_branch_capstone_focuses_become_free_tt
	}
}

focus = {
	id = RAJ_free_abyssinia
	icon = GFX_focus_generic_naval_invasion_tank
	prerequisite = { focus = RAJ_hill_training }
	
	x = 1
	y = 1
	relative_position_id = RAJ_hill_training 
	cost = 10

	available = {
		has_tech = marines
		992 = { #ADEN
			controller = {
				is_ally_with = ROOT
			}
		}
	}

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }

	completion_reward = {
		custom_effect_tooltip = RAJ_modify_south_east_asia_command_dm_tt
		add_to_variable = { RAJ_south_east_asia_command_dm_extra_marine_supply_grace = 48 tooltip = extra_marine_supply_grace_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_shore_bombardment_bonus = 0.2 tooltip = shore_bombardment_bonus_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_modifier_army_sub_unit_marine_attack_factor = 0.1 tooltip = modifier_army_sub_unit_marine_attack_factor_tt }
		add_to_variable = { RAJ_south_east_asia_command_dm_special_forces_cap = 0.1 tooltip = special_forces_cap_tt }
		custom_effect_tooltip = generic_skip_one_line_tt

		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			add_doctrine_cost_reduction = {
				name = RAJ_free_abyssinia
				cost_reduction = 0.75
				uses = 2
				category = cat_marines_doctrine
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		add_equipment_to_stockpile = { 
			type = convoy
			amount = 50 
			producer = ROOT
		}
		
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_template = "Marines" }
				}
				load_oob = "unlock_marines"
			}
		}

		division_template = {
			name = "Royal Marines"
			#template_counter = 33
			regiments = {
				marine = { x = 0 y = 0 }
				marine = { x = 0 y = 1 }
				marine = { x = 1 y = 0 }
				marine = { x = 1 y = 1 }
				marine = { x = 2 y = 0 }
				marine = { x = 2 y = 1 }
			}
			support = {
				engineer = { x = 0 y = 0 }
				recon = { x = 0 y = 1 }
				artillery = { x = 0 y = 2 }
			}
		}

		custom_effect_tooltip = generic_skip_one_line_tt

		992 = {
			create_unit = {
				division = "division_template = \"Royal Marines\" start_experience_factor = 0.7 start_equipment_factor = 1.0"
				owner = ROOT
				count = 3
			}
		}
	}


}       
